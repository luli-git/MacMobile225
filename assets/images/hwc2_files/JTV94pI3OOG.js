if (self.CavalryLogger) { CavalryLogger.start_js(["89B7e"]); }

__d("AdsAPIAdAssetLinkURLFields",[],(function(a,b,c,d,e,f){e.exports={ID:"id",WEBSITE_URL:"website_url",DISPLAY_URL:"display_url",ANDROID_DEEPLINK_URL:"android_deeplink_url",IPHONE_DEEPLINK_URL:"iphone_deeplink_url",IPAD_DEEPLINK_URL:"ipad_deeplink_url",IOS_DEEPLINK_URL:"ios_deeplink_url",DEEPLINK_URL:"deeplink_url",CAROUSEL_SEE_MORE_URL:"carousel_see_more_url",ADLABELS:"adlabels"}}),null);
__d("DefaultSettingsValues",[],(function(a,b,c,d,e,f){e.exports={ASSET_SECTION_TYPE:"OWNED",PANE:"CampaignGroupPane"}}),null);
__d("AdsAccountLastThirtyDaysSpendLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.LAST_THIRTY_DAYS_SPEND_LOAD_ERROR"}}),null);
__d("AdsAccountLastThirtyDaysSpendLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.LAST_THIRTY_DAYS_SPEND_LOADED"}}),null);
__d("AdsAccountTodaySpendLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.TODAY_SPEND_LOAD_ERROR"}}),null);
__d("AdsAccountTodaySpendLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.TODAY_SPEND_LOADED"}}),null);
__d("AdsAdgroupListBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADGROUP.LIST.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsAdgroupListBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADGROUP.LIST.BATCH_LOAD_ERROR"}}),null);
__d("AdsAdgroupListBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADGROUP.LIST.BATCH_LOADED");e.exports=a}),null);
__d("AdsAdgroupListBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADGROUP.LIST.BATCH_LOADED"}}),null);
__d("AdsAdgroupListLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADGROUP.LIST.LOAD_ERROR"}}),null);
__d("AdsCampaignListBatchLoadErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CAMPAIGN.LIST.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsCampaignListBatchLoadErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CAMPAIGN.LIST.BATCH_LOAD_ERROR"}}),null);
__d("AdsCampaignListBatchLoadedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CAMPAIGN.LIST.BATCH_LOADED");e.exports=a}),null);
__d("AdsCampaignListBatchLoadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CAMPAIGN.LIST.BATCH_LOADED"}}),null);
__d("AdsCanvasDynamicPreviewSelectBundleIndexReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.index}};e.exports=a}),null);
__d("AdsCanvasDynamicPreviewSelectedBundleIndexProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:0};e.exports=a}),null);
__d("AdsCanvasDynamicPreviewSelectedBundleIndexProvider",["Laminar","AdsCanvasDynamicPreviewSelectedBundleIndexProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCanvasDynamicPreviewSelectedBundleIndexProviderPlugin"),"AdsCanvasDynamicPreviewSelectedBundleIndexProviderPlugin")}),null);
__d("AdsCanvasDynamicPreviewSelectBundleIndexAction",["Laminar","AdsCanvasDynamicPreviewSelectBundleIndexReducerPlugin","AdsCanvasDynamicPreviewSelectedBundleIndexProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsCanvasDynamicPreviewSelectBundleIndexReducerPlugin"),b("AdsCanvasDynamicPreviewSelectedBundleIndexProvider"),{})]},function(){return[]},"AdsCanvasDynamicPreviewSelectBundleIndexActionPlugin");e.exports=a}),null);
__d("AdsCanvasInlineBuilderHideProductTaggingOverlayDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"HIDE_PRODUCT_TAGGING_OVERLAY"}}),null);
__d("AdsCanvasInlineBuilderRemoveInlineCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"REMOVE_INLINE_CANVAS_DATA"}}),null);
__d("AdsCanvasInlineBuilderShowInlineModalDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SHOW_INLINE_MODAL"}}),null);
__d("AdsCanvasInlineBuilderSwitchInlineTabsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SWITCH_INLINE_TABS"}}),null);
__d("AdsCanvasLoadDynamicCanvasAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CANVAS.LOAD_DYNAMIC_CANVAS");e.exports=a}),null);
__d("AdsCanvasPreviewDynamicPhotoInfoRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({height:0,source:"",width:0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasPreviewDynamicPhotoElementsDataLoader",["AdsCanvasPreviewDynamicPhotoInfoRecord","AsyncRequest","FBLogger","XCanvasPreviewDynamicPhotoElementsController"],(function(a,b,c,d,e,f){"use strict";a={getPreviewDynamicPhotoElement:function(a){a=b("XCanvasPreviewDynamicPhotoElementsController").getURIBuilder().setFBID("product_set_id",a.get("productSetID")).setStringKeyset("retailer_item_ids",a.get("retailerItemIDs").toJS()).setInt("limit",a.get("limit")).setFBID("destination_set_id",a.get("destinationSetID")).getURI();return new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).exec().then(function(a){a=a.getPayload().preview_dynamic_photo_element;return a?new(b("AdsCanvasPreviewDynamicPhotoInfoRecord"))(a):null},function(a){b("FBLogger")("AdsCanvasPreviewDynamicPhotoElementsDataLoader").catching(a.toError()).mustfix("Unable to retrieve preview dynamic photo element");return null})}};e.exports=a}),null);
__d("AdsCanvasPreviewDynamicPhotoElementProviderPlugin",["AdsCanvasPreviewDynamicPhotoElementsDataLoader","loadObjectMapProvider"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("loadObjectMapProvider").withSingleKeyLoader_USE_SPARINGLY(b("AdsCanvasPreviewDynamicPhotoElementsDataLoader").getPreviewDynamicPhotoElement)};e.exports=a}),null);
__d("AdsCanvasPreviewDynamicPhotoElementProvider",["Laminar","AdsCanvasPreviewDynamicPhotoElementProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCanvasPreviewDynamicPhotoElementProviderPlugin"),"AdsCanvasPreviewDynamicPhotoElementProviderPlugin")}),null);
__d("AdsCanvasPreviewProductItemInfoRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({itemDescription:null,itemHeadline:null,itemImageURL:""});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasPreviewProductElementsDataLoader",["AdsCanvasPreviewProductItemInfoRecord","AsyncRequest","FBLogger","XCanvasPreviewProductElementsController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getPreviewProductElements:function(a){__p&&__p();a=b("XCanvasPreviewProductElementsController").getURIBuilder().setFBID("product_set_id",a.get("productSetID")).setStringKeyset("retailer_item_ids",a.get("retailerItemIDs").toJS()).setString("item_description_template",a.get("itemDescriptionTemplate")).setString("item_headline_template",a.get("itemHeadlineTemplate")).setInt("limit",a.get("limit")).getURI();return new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).exec().then(function(a){a=a.getPayload().preview_product_elements;if(a&&Array.isArray(a)){var c=[];a.forEach(function(a){c.push(new(b("AdsCanvasPreviewProductItemInfoRecord"))(a))});return b("immutable").List(c)}return b("immutable").List()},function(a){b("FBLogger")("AdsCanvasPreviewProductElementsDataLoader").catching(a.toError()).mustfix("Unable to retrieve preview product elements");return b("immutable").List()})}};e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsProviderPlugin",["AdsCanvasPreviewProductElementsDataLoader","LoadObjectMap","immutable","mapSet","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){a(function(a){return a.merge(b("mapSet")(c,function(b){return[b,a.get(b).loading()]}))})}function h(a,b){a(function(a){return a.merge(b)})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){g(a,c),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,b("AdsCanvasPreviewProductElementsDataLoader").getPreviewProductElements),function(b){h(a,b)})})}};e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsProvider",["Laminar","AdsCanvasPreviewProductElementsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCanvasPreviewProductElementsProviderPlugin"),"AdsCanvasPreviewProductElementsProviderPlugin")}),null);
__d("AdsCanvasProductLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT.LOAD_ERROR");e.exports=a}),null);
__d("AdsCanvasProductLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT.LOAD_ERROR"}}),null);
__d("AdsCanvasProductLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsCanvasProductLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT.LOAD_SUCCESS"}}),null);
__d("AdsCanvasSelectCanvasAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CANVAS.SELECT_CANVAS");e.exports=a}),null);
__d("AdsCFCampaignGroupBuyingTypeChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CF.BUYING_TYPE_CHANGE"}}),null);
__d("AdsCFVideoEncodingSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CF.VIDEO_ENCODING_SUCCESS"}}),null);
__d("AdsCFVideoUploadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_CF.VIDEO_UPLOAD_ERROR");e.exports=a}),null);
__d("AdsCFVideoUploadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CF.VIDEO_UPLOAD_ERROR"}}),null);
__d("AdsCopyCopyCompletedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsCopy.COPY_COMPLETED"}}),null);
__d("AdsCreatePublishedFromCreationActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CREATE.PUBLISHED_FROM_CREATION"}}),null);
__d("AdsDeliveryGrowthCampaignGroupBudgetDefaultOnDataProviderPlugin",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={initialState:{couldDefaultOnLoadobj:b("LoadObject").loading(),defaultOnAccountType:"none",hasOptOut:!1}};e.exports=a}),null);
__d("AdsDeliveryGrowthCampaignGroupBudgetDefaultOnDataProvider",["Laminar","AdsDeliveryGrowthCampaignGroupBudgetDefaultOnDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsDeliveryGrowthCampaignGroupBudgetDefaultOnDataProviderPlugin"),"AdsDeliveryGrowthCampaignGroupBudgetDefaultOnDataProviderPlugin")}),null);
__d("AdsDLOSupportedPlacementStatus",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({ALL:"all",SOME:"some",NONE:"none"})}),null);
__d("AdsDLOAssetFeedDialogDataProviderPlugin",["AdsAPIAdgroupRecord","AdsAPICampaignGroupRecord","AdsAPICampaignRecord","AdsDLOSupportedPlacementStatus","immutable"],(function(a,b,c,d,e,f){"use strict";c=(a=b("immutable")).Record({acknowledgedUnsupportedPlacements:!1,autoTranslationCache:a.Map(),autoTranslationStatus:a.Map(),campaign:new(b("AdsAPICampaignRecord"))(),campaignGroup:new(b("AdsAPICampaignGroupRecord"))(),draftAdgroup:new(b("AdsAPIAdgroupRecord"))(),currentLanguage:null,isLanguageLabelChanged:!1,isShown:!1,languageToVCCUploadingIDs:a.Map(),languages:a.List(),languagesWithLiveValidation:a.List(),hasUnsavedChanges:!1,hideImageCropsNotice:!1,outdatedAutotranslatedLanguages:a.Map(),primaryLanguage:null,preAutotranslationCache:a.Map(),scrollToLanguage:null,showDefaultLanguageContent:!1,supportedPlacementStatus:b("AdsDLOSupportedPlacementStatus").ALL,headlineTranslationConfidence:0,messageTranslationConfidence:0,linkDescriptionTranslationConfidence:0});d={initialState:c({})};e.exports=d}),null);
__d("AdsDLOAssetFeedHideAllWarningModalsTriggerReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isShown?a:babelHelpers["extends"]({},a,{visibleWarningModal:null})}};e.exports=a}),null);
__d("AdsDLOAssetFeedWarningModalDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{visibleWarningModal:null,warningModalData:void 0}};e.exports=a}),null);
__d("AdsDLOAssetFeedWarningModalDataProvider",["Laminar","AdsDLOAssetFeedWarningModalDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsDLOAssetFeedWarningModalDataProviderPlugin"),"AdsDLOAssetFeedWarningModalDataProviderPlugin")}),null);
__d("AdsDLOAssetFeedDialogDataProvider",["Laminar","AdsDLOAssetFeedDialogDataProviderPlugin","AdsDLOAssetFeedHideAllWarningModalsTriggerReducerPlugin","AdsDLOAssetFeedWarningModalDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsDLOAssetFeedDialogDataProviderPlugin"),"AdsDLOAssetFeedDialogDataProviderPlugin",function(){return[b("Laminar").__createTriggerReducer(b("AdsDLOAssetFeedHideAllWarningModalsTriggerReducerPlugin"),"AdsDLOAssetFeedHideAllWarningModalsTriggerReducerPlugin",b("AdsDLOAssetFeedWarningModalDataProvider"))]})}),null);
__d("AdsDraftForceDraftSyncDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsDraft.DRAFT.FORCE_SYNC");e.exports=a}),null);
__d("AdsFullscreenExperienceRadioToggleDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"TOGGLE_FULLSCREEN_EXPERIENCE_RADIO_LIST"}}),null);
__d("AdsInstagramAccountBusinessBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.BUSINESS.BATCH_LOADED"}}),null);
__d("AdsInstagramAccountUsernameLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.USERNAME.LOAD_ERROR");e.exports=a}),null);
__d("AdsInstagramAccountUsernameLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.USERNAME.LOAD_ERROR"}}),null);
__d("AdsInstagramAccountUsernameLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.USERNAME.LOADED");e.exports=a}),null);
__d("AdsInstagramAccountUsernameLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.USERNAME.LOADED"}}),null);
__d("AdsLeadGenFormEditorClearValidationStoreAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLeadGenFormEditorActionTypes.CLEAR_VALIDATION_STORE");e.exports=a}),null);
__d("AdsLeadGenFormEditorClearViewStoreAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLeadGenFormEditorActionTypes.CLEAR_VIEW_STORE");e.exports=a}),null);
__d("AdsLeadGenFormEditorQuestionsSetInActiveQuestionIdAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLeadGenFormEditorActionTypes.QUESTIONS.SET_INACTIVE_QUESTION_ID");e.exports=a}),null);
__d("AdsLeadGenFormEditorSetFormIdAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLeadGenFormEditorActionTypes.SET_FORM_ID");e.exports=a}),null);
__d("AdsLeadGenFormEditorSetPageAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLeadGenFormEditorActionTypes.SET_PAGE");e.exports=a}),null);
__d("AdsPEExportDataPreloadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PowerEditor.EXPORT.DATA_PRELOADED"}}),null);
__d("AdsPEPaneUtils_LEGACY",["invariant","DefaultSettingsValues"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map([["AccountPane","ad_account"],["CreativesPane","unique_adcreative"],["AdPane","ad"],["CampPane","ad_set"],["CampaignGroupPane","campaign"],["GlobalTreePane","campaign"]]),i=new Map([["AccountPane","ACCOUNT"],["CreativesPane","CREATIVES"],["ConversionHealthPane","CONVERSION_HEALTH"],["AdPane","L1"],["CampPane","L2"],["CampaignGroupPane","L3"],["GlobalTreePane","GLOBAL_TREE"],["ReportingPane","VIEW_REPORT"],["ManageReportsPane","MANAGE_REPORTS"],["BusinessViewReportPane","BUSINESS_VIEW_REPORT"],["TestAndLearn","TEST_AND_LEARN"],["OpportunitiesPane","OPPORTUNITIES"],["EmbedL4ViewReportPane","EMBED_L4_VIEW_REPORT"],["EmbedL4ManageReportsPane","EMBED_L4_MANAGE_REPORTS"],["LigthweightAttributionPane","LIGHTWEIGHT_ATTRIBUTION"]]),j=(a={},a.VIEW_REPORT="ReportingPane",a.BUSINESS_VIEW_REPORT="BusinessViewReportPane",a),k={getDefaultPane:function(){return b("DefaultSettingsValues").PANE},getLevelFromPane:function(a){return h.get(a)},getNavStateFromPane:function(a){__p&&__p();switch(a){case"AccountPane":case"CreativesPane":case"ConversionHealthPane":case"AdPane":case"CampPane":case"CampaignGroupPane":case"GlobalTreePane":case"TestAndLearn":case"OpportunitiesPane":case"EmbedL4ViewReportPane":case"EmbedL4ManageReportsPane":case"LigthweightAttributionPane":return{tool:"MANAGE_ADS",section:i.get(a)};case"AudiencePane":return{tool:"AUDIENCES"};case"ContractPane":return{tool:"CONTRACTS"};case"ImagePane":return{tool:"IMAGES"};case"ManageReportsPane":case"ReportingPane":case"BusinessViewReportPane":return{tool:"REPORTING",section:i.get(a)};case"PostPane":return{tool:"PAGES"};case"RulesPane":return{tool:"RULES"};case"ScriptsPane":return{tool:"SCRIPTS"};case"VolumePane":return{tool:"MANAGE_ADS_VOLUME"};case"CreationPane":return{tool:"CREATION"}}g(0,2273,a)},getPaneFromNavState:function(a){__p&&__p();var b=a.tool;a=a.section;switch(b){case"MANAGE_ADS":a||(a="L3");return k._getPaneFromSection(a);case"AUDIENCES":return"AudiencePane";case"CONTRACTS":return"ContractPane";case"IMAGES":return"ImagePane";case"PAGES":return"PostPane";case"REPORTING":b=a&&j[a];return b||"ManageReportsPane";case"RULES":return"RulesPane";case"SCRIPTS":return"ScriptsPane";case"MANAGE_ADS_VOLUME":return"VolumePane";case"CREATION":return"CreationPane";default:g(0,2274)}},_getPaneFromSection:function(a){__p&&__p();switch(a){case"OPPORTUNITIES":return"OpportunitiesPane";case"GLOBAL_TREE":return"GlobalTreePane";case"L1":return"AdPane";case"L2":return"CampPane";case"ACCOUNT":return"AccountPane";case"CREATIVES":return"CreativesPane";case"CONVERSION_HEALTH":return"ConversionHealthPane";case"TEST_AND_LEARN":return"TestAndLearn";case"EMBED_L4_MANAGE_REPORTS":return"EmbedL4ManageReportsPane";case"EMBED_L4_VIEW_REPORT":return"EmbedL4ViewReportPane";case"LIGHTWEIGHT_ATTRIBUTION":return"LigthweightAttributionPane";default:return"CampaignGroupPane"}},isValidPane:function(a){return a!=="RulesPane"}};e.exports=k}),null);
__d("AdsPENavigationProviderPlugin",["AdsPEPaneUtils_LEGACY"],(function(a,b,c,d,e,f){"use strict";a={initialState:{currentPane:b("AdsPEPaneUtils_LEGACY").getDefaultPane(),isFirstPage:!0}};e.exports=a}),null);
__d("AdsRBManageReportsSelectedReportIDsProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:new Set()};e.exports=a}),null);
__d("AdsRBManageReportsSelectedReportIDsProvider",["Laminar","AdsRBManageReportsSelectedReportIDsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsRBManageReportsSelectedReportIDsProviderPlugin"),"AdsRBManageReportsSelectedReportIDsProviderPlugin")}),null);
__d("AdsRBManageReportsSelectedReportIDsTriggerReducerPlugin",["AdsPEPaneUtils_LEGACY"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){c=b("AdsPEPaneUtils_LEGACY").getNavStateFromPane(c.currentPane);c=c.section;c=c==="MANAGE_REPORTS"||c==="EMBED_L4_MANAGE_REPORTS";return c?a:new Set()}};e.exports=a}),null);
__d("AdsPENavigationProvider",["Laminar","AdsPENavigationProviderPlugin","AdsRBManageReportsSelectedReportIDsTriggerReducerPlugin","AdsRBManageReportsSelectedReportIDsProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsPENavigationProviderPlugin"),"AdsPENavigationProviderPlugin",function(){return[b("Laminar").__createTriggerReducer(b("AdsRBManageReportsSelectedReportIDsTriggerReducerPlugin"),"AdsRBManageReportsSelectedReportIDsTriggerReducerPlugin",b("AdsRBManageReportsSelectedReportIDsProvider"))]})}),null);
__d("AdsProductItemBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_ITEM.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsProductItemBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_ITEM.BATCH_LOAD_ERROR"}}),null);
__d("AdsProductItemBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_ITEM.BATCH_LOADED");e.exports=a}),null);
__d("AdsProductItemBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_ITEM.BATCH_LOADED"}}),null);
__d("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_ERROR");e.exports=a}),null);
__d("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_SUCCESS");e.exports=a}),null);
__d("AdsRichMediaEditorLoadPageLocationsErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.LOAD_PAGE_LOCATIONS_ERROR");e.exports=a}),null);
__d("AdsRichMediaEditorLoadPageLocationsSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.LOAD_PAGE_LOCATIONS_SUCCESS");e.exports=a}),null);
__d("AdsRichMediaEditorLoadPageLocationsSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.LOAD_PAGE_LOCATIONS_SUCCESS"}}),null);
__d("AdsSimpleTipProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("immutable").Map()};e.exports=a}),null);
__d("AdsSimpleTipProvider",["Laminar","AdsSimpleTipProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsSimpleTipProviderPlugin"),"AdsSimpleTipProviderPlugin")}),null);
__d("AdsSimpleTipShowTipDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.tip,(a=b.data)!=null?a:{})}};e.exports=a}),null);
__d("AdsSimpleTipShowTipDataAction",["Laminar","AdsSimpleTipShowTipDataReducerPlugin","AdsSimpleTipProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsSimpleTipShowTipDataReducerPlugin"),b("AdsSimpleTipProvider"),{})]},function(){return[]},"SHOW_TIP");e.exports=a}),null);
__d("AdsSlideshowAnimotoVideoFinalizedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ANIMOTO_VIDEO_FINALIZED"}}),null);
__d("AdsSlideshowAnimotoVideoUploadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ANIMOTO_VIDEO_UPLOAD"}}),null);
__d("AdsSlideshowAttachToVideoErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ATTACH_TO_VIDEO_ERROR"}}),null);
__d("AdsSlideshowCloseSlideshowDialogActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CLOSE_SLIDESHOW_DIALOG"}}),null);
__d("AdsSlideshowDurationChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DURATION_CHANGE"}}),null);
__d("AdsSlideshowFormatChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"FORMAT_CHANGE"}}),null);
__d("AdsSlideshowFrameImagesFailureDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"FRAME_IMAGES_FAILURE"}}),null);
__d("AdsSlideshowImagesSelectConfirmDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGES_SELECT_CONFIRM"}}),null);
__d("AdsSlideshowLengthChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"LENGTH_CHANGE"}}),null);
__d("AdsSlideshowMusicVariationsOptInChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"MUSIC_VARIATIONS_OPT_IN_CHANGE"}}),null);
__d("AdsSlideshowOpenSlideshowDialogActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"OPEN_SLIDESHOW_DIALOG"}}),null);
__d("AdsSlideshowRemoveCancelledSlideshowUploadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"REMOVE_CANCELLED_SLIDESHOW_UPLOAD"}}),null);
__d("AdsSlideshowReorderingOptInChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"REORDERING_OPT_IN_CHANGE"}}),null);
__d("AdsSlideshowRestoreSlideshowStateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RESTORE_SLIDESHOW_STATE"}}),null);
__d("AdsSlideshowSaveSlideshowStateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SAVE_SLIDESHOW_STATE"}}),null);
__d("AdsSlideshowSelectTabDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SELECT_TAB"}}),null);
__d("AdsSlideshowSetEntrypointDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SET_ENTRYPOINT"}}),null);
__d("AdsSlideshowSetSelectedVideoIDDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SET_SELECTED_VIDEO_ID"}}),null);
__d("AdsSlideshowShakrAccessTokenLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SHAKR_ACCESS_TOKEN_LOADED");e.exports=a}),null);
__d("AdsSlideshowShakrAccessTokenLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SHAKR_ACCESS_TOKEN_LOADED"}}),null);
__d("AdsSlideshowShakrGetAccessTokenDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SHAKR_GET_ACCESS_TOKEN"}}),null);
__d("AdsSlideshowShakrPollResponseReceivedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SHAKR_POLL_RESPONSE_RECEIVED");e.exports=a}),null);
__d("AdsSlideshowShakrStartPollingDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SHAKR_START_POLLING");e.exports=a}),null);
__d("AdsSlideshowShakrStartPollingDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SHAKR_START_POLLING"}}),null);
__d("AdsSlideshowToggleAnimotoDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"TOGGLE_ANIMOTO_DIALOG"}}),null);
__d("AdsSlideshowToggleImageDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"TOGGLE_IMAGE_DIALOG"}}),null);
__d("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"TOGGLE_SLIDESHOW_THIRDPARTY_CANCEL_DIALOG");e.exports=a}),null);
__d("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"TOGGLE_SLIDESHOW_THIRDPARTY_CANCEL_DIALOG"}}),null);
__d("AdsSlideshowTransitionChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"TRANSITION_CHANGE"}}),null);
__d("AdsTemplateVideoContentDataProviderPlugin",["Promise","AsyncRequest","FBLogger","LoadObjectMap","XAdsDynamicAdsTemplateVideoContentPreviewController","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return new(b("Promise"))(function(c,d){var e=b("XAdsDynamicAdsTemplateVideoContentPreviewController").getURIBuilder().setFBID("product_set_id",a.product_set_id).setFBID("template_id",a.template_id).setStringToStringMap("customization",a.customization).getURI();new(b("AsyncRequest"))().setURI(e).setMethod("GET").setReadOnly(!0).setPayloadHandler(c).setErrorHandler(function(a){a=a.toError();b("FBLogger")("dpa").catching(a).warn("Got error while trying to load template video preview");d(a)}).send()})}a={initialState:function(a){return b("LoadObjectMap").createKeyed(function(c){a(function(a){return a.merge(Array.from(c).map(function(b){return[b,a.get(b).loading()]}))}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,g),function(b){return a(function(a){return a.merge(b)})})},function(a){return JSON.stringify(a)})}};e.exports=a}),null);
__d("AdsTemplateVideoContentDataProvider",["Laminar","AdsTemplateVideoContentDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsTemplateVideoContentDataProviderPlugin"),"AdsTemplateVideoContentDataProviderPlugin")}),null);
__d("AdsUEditorAdgroupSaveLanguageTranslationsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_SAVE_LANGUAGE_TRANSLATIONS"}}),null);
__d("AdsUEditorAdgroupSetLeadGenFormIDDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_UEDITOR_ADGROUP_SET_LEAD_GEN_FORM_ID"}}),null);
__d("AdsUEditorCampaignGroupSetRFObjectiveActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_GROUP_SET_RF_OBJECTIVE"}}),null);
__d("AdsUEditorCampaignGroupSetRegulatedCategoryActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_GROUP_EDITOR_SET_REGULATED_CATEGORY"}}),null);
__d("AdsUEditorCampaignReachFrequencyFlowSetPredictionIdActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsReachFrequencyFlow.SET_PREDICTION_ID"}}),null);
__d("BundleFolderBundlesDataLoader",["AdsGraphAPI","immutable"],(function(a,b,c,d,e,f){"use strict";var g=["id","name"];a={get:function(a){return b("AdsGraphAPI").get(e.id).object("dynamic_item_display_bundle_folder",a).edge("bundles").batched().get({fields:g}).then(function(a){a=a.data;return b("immutable").List(a)})}};e.exports=a}),null);
__d("BundleFolderBundlesProviderPlugin",["BundleFolderBundlesDataLoader","immutable","loadObjectMapProvider"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("loadObjectMapProvider").withSingleKeyLoader_USE_SPARINGLY(b("BundleFolderBundlesDataLoader").get)};e.exports=a}),null);
__d("BundleFolderBundlesProvider",["Laminar","BundleFolderBundlesProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("BundleFolderBundlesProviderPlugin"),"BundleFolderBundlesProviderPlugin")}),null);
__d("ProductSetDefaultCategoriesLoadedReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(b.defaultCategoriesMap)}};e.exports=a}),null);
__d("ProductSetDefaultCategoriesLoadedAction",["Laminar","ProductSetDefaultCategoriesLoadedReducerPlugin","ProductSetDefaultCategoriesProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("ProductSetDefaultCategoriesLoadedReducerPlugin"),b("ProductSetDefaultCategoriesProvider"),{})]},function(){return[]},"ProductSetDefaultCategoriesLoadedActionPlugin");e.exports=a}),null);
__d("ProductSetDefaultCategoriesLoadingReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(Array.from(b.ids).map(function(c){return[c,a.get(c).setOperation(b.operation)]}))}};e.exports=a}),null);
__d("ProductSetDefaultCategoriesLoadingAction",["Laminar","ProductSetDefaultCategoriesLoadingReducerPlugin","ProductSetDefaultCategoriesProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("ProductSetDefaultCategoriesLoadingReducerPlugin"),b("ProductSetDefaultCategoriesProvider"),{})]},function(){return[]},"ProductSetDefaultCategoriesLoadingActionPlugin");e.exports=a}),null);
__d("ProductSetDefaultCategoriesProvider",["Laminar","ProductSetDefaultCategoriesProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("ProductSetDefaultCategoriesProviderPlugin"),"ProductSetDefaultCategoriesProviderPlugin")}),null);
__d("ProductSetDefaultCategoriesProviderPlugin",["LoadObjectMap","LoadObjectOperations","ProductSetDefaultCategoriesAPIClient","ProductSetDefaultCategoriesLoadedAction","ProductSetDefaultCategoriesLoadingAction","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(a){b("ProductSetDefaultCategoriesLoadingAction").dispatch({ids:a,operation:b("LoadObjectOperations").LOADING},{line:"29",module:"ProductSetDefaultCategoriesProviderPlugin.js"}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(a,b("ProductSetDefaultCategoriesAPIClient").load),function(a){b("ProductSetDefaultCategoriesLoadedAction").dispatch({defaultCategoriesMap:a},{line:"40",module:"ProductSetDefaultCategoriesProviderPlugin.js"})})})}};e.exports=a}),null);
__d("ProductsProductSetCountsBatchLoadErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ProductCatalog.PRODUCT_SET_COUNTS.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("ProductsProductSetCountsBatchLoadErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ProductCatalog.PRODUCT_SET_COUNTS.BATCH_LOAD_ERROR"}}),null);
__d("ProductsProductSetCountsBatchLoadedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ProductCatalog.PRODUCT_SET_COUNTS.BATCH_LOADED");e.exports=a}),null);
__d("ProductsProductSetCountsBatchLoadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ProductCatalog.PRODUCT_SET_COUNTS.BATCH_LOADED"}}),null);
__d("ProductsProductSetCountsReloadAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ProductCatalog.PRODUCT_SET_COUNTS.RELOAD");e.exports=a}),null);
__d("ProductsProductSetCountsReloadActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ProductCatalog.PRODUCT_SET_COUNTS.RELOAD"}}),null);
__d("ProductsTimeLoggingLogAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ProductCatalog.TIME_LOGGING.LOG");e.exports=a}),null);
__d("ProductsTimeLoggingSetAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ProductCatalog.TIME_LOGGING.SET");e.exports=a}),null);
__d("AdsCanvasPageDataLoader",["AdsCanvasConstants","AdsGraphAPI","GraphAPIFieldUtils","GraphSort"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["cover","id","name","hours","location","picture"];a=function(){function a(){}var c=a.prototype;c.getPageWithLocations=function(a){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:[].concat(g,[b("GraphAPIFieldUtils").getFieldWithSubfields("locations.limit(10)",g)])})};c.getPageCanvasInfo=function(a){return b("AdsGraphAPI").get(e.id).object("page",a).edge("rich_media_documents").get({fields:["id","name","is_published","update_time"],limit:b("AdsCanvasConstants").ADS_CANVAS_LIBRARY_DOC_MAX,sort:"date"+b("GraphSort").DESC,summary:!0})};return a}();e.exports=new a()}),null);
__d("AdsCanvasPageDataDispatcher",["AdsCanvasPageDataLoader","AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction","AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction","AdsRichMediaEditorLoadPageLocationsErrorDataAction","AdsRichMediaEditorLoadPageLocationsSuccessDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.getPageWithLocations=function(a){b("promiseDone")(b("AdsCanvasPageDataLoader").getPageWithLocations(a),function(a){b("AdsRichMediaEditorLoadPageLocationsSuccessDataAction").dispatch({page:a},{line:"28",module:"AdsCanvasPageDataDispatcher.js"})},function(c){b("AdsRichMediaEditorLoadPageLocationsErrorDataAction").dispatch({pageID:a,error:c},{line:"33",module:"AdsCanvasPageDataDispatcher.js"})})};c.getPageCanvasInfo=function(a){b("promiseDone")(b("AdsCanvasPageDataLoader").getPageCanvasInfo(a),function(c){c=c.data;b("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction").dispatch({pageID:a,pageCanvasBasicInfo:c},{line:"46",module:"AdsCanvasPageDataDispatcher.js"})},function(c){b("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction").dispatch({pageID:a,error:c},{line:"54",module:"AdsCanvasPageDataDispatcher.js"})})};return a}();e.exports=new a()}),null);
__d("GraphMediaTitleNodeFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ID:"id",APPLINKS:"applinks",AUGMENTED_REALITIES_METADATA:"augmented_realities_metadata",CAPABILITIES:"capabilities",CAPABILITIES_DISABLED_BY_USER:"capabilities_disabled_by_user",CAPABILITIES_RENDERING_CATALOG_MANAGER:"capabilities_rendering_catalog_manager",CATALOG_ITEM_OVERRIDES:"catalog_item_overrides",CATEGORY_SPECIFIC_FIELDS:"category_specific_fields",CONTENT_CATEGORY:"content_category",CONTENT_COUNTRIES:"content_countries",CONTENT_LOCALE:"content_locale",CREW:"crew",CURRENCY:"currency",DESCRIPTION:"description",EPISODE:"episode",FB_PAGE_ALIAS:"fb_page_alias",FB_PAGE_ID:"fb_page_id",GENRES:"genres",IMAGES:"images",INSTAGRAM_USERNAME:"instagram_username",MEDIA_SOURCE:"media_source",MEDIA_TITLE_ID:"media_title_id",MPAA_RATING:"mpaa_rating",PERFORMERS:"performers",PRICE:"price",RELEASE_DATE:"release_date",SANITIZED_IMAGES:"sanitized_images",SEASON:"season",SIMILAR_TITLES:"similar_titles",SUBTITLE_LOCALE:"subtitle_locale",TITLE:"title",URL:"url",VIDEOS_METADATA:"videos_metadata",VIEW_COUNT_EIGHTY_FOUR_DAYS:"view_count_eighty_four_days",VIEW_COUNT_FOURTEEN_DAYS:"view_count_fourteen_days",VIEW_COUNT_ONE_DAY:"view_count_one_day",VIEW_COUNT_SEVEN_DAYS:"view_count_seven_days",VIEW_COUNT_TWENTY_EIGHT_DAYS:"view_count_twenty_eight_days",WIKI_DATA_ITEM:"wiki_data_item",WIKIPEDIA_URL:"wikipedia_url"})}),null);
__d("AdsCanvasProductDataLoader",["AdsGraphAPI","GraphMediaTitleNodeFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["id","image_cdn_urls","image_url","name","price"],h=["id","images","flight_id","price"],i=["id","images","lowest_base_price","name"],j=["id","images","title","price"],k=[(a=b("GraphMediaTitleNodeFields")).ID,a.IMAGES,a.TITLE,a.PRICE];c=function(){__p&&__p();function a(){}var c=a.prototype;c.getCommerceProduct=function(a){return b("AdsGraphAPI").get(e.id).object("product_item",a).get({fields:g})};c.getFlightProduct=function(a){return b("AdsGraphAPI").get(e.id).object("flight",a).get({fields:h})};c.getHotelProduct=function(a){return b("AdsGraphAPI").get(e.id).object("hotel",a).get({fields:i})};c.getVehicleProduct=function(a){return b("AdsGraphAPI").get(e.id).object("vehicle",a).get({fields:j})};c.getMediaTitleProduct=function(a){return b("AdsGraphAPI").get(e.id).object("media_title",a).get({fields:k})};return a}();e.exports=new c()}),null);
__d("AdsCanvasProductDataDispatcher",["AdsCanvasProductDataLoader","AdsCanvasProductLoadErrorDataAction","AdsCanvasProductLoadSuccessDataAction","CatalogVertical","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.getProduct=function(a){b("promiseDone")(b("AdsCanvasProductDataLoader").getCommerceProduct(a),function(a){var c;a.image_url!=null&&a.image_url!==""?c=a.image_url:a.image_cdn_urls.length>0?c=a.image_cdn_urls[0].value:c="/images/ads/rich_media/photo_placeholder.png";c={id:a.id,imgSource:c,name:a.name,price:a.price,catalogVertical:b("CatalogVertical").COMMERCE};b("AdsCanvasProductLoadSuccessDataAction").dispatch({product:c},{line:"48",module:"AdsCanvasProductDataDispatcher.js"})},function(c){b("AdsCanvasProductLoadErrorDataAction").dispatch({productID:a,catalogVertical:b("CatalogVertical").COMMERCE,error:c},{line:"53",module:"AdsCanvasProductDataDispatcher.js"})})};c.getFlight=function(a){var c=this;b("promiseDone")(b("AdsCanvasProductDataLoader").getFlightProduct(a),function(a){c.$1(a.id,a.images,a.name,a.price,b("CatalogVertical").FLIGHTS)},function(c){b("AdsCanvasProductLoadErrorDataAction").dispatch({flightID:a,catalogVertical:b("CatalogVertical").FLIGHTS,error:c},{line:"75",module:"AdsCanvasProductDataDispatcher.js"})})};c.getHotel=function(a){var c=this;b("promiseDone")(b("AdsCanvasProductDataLoader").getHotelProduct(a),function(a){c.$1(a.id,a.images,a.name,a.lowest_base_price,b("CatalogVertical").HOTELS)},function(c){b("AdsCanvasProductLoadErrorDataAction").dispatch({hotelID:a,catalogVertical:b("CatalogVertical").HOTELS,error:c},{line:"97",module:"AdsCanvasProductDataDispatcher.js"})})};c.getVehicle=function(a){var c=this;b("promiseDone")(b("AdsCanvasProductDataLoader").getVehicleProduct(a),function(a){c.$1(a.id,a.images,a.title,a.price,b("CatalogVertical").VEHICLES)},function(c){b("AdsCanvasProductLoadErrorDataAction").dispatch({vehicleID:a,catalogVertical:b("CatalogVertical").VEHICLES,error:c},{line:"119",module:"AdsCanvasProductDataDispatcher.js"})})};c.getMediaTitle=function(a){var c=this;b("promiseDone")(b("AdsCanvasProductDataLoader").getMediaTitleProduct(a),function(a){c.$1(a.id,a.images,a.title,a.price,b("CatalogVertical").MEDIA_TITLES)},function(c){b("AdsCanvasProductLoadErrorDataAction").dispatch({mediaTitleID:a,catalogVertical:b("CatalogVertical").MEDIA_TITLES,error:c},{line:"141",module:"AdsCanvasProductDataDispatcher.js"})})};c.$1=function(a,c,d,e,f){var g="/images/ads/common/place_holder_image_600x600.png";c instanceof Array&&c.length>0&&JSON.parse(c[0])&&JSON.parse(c[0]).url&&(g=JSON.parse(c[0]).url);c={id:a,imgSource:g,name:d,price:e,catalogVertical:f};b("AdsCanvasProductLoadSuccessDataAction").dispatch({product:c},{line:"173",module:"AdsCanvasProductDataDispatcher.js"})};return a}();e.exports=new a()}),null);
__d("adsCanvasCurrentDocumentElementsSelector",["AdsCanvasElementStore","LoadObject","adsCanvasCurrentDocumentSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List;a=b("adsCreateStoreSelector")([].concat(b("adsCanvasCurrentDocumentSelector").getStores(),[b("AdsCanvasElementStore")]),function(){var a=b("adsCanvasCurrentDocumentSelector")();if(!a.hasValue())return g([b("LoadObject").loading()]);a=a.getValueEnforcing();return a.get("elements").map(function(a){return b("AdsCanvasElementStore").get(a.id)})},e.id+".selector");e.exports=a}),null);
__d("adsCanvasElementSelector",["AdsCanvasElementStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCanvasElementStore")],function(a){return b("AdsCanvasElementStore").get(a)},e.id+".selector");e.exports=a}),null);
__d("adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector",["invariant","AdsCanvasPhotoElement","adsCanvasElementSelector","adsCreateStoreSelector","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("adsCreateStoreSelector")([].concat(b("adsCanvasElementSelector").getStores()),function(a){__p&&__p();var c=a.photoElementID,d=a.productID;a=b("adsCanvasElementSelector")(c);if(!a.hasValue())return{isReady:!1};c=a.getValueEnforcing();c instanceof b("AdsCanvasPhotoElement")||g(0,596);c.productTags!=null||g(0,2931);a=b("nullthrows")(c.productTags).find(function(a){return a.productID===d});a!=null||g(0,2834);return{isReady:!0,actived:a.coordinates!=null}},e.id);e.exports=a}),null);
__d("AdsFullscreenExperienceRadioTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({CANVAS:!0,PLAYABLE:!0})}),null);
__d("AdsCanvasInlineUIRecord",["AdsFullscreenExperienceRadioTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({canvasID:"",inlineTab:"create",fullscreenExperience:b("AdsFullscreenExperienceRadioTypes").CANVAS,productTaggingOverlayPhotoElementID:void 0,productTaggingOverlayProductID:null,showInlineModal:!1,templateID:void 0,suggestedTabInteracted:!1,sourceFormID:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasInlineUIStore",["AdsCanvasElementUpdateDataActionFlux","AdsCanvasInlineBuilderHideProductTaggingOverlayDataActionFlux","AdsCanvasInlineBuilderRemoveInlineCanvasDataActionFlux","AdsCanvasInlineBuilderShowInlineModalDataActionFlux","AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux","AdsCanvasInlineBuilderSwitchInlineTabsDataActionFlux","AdsCanvasInlineUIRecord","AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux","AdsCFVideoMediaTypeSelectedDataActionFlux","AdsDataAtom","AdsFullscreenExperienceRadioToggleDataActionFlux","AdsFullscreenExperienceRadioTypes","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","FluxReduceStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("AdsCanvasInlineUIRecord"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.getShowInlineModal=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().get("showInlineModal")},e.id),d.getCanvasID=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().get("canvasID")},e.id),d.getInlineTab=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().get("inlineTab")},e.id),d.getTemplateID=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().get("templateID")},e.id),d.getSuggestedTabInteracted=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().get("suggestedTabInteracted")},e.id),d.getSourceFormID=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().get("sourceFormID")},e.id),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return new g()};d.__getActionTypes=function(){return[b("AdsCFVideoMediaTypeSelectedDataActionFlux").actionType,b("AdsCanvasElementUpdateDataActionFlux").actionType,b("AdsCanvasInlineBuilderHideProductTaggingOverlayDataActionFlux").actionType,b("AdsCanvasInlineBuilderRemoveInlineCanvasDataActionFlux").actionType,b("AdsCanvasInlineBuilderShowInlineModalDataActionFlux").actionType,b("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux").actionType,b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType,b("AdsCanvasInlineBuilderSwitchInlineTabsDataActionFlux").actionType,b("AdsFullscreenExperienceRadioToggleDataActionFlux").actionType,b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType]};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsCanvasInlineBuilderRemoveInlineCanvasDataActionFlux").actionType:return a.set("canvasID",null).set("templateID",null);case b("AdsCanvasInlineBuilderShowInlineModalDataActionFlux").actionType:return a.set("showInlineModal",c.showModal).set("canvasID",c.canvasID).set("templateID",c.templateID).set("suggestedTabInteracted",!0).set("sourceFormID",c.sourceFormID);case b("AdsCanvasInlineBuilderSwitchInlineTabsDataActionFlux").actionType:return a.set("inlineTab",c.tab).set("suggestedTabInteracted",c.isUserInteracted);case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:return a.set("showInlineModal",!1);case b("AdsCanvasElementUpdateDataActionFlux").actionType:var d=c.elementID,e=c.canvasElement;return d===a.get("productTaggingOverlayPhotoElementID")&&e.get("productTags")!=null&&e.get("productTags").size===0?a.set("productTaggingOverlayPhotoElementID",null).set("productTaggingOverlayProductID",null):a;case b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType:return a.set("productTaggingOverlayPhotoElementID",c.photoElementID).set("productTaggingOverlayProductID",c.productID);case b("AdsCanvasInlineBuilderHideProductTaggingOverlayDataActionFlux").actionType:case b("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux").actionType:return a.set("productTaggingOverlayPhotoElementID",null).set("productTaggingOverlayProductID",null);case b("AdsFullscreenExperienceRadioToggleDataActionFlux").actionType:return a.set("fullscreenExperience",c.selectedOption);case b("AdsCFVideoMediaTypeSelectedDataActionFlux").actionType:return a.set("fullscreenExperience",b("AdsFullscreenExperienceRadioTypes").CANVAS);default:return a}};d.getFullscreenExperience=function(){return this.getState().get("fullscreenExperience")};d.getProductTaggingOverlayPhotoElementID=function(){return this.getState().get("productTaggingOverlayPhotoElementID")};d.getProductTaggingOverlayProductID=function(){return this.getState().get("productTaggingOverlayProductID")};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsCanvasEditorProductTaggingUIStateSelector",["AdsCanvasInlineUIStore","adsCreateStoreSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCanvasInlineUIStore")],function(a){var c=b("AdsCanvasInlineUIStore").getProductTaggingOverlayPhotoElementID();return c!==a?{shown:!1}:{shown:!0,productID:b("nullthrows")(b("AdsCanvasInlineUIStore").getProductTaggingOverlayProductID())}},e.id);e.exports=a}),null);
__d("adsCanvasLastElementSelector",["AdsCanvasElementStore","adsCanvasCurrentDocumentSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([].concat(b("adsCanvasCurrentDocumentSelector").getStores(),[b("AdsCanvasElementStore")]),function(){var a=b("adsCanvasCurrentDocumentSelector")();if(!a.hasValue())return null;a=a.getValueEnforcing();a=a.get("elements").last();return a?b("AdsCanvasElementStore").get(a.id):null},e.id+".selector");e.exports=a}),null);
__d("AdsCanvasPageCanvasLocationStore",["AdsCanvasPageDataDispatcher","AdsDataAtom","AdsRichMediaEditorLoadPageLocationsSuccessDataActionFlux","FluxLoadObjectStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("AdsRichMediaEditorLoadPageLocationsSuccessDataActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsRichMediaEditorLoadPageLocationsSuccessDataActionFlux").actionType:c=c.page;return this.__handleOne(a,c.id,c);default:return a}};d.__load=function(a){b("AdsCanvasPageDataDispatcher").getPageWithLocations(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsCanvasPageSelector",["AdsCanvasPageCanvasLocationStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCanvasPageCanvasLocationStore")],function(a){return b("AdsCanvasPageCanvasLocationStore").get(a)},e.id+".selector");e.exports=a}),null);
__d("adsCanvasDynamicProductSetElementSelector",["AdsCanvasDynamicProductSetElement","adsCanvasCurrentDocumentElementsSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentElementsSelector")],function(a){if(a.some(function(a){return!a.hasValue()}))return null;a=a.map(function(a){return a.getValueEnforcing()});return a.find(function(a){return a instanceof b("AdsCanvasDynamicProductSetElement")})},{name:e.id});e.exports=a}),null);
__d("adsCanvasBundleFolderBundlesSelector",["BundleFolderBundlesProvider","LoadObject","adsCanvasDynamicProductSetElementSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasDynamicProductSetElementSelector"),b("BundleFolderBundlesProvider").toFluxSelector()],function(a,c){a=a==null?void 0:a.bundleFolderID;return a==null?b("LoadObject").empty():c.get(a)},{name:e.id});e.exports=a}),null);
__d("adsCanvasPreviewSelectedBundleIDSelector",["AdsCanvasDynamicPreviewSelectedBundleIndexProvider","adsCanvasBundleFolderBundlesSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasBundleFolderBundlesSelector"),b("AdsCanvasDynamicPreviewSelectedBundleIndexProvider").toFluxSelector()],function(a,b){if(!a.hasValue())return null;a=a.getValueEnforcing();return a.get(b).id},{name:e.id});e.exports=a}),null);
__d("adsCanvasPreviewDynamicProductSetElementSelector",["adsCanvasPreviewSelectedBundleIDSelector","adsCreateStructuredSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStructuredSelector")({bundleID:b("adsCanvasPreviewSelectedBundleIDSelector")},e.id+".adsCanvasPreviewDynamicProductSetElementSelector");e.exports=a}),null);
__d("adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector",["invariant","AdsCanvasPhotoElement","adsCanvasEditorProductTaggingUIStateSelector","adsCanvasElementSelector","adsCreateStoreSelector","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List;a=b("adsCreateStoreSelector")([].concat(b("adsCanvasEditorProductTaggingUIStateSelector").getStores(),b("adsCanvasElementSelector").getStores()),function(a){var c=b("adsCanvasElementSelector")(a);if(!c.hasValue())return{isReady:!1};c=c.getValueEnforcing();c instanceof b("AdsCanvasPhotoElement")||g(0,596);a=b("adsCanvasEditorProductTaggingUIStateSelector")(a);return{isReady:!0,productTags:c.productTags?c.productTags:h(),activeProductID:b("getByPath")(a,["productID"])}},e.id+".selector");e.exports=a}),null);
__d("adsCanvasPreviewPhotoElementProductTaggingSelector",["adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector","adsCanvasEditorProductTaggingUIStateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([].concat(b("adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector").getStores(),b("adsCanvasEditorProductTaggingUIStateSelector").getStores()),function(a){var c=b("adsCanvasEditorProductTaggingUIStateSelector")(a);if(!c.shown)return{shown:!1};a=b("adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector")({photoElementID:a,productID:c.productID});return!a.isReady?{shown:!1}:{hasCoordinates:a.actived,productID:c.productID,shown:!0}},e.id+".selector");e.exports=a}),null);
__d("AdsCanvasStoreLocatorUtils",[],(function(a,b,c,d,e,f){"use strict";a={getPagesWithLocations:function(a){return a.filter(function(a){return a.location&&a.location.latitude&&a.location.longitude&&a.location.street})}};e.exports=a}),null);
__d("adsCanvasPreviewStoreLocatorSelector",["AdsCanvasStoreLocatorUtils","adsCanvasPageSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsCanvasPageSelector")],function(a){__p&&__p();if(!a.hasValue())return{isReady:!1};a=a.getValueEnforcing();var c=[];a.location&&c.push(a);a.locations&&a.locations.data.length>0&&a.locations.data.map(function(a){return c.push(a)});var d=b("AdsCanvasStoreLocatorUtils").getPagesWithLocations(c);a=a&&a.cover?a.cover.source:"";return{coverPhotoURL:a,isReady:!0,pages:d}},{name:e.id});e.exports=a}),null);
__d("adsCanvasSwipeToOpenEligibleSelector",["adsCanvasLastElementSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasLastElementSelector")],function(a){if(!a||!a.hasValue())return!1;a=a.getValueEnforcing();return a.isSwipeToOpenEligible()},{name:e.id});e.exports=a}),null);
__d("adsCanvasPreviewSwipeToOpenSelector",["RichMediaEditorStore","adsCanvasCurrentDocumentSelector","adsCanvasSwipeToOpenEligibleSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentSelector"),b("adsCanvasSwipeToOpenEligibleSelector"),b("RichMediaEditorStore").getSwipeToOpenEnabled],function(a,b,c){if(!a.hasValue())return{isReady:!1};a=a.getValueEnforcing();return{documentTheme:a.get("backgroundColor"),hidden:b&&c,isReady:!0}},{name:e.id});e.exports=a}),null);
__d("adsCanvasPreviewTemplateVideoElementSelector",["AdsAPIObjectives","AdsDynamicTemplatePluginResolver","AdsTemplateVideoContentDataProvider","LoadObject","ProductSetDataProvider","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector","getTemplateVideoErrors","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateStoreSelector")([],function(a){return a},e.id+".templateVideoElementSelector");c=b("adsCreateSelector")([a,b("ProductSetDataProvider").toFluxSelector()],function(a,c){a=a.get("productSetID");return a==null?b("LoadObject").empty():c.get(a).map(function(a){return b("AdsDynamicTemplatePluginResolver").resolve({objective:b("AdsAPIObjectives").NONE,vertical:a.vertical})})},{name:e.id+".templatePluginSelector"});d=b("adsCreateSelector")([a,b("AdsTemplateVideoContentDataProvider").toFluxSelector()],function(a,b){return b.get({product_set_id:a.productSetID,template_id:a.templateVideoSpec.template_id,customization:a.templateVideoSpec.customization.toJS()})},{name:e.id+".contentSelector"});f=b("adsCreateSelector")([c,d],function(a,c){return b("getTemplateVideoErrors")(a,c)},{name:e.id+".errorsSelector"});a=b("adsCreateStructuredSelector")({content:d,errors:f},e.id+".adsCanvasPreviewTemplateVideoElementSelector");e.exports=a}),null);
__d("AdsCanvasDynamicItemStore",["AdsCanvasProductLoadErrorDataActionFlux","AdsCanvasProductLoadSuccessDataActionFlux","FluxLoadObjectStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[b("AdsCanvasProductLoadErrorDataActionFlux").actionType,b("AdsCanvasProductLoadSuccessDataActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsCanvasProductLoadSuccessDataActionFlux").actionType:var d=c.product;return this.__getStoreVertical()===d.catalogVertical?this.__handleOne(a,d.id,d):a;case b("AdsCanvasProductLoadErrorDataActionFlux").actionType:d=c.productID;var e=c.catalogVertical;c=c.error;return this.__getStoreVertical()===e?this.__handleOne(a,d,c):a;default:return a}};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("AdsCanvasProductStore",["AdsCanvasDynamicItemStore","AdsCanvasProductDataDispatcher","AdsDataAtom","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__load=function(a){b("AdsCanvasProductDataDispatcher").getProduct(a)};d.__getStoreVertical=function(){return b("CatalogVertical").COMMERCE};return c}(b("AdsCanvasDynamicItemStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsCanvasProductCardSelector",["AdsCanvasProductStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCanvasProductStore")],function(a){return b("AdsCanvasProductStore").get(a)},e.id+".selector");e.exports=a}),null);
__d("AdsCanvasInstagramConstants",[],(function(a,b,c,d,e,f){"use strict";a={IG_COLLECTION_FALLBACK_TEMPLATE_ID:["1063217037112304","133471657203838"],IG_SUPPORTED_COLLECTION_TEMPLATE_ID:["1932289657009030","1063217037112304","133471657203838"],IG_COLLECTION_TEMPLATE_FIXED_BUTTON:{textColor:"#262626",fontSize:14,fontFamily:"SFUIText-Semibold",lineHeight:"1.1"}};e.exports=a}),null);
__d("adsCanvasUseDefaultValueSelectors",["AdsCanvasInlineUIStore","AdsCanvasInstagramConstants","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsCanvasInstagramConstants").IG_SUPPORTED_COLLECTION_TEMPLATE_ID;a=b("adsCreateSelector")([b("AdsCanvasInlineUIStore").getTemplateID],function(a){return g.indexOf(a)!==-1},{name:e.id});e.exports={useDefaultInstagramTemplatePreviewValueSelector:a}}),null);
__d("AdsSlideshowStoreState",["SlideshowConstants","SlideshowFlowTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("SlideshowFlowTypes").SlideshowTabKey;c=b("immutable").Record({adgroupIDs:null,cancelledVideoIDs:b("immutable").Set(),durationInMS:1e3,entrypoint:"unknown",format:b("SlideshowConstants").formats.Square,imageDialogShown:!1,isFetchingShakrAccessToken:!1,isProcessing:b("immutable").Map(),isProcessingThirdPartySlideshow:!1,musicVariationsOptIn:!1,reorderingOptIn:!1,savedState:null,selectedTab:a.SETTINGS_TAB,selectedVideoID:null,shakrPollNotifier:null,showAnimotoDialog:!1,showSlideshowThirdPartyCancelDialog:!1,showSlideshowDurationWarning:!1,slideshowDialogShown:!1,slideshowUploader:null,thirdPartySlideshowUploader:null,transitionInMS:b("SlideshowConstants").transitions.None,videoLength:b("SlideshowConstants").default_length_in_seconds});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e.exports=d}),null);
__d("AdsSlideshowReducerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.get("isProcessing");d=d.set(b,c);return a.set("isProcessing",d)}b={updateProcessingStatus:a};e.exports=b}),null);
__d("adsSlideshowAnimotoReducer",["AdsAccountStore","AdsDataAtom","AdsSlideshowAnimotoVideoFinalizedDataActionFlux","AdsSlideshowAnimotoVideoUploadDataActionFlux","AdsSlideshowReducerUtils","AdsSlideshowToggleAnimotoDialogDataActionFlux","SlideshowThirdPartyTypedLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=[b("AdsSlideshowToggleAnimotoDialogDataActionFlux").actionType,b("AdsSlideshowAnimotoVideoUploadDataActionFlux").actionType,b("AdsSlideshowAnimotoVideoFinalizedDataActionFlux").actionType];function a(a,c){__p&&__p();switch(c.type){case b("AdsSlideshowToggleAnimotoDialogDataActionFlux").actionType:c.data.showAnimotoDialog?(a=a.set("thirdPartySlideshowUploader",c.data.slideshowUploader),new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_animoto_dialog_loaded").log()):a=a.set("showSlideshowThirdPartyCancelDialog",!0);c.data.adgroupIDs&&(a=a.set("adgroupIDs",b("immutable").List(c.data.adgroupIDs)));return a.set("showAnimotoDialog",c.data.showAnimotoDialog);case b("AdsSlideshowAnimotoVideoUploadDataActionFlux").actionType:if(!a.get("isProcessing").get(a.get("entrypoint")))return a;b("AdsDataAtom").waitFor([b("AdsAccountStore").getDispatchToken()]);new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_animoto_video_upload_started").log();a.get("thirdPartySlideshowUploader").uploadThirdPartySlideshow(b("AdsAccountStore").getSelectedAccountID(),c.data.videoURL,"SLIDESHOW_ANIMOTO");return a;case b("AdsSlideshowAnimotoVideoFinalizedDataActionFlux").actionType:a=a.set("showAnimotoDialog",!1).set("isProcessingThirdPartySlideshow",!0);new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_animoto_video_finalized").log();return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!0);default:return a}}e.exports={adsSlideshowAnimotoReducer:a,SlideshowAnimotoActionTypes:c}}),null);
__d("adsSlideshowEditReducer",["invariant","AdsSlideshowRestoreSlideshowStateDataActionFlux","AdsSlideshowSaveSlideshowStateDataActionFlux","AdsSlideshowStoreState"],(function(a,b,c,d,e,f,g){"use strict";c=[b("AdsSlideshowSaveSlideshowStateDataActionFlux").actionType,b("AdsSlideshowRestoreSlideshowStateDataActionFlux").actionType];function a(a,c){switch(c.type){case b("AdsSlideshowSaveSlideshowStateDataActionFlux").actionType:a.get("savedState")==null||g(0,860);return a instanceof b("AdsSlideshowStoreState")?a.set("savedState",a).set("slideshowDialogShown",!0):a.set("savedState",a);case b("AdsSlideshowRestoreSlideshowStateDataActionFlux").actionType:return a instanceof b("AdsSlideshowStoreState")?a.get("savedState").set("slideshowDialogShown",!1):a.get("savedState")}return a}e.exports={adsSlideshowEditReducer:a,SlideshowEditActionTypes:c}}),null);
__d("AdsSlideshowActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADD_VIDEO_CLICK:null,ANIMOTO_VIDEO_FINALIZED:null,ANIMOTO_VIDEO_UPLOAD:null,ANIMOTO_RENDER_ERROR:null,ATTACH_TO_VIDEO_ERROR:null,AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_OBJECTIVE_NUX:null,CREATE:null,CREATE_RESET:null,DURATION_CHANGE:null,FETCH_FRAME_IMAGES:null,FORMAT_CHANGE:null,FRAME_IMAGES_FAILURE:null,FRAME_IMAGES_SUCCESS:null,IMAGE_REMOVE:null,IMAGES_SELECT_CANCEL:null,IMAGES_SELECT_CONFIRM:null,LENGTH_CHANGE:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,RESET_ALL:null,RESTORE_SLIDESHOW_STATE:null,SAVE_IMAGE_CROPS:null,SAVE_SLIDESHOW_STATE:null,SAVE_TEXTOVERLAY:null,SELECT_TAB:null,SET_ENTRYPOINT:null,SET_STORYLINE_MOOD_FILES:null,SHAKR_ACCESS_TOKEN_LOADED:null,SHAKR_GET_ACCESS_TOKEN:null,SHAKR_POLL_RESPONSE_RECEIVED:null,SHAKR_START_POLLING:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_ANIMOTO_DIALOG:null,TOGGLE_SLIDESHOW_DIALOG:null,TOGGLE_SLIDESHOW_THIRDPARTY_CANCEL_DIALOG:null,TOGGLE_IMAGE_DIALOG:null,TRANSITION_CHANGE:null,VIDEO_PICKER_CLOSED:null});e.exports=a}),null);
__d("AdsSlideshowShakrController",["AdsSlideshowShakrStartPollingDataAction","AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction","Bootloader","SlideshowThirdPartyTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={openShakrPicker:function(a){b("Bootloader").loadModules(["Shakr"],function(c){c=new c.Picker({access_token:a,objective:0});c.on("init",function(a){new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_shakr_picker_loaded").log()}).on("editor",function(a){var c=a.editor;c.on("finish",function(a){b("AdsSlideshowShakrStartPollingDataAction").dispatch({data:{showID:c.show_id}},{line:"36",module:"AdsSlideshowShakrController.js"})}).on("error",function(a){new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_shakr_editor_error").setErrorMessage(a.type).log()}).launch()}).on("closed",function(a){b("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction").dispatch({data:{slideshowCancelDialogShown:!0}},{line:"51",module:"AdsSlideshowShakrController.js"})}).launch()},"AdsSlideshowShakrController")}};e.exports=a}),null);
__d("adsSlideshowShakrReducer",["AdsAccountStore","AdsSlideshowActionTypes","AdsSlideshowReducerUtils","AdsSlideshowShakrAccessTokenLoadedDataAction","AdsSlideshowShakrAccessTokenLoadedDataActionFlux","AdsSlideshowShakrController","AdsSlideshowShakrGetAccessTokenDataActionFlux","AdsSlideshowShakrStartPollingDataActionFlux","AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataActionFlux","SlideshowDataManager","SlideshowShakrPollAsyncNotifier","SlideshowThirdPartyTypedLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=[b("AdsSlideshowShakrGetAccessTokenDataActionFlux").actionType,b("AdsSlideshowShakrAccessTokenLoadedDataActionFlux").actionType,b("AdsSlideshowShakrStartPollingDataActionFlux").actionType,b("AdsSlideshowActionTypes").SHAKR_POLL_RESPONSE_RECEIVED,b("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataActionFlux").actionType];function a(a,c){__p&&__p();var d;switch(c.type){case b("AdsSlideshowShakrGetAccessTokenDataActionFlux").actionType:b("SlideshowDataManager").getShakrScopeToken(function(a){b("AdsSlideshowShakrAccessTokenLoadedDataAction").dispatch({data:{accessToken:a}},{line:"48",module:"adsSlideshowShakrReducer.js"})});c.data.adgroupIDs&&(a=a.set("adgroupIDs",b("immutable").List(c.data.adgroupIDs)));return a.set("isFetchingShakrAccessToken",!0).set("thirdPartySlideshowUploader",c.data.slideshowUploader);case b("AdsSlideshowShakrAccessTokenLoadedDataActionFlux").actionType:if(!c.data.accessToken)return a.set("isFetchingShakrAccessToken",!1).set("slideshowDialogShown",!0);new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_shakr_access_token_fetched").log();b("AdsSlideshowShakrController").openShakrPicker(c.data.accessToken);return a.set("isFetchingShakrAccessToken",!1);case b("AdsSlideshowShakrStartPollingDataActionFlux").actionType:d=new(b("SlideshowShakrPollAsyncNotifier"))(c.data.showID);a=a.set("shakrPollNotifier",d).set("isProcessingThirdPartySlideshow",!0);d.start();new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_shakr_poll_started").log();return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!0);case b("AdsSlideshowActionTypes").SHAKR_POLL_RESPONSE_RECEIVED:if(!a.get("isProcessing").get(a.get("entrypoint")))return a;d=a.get("shakrPollNotifier");if(c.data.videoURL){new(b("SlideshowThirdPartyTypedLogger"))().setEvent("slideshow_shakr_video_upload_started").log();a.get("thirdPartySlideshowUploader").uploadThirdPartySlideshow(b("AdsAccountStore").getSelectedAccountID(),c.data.videoURL,"SLIDESHOW_SHAKR");return a}d=a.get("shakrPollNotifier");if(!d)return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!1);d.schedulePollingForVideoURL();return a;case b("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataActionFlux").actionType:return a.set("showSlideshowThirdPartyCancelDialog",c.data.slideshowCancelDialogShown);default:return a}}e.exports={adsSlideshowShakrReducer:a,SlideshowShakrActionTypes:c}}),null);
__d("adsSlideshowStoreReducer",["AdsCFVideoEncodingSuccessDataActionFlux","AdsCFVideoUploadErrorDataActionFlux","AdsDLOAssetFeedDismissDialogDataActionFlux","AdsDLOConstantUtils","AdsSlideshowAttachToVideoErrorDataActionFlux","AdsSlideshowCloseSlideshowDialogActionFlux","AdsSlideshowCreateDataActionFlux","AdsSlideshowCreateResetDataActionFlux","AdsSlideshowDurationChangeDataActionFlux","AdsSlideshowFormatChangeDataActionFlux","AdsSlideshowImagesSelectConfirmDataActionFlux","AdsSlideshowLengthChangeDataActionFlux","AdsSlideshowMusicVariationsOptInChangeDataActionFlux","AdsSlideshowOpenSlideshowDialogActionFlux","AdsSlideshowReducerUtils","AdsSlideshowRemoveCancelledSlideshowUploadDataActionFlux","AdsSlideshowReorderingOptInChangeDataActionFlux","AdsSlideshowResetAllDataActionFlux","AdsSlideshowSelectTabDataActionFlux","AdsSlideshowSetEntrypointDataActionFlux","AdsSlideshowSetSelectedVideoIDDataActionFlux","AdsSlideshowStoreState","AdsSlideshowToggleImageDialogDataActionFlux","AdsSlideshowTransitionChangeDataActionFlux","AdsVideoEncodingSuccessDataActionFlux","AdsVideoUploadErrorDataActionFlux","ShutterstockImageUtils","SlideshowConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=[b("AdsSlideshowSetEntrypointDataActionFlux").actionType,b("AdsSlideshowCreateDataActionFlux").actionType,b("AdsSlideshowRemoveCancelledSlideshowUploadDataActionFlux").actionType,b("AdsSlideshowSetSelectedVideoIDDataActionFlux").actionType,b("AdsSlideshowCreateResetDataActionFlux").actionType,b("AdsCFVideoEncodingSuccessDataActionFlux").actionType,b("AdsCFVideoUploadErrorDataActionFlux").actionType,b("AdsVideoEncodingSuccessDataActionFlux").actionType,b("AdsVideoUploadErrorDataActionFlux").actionType,b("AdsSlideshowLengthChangeDataActionFlux").actionType,b("AdsSlideshowOpenSlideshowDialogActionFlux").actionType,b("AdsSlideshowCloseSlideshowDialogActionFlux").actionType,b("AdsSlideshowToggleImageDialogDataActionFlux").actionType,b("AdsSlideshowImagesSelectConfirmDataActionFlux").actionType,b("AdsSlideshowTransitionChangeDataActionFlux").actionType,b("AdsSlideshowDurationChangeDataActionFlux").actionType,b("AdsSlideshowFormatChangeDataActionFlux").actionType,b("AdsSlideshowResetAllDataActionFlux").actionType,b("AdsSlideshowAttachToVideoErrorDataActionFlux").actionType,b("AdsSlideshowSelectTabDataActionFlux").actionType,b("AdsDLOAssetFeedDismissDialogDataActionFlux").actionType,b("AdsSlideshowReorderingOptInChangeDataActionFlux").actionType,b("AdsSlideshowMusicVariationsOptInChangeDataActionFlux").actionType];function a(a,c){__p&&__p();switch(c.type){case b("AdsSlideshowSetEntrypointDataActionFlux").actionType:return a.set("entrypoint",c.entrypoint);case b("AdsSlideshowCreateDataActionFlux").actionType:var d=c.data,e=d.selectedImages.map(function(a){return a.getStockImageID()?b("ShutterstockImageUtils").idToURL(a.getStockImageID()):a.getUrl()}).slice(0,b("SlideshowConstants").max_photo_num),f=d.imagesCrops,g=d.imagesTextoverlays,h=d.transitionInMS;d.videoUploader.upload(d.accountID,e,d.length,h,f&&f.length>0?f.slice(0,b("SlideshowConstants").max_photo_num):null,d.storylineMoodID,g,d.reorderingOptIn,d.musicVariationsOptIn);a=a.set("slideshowUploader",d.videoUploader);if(d.adgroupIDs){a=a.set("adgroupIDs",b("immutable").List(d.adgroupIDs)).set("slideshowDialogShown",!1);return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!0)}a=a.set("slideshowDialogShown",!1);return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!0);case b("AdsSlideshowRemoveCancelledSlideshowUploadDataActionFlux").actionType:return a.set("cancelledVideoIDs",a.get("cancelledVideoIDs")["delete"](c.data.videoID));case b("AdsSlideshowSetSelectedVideoIDDataActionFlux").actionType:return a.set("selectedVideoID",c.data.videoID);case b("AdsSlideshowCreateResetDataActionFlux").actionType:a.get("slideshowUploader")&&a.get("slideshowUploader").abort();a.selectedVideoID&&(a=a.set("cancelledVideoIDs",a.get("cancelledVideoIDs").add(a.selectedVideoID)));a=a.set("isProcessingThirdPartySlideshow",!1);return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!1);case b("AdsCFVideoEncodingSuccessDataActionFlux").actionType:case b("AdsCFVideoUploadErrorDataActionFlux").actionType:case b("AdsVideoEncodingSuccessDataActionFlux").actionType:case b("AdsVideoUploadErrorDataActionFlux").actionType:a=a.set("isProcessingThirdPartySlideshow",!1);return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!1);case b("AdsSlideshowLengthChangeDataActionFlux").actionType:return a.set("videoLength",c.data.length);case b("AdsSlideshowOpenSlideshowDialogActionFlux").actionType:return a.set("showSlideshowThirdPartyCancelDialog",!1).set("slideshowDialogShown",!0);case b("AdsSlideshowCloseSlideshowDialogActionFlux").actionType:return a.set("showSlideshowThirdPartyCancelDialog",!1).set("slideshowDialogShown",!1).set("showSlideshowDurationWarning",!1);case b("AdsSlideshowToggleImageDialogDataActionFlux").actionType:return a.set("imageDialogShown",c.data.imageDialogShown);case b("AdsSlideshowImagesSelectConfirmDataActionFlux").actionType:return a.set("imageDialogShown",!1);case b("AdsSlideshowTransitionChangeDataActionFlux").actionType:return a.set("transitionInMS",c.data.transitionInMS);case b("AdsSlideshowReorderingOptInChangeDataActionFlux").actionType:return a.set("reorderingOptIn",c.data.reorderingOptIn);case b("AdsSlideshowMusicVariationsOptInChangeDataActionFlux").actionType:return a.set("musicVariationsOptIn",c.data.musicVariationsOptIn);case b("AdsSlideshowDurationChangeDataActionFlux").actionType:return a.set("durationInMS",c.data.durationInMS).set("showSlideshowDurationWarning",c.data.automatic);case b("AdsSlideshowFormatChangeDataActionFlux").actionType:return a.set("format",c.data.format);case b("AdsSlideshowResetAllDataActionFlux").actionType:return new(b("AdsSlideshowStoreState"))();case b("AdsSlideshowAttachToVideoErrorDataActionFlux").actionType:return b("AdsSlideshowReducerUtils").updateProcessingStatus(a,a.get("entrypoint"),!1);case b("AdsSlideshowSelectTabDataActionFlux").actionType:return a.set("selectedTab",c.tab);case b("AdsDLOAssetFeedDismissDialogDataActionFlux").actionType:e=c.languages;e.forEach(function(c){c=b("AdsDLOConstantUtils").getSlideshowEntrypoint(c);a=b("AdsSlideshowReducerUtils").updateProcessingStatus(a,c,!1)});return a;default:return a}}e.exports={adsSlideshowStoreReducer:a,SlideshowStoreActionTypes:c}}),null);
__d("adsCanvasInlineEditorSlideshowUpdateStatusSelector",["AdsSlideshowStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsSlideshowStore")],function(){return b("AdsSlideshowStore").isProcessing("canvas")},e.id+".selector");e.exports=a}),null);
__d("adsCanvasHasElementUploadingSelector",["AdsCanvasBundleElement","AdsCanvasCarouselElement","AdsCanvasHeaderElement","AdsCanvasPhotoElement","AdsCanvasVideoElement","adsCanvasCurrentDocumentElementsSelector","adsCanvasInlineEditorSlideshowUpdateStatusSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentElementsSelector"),b("adsCanvasInlineEditorSlideshowUpdateStatusSelector")],function(a,c){__p&&__p();return a.some(function(a){if(!a.hasValue())return!1;a=a.getValueEnforcing();if(a instanceof b("AdsCanvasHeaderElement")||a instanceof b("AdsCanvasPhotoElement")||a instanceof b("AdsCanvasVideoElement"))return a.uploadStatus&&a.uploadStatus.isUploading||c;else if(a instanceof b("AdsCanvasCarouselElement")||a instanceof b("AdsCanvasBundleElement"))return a.items.some(function(a){return a.uploadStatus&&a.uploadStatus.isUploading});return!1})},{name:e.id});e.exports=a}),null);
__d("adsCanvasPreviewDynamicNavigationTabElementSelector",["AdsCanvasDynamicPreviewSelectedBundleIndexProvider","adsCanvasBundleFolderBundlesSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasBundleFolderBundlesSelector"),b("AdsCanvasDynamicPreviewSelectedBundleIndexProvider").toFluxSelector()],function(a,b){if(!a.hasValue())return{isReady:!1};a=a.getValueEnforcing();a=a.map(function(a){return a.name});return{isReady:!0,selectedIndex:b,tabNames:a}},{name:e.id});e.exports=a}),null);
__d("adsCanvasPreviewManualNavigationTabElementSelector",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","adsCanvasHasElementUploadingSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsCanvasDocumentStore").getByID,b("AdsCanvasCurrentCanvasIDStore").getActiveCanvasIndex,b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasHasElementUploadingSelector")],function(a,b,c,d){c=c.map(function(b,c){c=a(b);return c.hasValue()?c.getValueEnforcing().getTitle():""});return{disabled:d,selectedIndex:b,tabNames:c}},{name:e.id});e.exports=a}),null);
__d("adsCanvasPreviewNavigationTabElementSelector",["AdsCanvasCurrentCanvasIDStore","adsCanvasDynamicProductSetElementSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasDynamicProductSetElementSelector"),b("AdsCanvasCurrentCanvasIDStore").hasMultiCanvas],function(a,b){a=!!(a==null?void 0:a.bundleFolderID);return{hasBundleFolderSet:a,isManualTabs:b}},{name:e.id});e.exports=a}),null);
__d("adsCanvasBuilderPreviewDynamicPhotoElementSelector",["AdsCanvasPreviewDynamicPhotoElementProvider","LoadObject","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateStoreSelector")([],function(a){return a},e.id+".getPreviewDynamicPhotoElementLoadObjectKeySelector");c=b("adsCreateSelector")([a,b("AdsCanvasPreviewDynamicPhotoElementProvider").toFluxSelector()],function(a,c){var d=a.get("productSetID");if(d==null)return{previewDynamicPhotoElementLoadObject:new(b("LoadObject").empty)()};d=c.get(a);return{previewDynamicPhotoElementLoadObject:d}},{name:e.id+".adsCanvasBuilderPreviewDynamicPhotoElementSelector"});e.exports=c}),null);
__d("adsCanvasBuilderPreviewProductElementsSelector",["invariant","AdsCanvasPreviewProductElementsProvider","AdsCanvasPreviewProductItemInfoRecord","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("adsCreateStoreSelector")([],function(a){return a},e.id+".getProductSetItemsLoadObjectKeySelector");c=b("adsCreateSelector")([a,b("AdsCanvasPreviewProductElementsProvider").toFluxSelector()],function(a,c){__p&&__p();var d=b("immutable").List(),e=a.get("productSetID");if(e===null||e===0){for(var e=0;e<8;e++)d=d.push(new(b("AdsCanvasPreviewProductItemInfoRecord"))({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"Headline",itemDescription:"$0.00"}));return{isReady:!0,productSetItems:d}}e=c.get(a);if(!e.hasValue())return{isReady:!1};d=e.getValueEnforcing();d instanceof b("immutable").List||g(0,11219);return{isReady:!0,productSetItems:d}},{name:e.id});e.exports=c}),null);
__d("adsDefaultCategoriesForProductSetSelector",["LoadObject","ProductSetDefaultCategoriesProvider","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([],function(a){return a},e.id+".propsSelector");c=b("adsCreateSelector")([a,b("ProductSetDefaultCategoriesProvider").toFluxSelector()],function(a,c){a=a.productSetID;return a==null?b("LoadObject").empty():c.get(a)},{name:e.id+".adsDefaultCategoriesForProductSetSelector"});e.exports=c}),null);
__d("adsCanvasPreviewProductElementsCategoryNavigationSectionSelector",["adsCreateSelector","adsDefaultCategoriesForProductSetSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsDefaultCategoriesForProductSetSelector")],function(a){return{defaultCategories:a}},{name:e.id+".adsCanvasPreviewProductElementsCategoryNavigationSectionSelector"});e.exports=a}),null);
__d("RichMediaCarouselItem",["fbt","AdsCanvasEditorEnums","RichMediaEditorUtil","RichMediaElementValidationUtil","getByPath","immutable","validateDeepLink"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasEditorEnums").LinkDestinationEnum;a=b("immutable").Record;c={id:"",index:0,photo:null,name:"",description:null,link:null,deeplink:null,linkedCanvasName:null,destination:h.WEBSITE,uploadStatus:null,uploadRequest:null};d=a(c);f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.create=function(a,b,d,e,f,g,h,i,j,k,l){return new c({id:a,index:b,photo:d,name:e,description:f,link:g,deeplink:h,linkedCanvasName:i,destination:j,uploadStatus:k,uploadRequest:l})};c.createDefault=function(a,b,d){return c.create(a,b,null,"",null,null,null,null,h.WEBSITE,null,d)};c.createFromObject=function(a){return c.create(a.id||a.name+"_"+Date.now(),a.index,a.photo,a.name,a.description,a.link,a.deeplink,a.linkedCanvasName,a.destination,null,a.uploadRequest)};c.createFromPayloadAndElementField=function(a,d){d&&(a.photo.src=b("getByPath")(d,["element","photo","source"]));return c.create(a.id||a.name+"_"+Date.now(),a.index,a.photo,a.name,a.description,a.link,a.deeplink,a.linkedCanvasName,a.destination,null,a.uploadRequest)};c.validate=function(a,c){__p&&__p();if(!a.photo)return{isValid:!1,errorMsg:g._("Missing photo")};if(a.link&&!b("RichMediaEditorUtil").isValidURL(a.link))if(a.destination===h.NATIVE)return{isValid:!1,errorMsg:g._("Invalid Store URL")};else return{isValid:!1,errorMsg:g._("Invalid Website URL")};c=b("RichMediaElementValidationUtil").validateForAppstoreDestination(a,c);if(!c.isValid)return c;if(a.deeplink&&!b("validateDeepLink")(a.deeplink))return{isValid:!1,errorMsg:g._("Invalid Deeplink")};return a.uploadStatus&&a.uploadStatus.isUploading!==!1?{isValid:!1,errorMsg:""}:{isValid:!0,errorMsg:""}};return c}(d);e.exports=f}),null);
__d("RichMediaCarouselElement",["fbt","RichMediaCarouselItem","RichMediaEditorConstants","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING;a=b("immutable").Record;c={id:"",name:"",type:4,index:0,expanded:!1,advancedExpanded:!1,padding:{paddingTop:h,paddingBottom:h},layout:"fit_to_width",items:[],selectedItemIndex:0,addFile:function(){return null},onFileProgress:function(){return i.createDefault(0)},onFileSuccess:function(){return i.createDefault(0)},onFileError:function(){return i.createDefault(0)}};d=a(c);var i=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}a.create=function(b,c,d,e,f,g,h,i){return new a({index:b,name:c,type:4,expanded:d,advancedExpanded:e,padding:f,layout:g,items:h,selectedItemIndex:i})};a.createDefault=function(c){return a.create(c,g._("Carousel").toString(),!0,!1,{paddingTop:h,paddingBottom:h},"fit_to_width",[0,1].map(function(a){return b("RichMediaCarouselItem").createDefault(a+"_"+Math.round(Math.random()*1e4)+"_"+Date.now(),a,null)}),0)};a.createFromObject=function(c,d){__p&&__p();var e=[],f=0;c.items.forEach(function(a){if(a){a=b("RichMediaCarouselItem").createFromObject(a);e.push(a.set("index",f));f++}});var g=c.selectedItemIndex||c.selectedItemIndex===0?c.selectedItemIndex:0;g=Math.min(Math.max(0,g),e.length-1);return a.create(c.index,c.name,c.expanded,c.advancedExpanded,c.padding,d?"fit_to_width":c.layout,e,g)};a.createFromPayloadAndElementField=function(c,d){__p&&__p();var e=[],f=b("getByPath")(d,["element","child_elements","length"],0);for(var g=0;g<c.items.length;g++){var h=c.items[g],i=g<f&&d.element&&d.element.child_elements?d.element.child_elements[g]:null;if(h){h=b("RichMediaCarouselItem").createFromPayloadAndElementField(h,i);e.push(h.set("index",g))}}i=c.selectedItemIndex||c.selectedItemIndex===0?c.selectedItemIndex:0;i=Math.min(Math.max(0,i),e.length-1);return a.create(c.index,c.name,c.expanded,c.advancedExpanded,c.padding,c.layout,e,i)};a.validate=function(a,c){if(a.items.length<=1)return{isValid:!1,errorMsg:g._("Upload at least 2 images to create a carousel").toString()};for(var d=0;d<a.items.length;++d){var e=a.items[d];e=b("RichMediaCarouselItem").validate(e,c);if(!e.isValid)return{isValid:!1,errorMsg:g._({"*":"Item {carousel_item_number}"},[g._param("carousel_item_number",d+1,[0])]).toString()+e.errorMsg}}return{isValid:!0,errorMsg:""}};a.equals=function(a,b){return a.padding&&(a.padding.paddingTop!==b.padding.paddingTop||a.padding.paddingBottom!==b.padding.paddingBottom)||a.layout!==b.layout||a.selectedItemIndex!==b.selectedItemIndex||a.items.length!==b.items.length||a.items.some(function(a,c){return!a.photo||!b.items[c].photo?!0:a.photo.src!==b.items[c].photo.src})?!1:!0};var d=a.prototype;d.addFile=function(a,c){this.items.push(b("RichMediaCarouselItem").createDefault(a,this.items.length,c));return this};d.reorderItem=function(a,b){var c=this.items[a];this.items.splice(a,1);this.items.splice(b,0,c);return this};d.replaceFile=function(a,b){b=this.items.findIndex(function(b){return b.id===a});if(b<0)return this;this.items[b]=this.items[b].set("uploadStatus",{isUploading:!0,percentage:0});return this};d.onFileProgress=function(a,b){var c=this.items.findIndex(function(b){return b.id===a});this.items[c]=this.items[c].set("uploadStatus",{isUploading:!0,percentage:b});return this};d.onFileSuccess=function(a,b){var c=this.items.findIndex(function(b){return b.id===a});this.items[c]=this.items[c].set("uploadStatus",{isUploading:!1}).set("photo",b.payload.photo);return this};d.onFileError=function(a){var b=this.items.findIndex(function(b){return b.id===a});this.items[b]=this.items[b].set("uploadStatus",{isUploading:!1});return this};return a}(d);e.exports=i}),null);
__d("RichMediaPhotoElement",["fbt","AdsCanvasEditorEnums","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaElementValidationUtil","getByPath","immutable","validateDeepLink"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasEditorEnums").LinkDestinationEnum,i=b("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING;a=b("immutable").Record;c={id:"",name:"",type:2,index:0,expanded:!1,advancedExpanded:!1,padding:{paddingTop:i,paddingBottom:i},layout:"fit_to_width",description:null,link:null,deeplink:null,linkedCanvasName:null,destination:h.WEBSITE,photo:null,uploadStatus:null,crops:null,elementGroupKey:null};d=a(c);f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.create=function(a,b,d,e,f,g,h,i,j,k,l,m,n,o,p){return new c({name:a,type:2,index:b,expanded:d,advancedExpanded:e,padding:f,layout:g,description:h,link:i,deeplink:j,linkedCanvasName:k,destination:l,photo:m,uploadStatus:n,crops:o,elementGroupKey:p})};c.createFromBundle=function(a,b,d){return c.create("item_photo",b,!0,!1,{paddingBottom:"0",paddingTop:"0"},"fit_to_width",null,a.link,null,null,h.WEBSITE,a.photo,null,null,d)};c.createDefault=function(a){return c.create("Photo",a,!0,!1,{paddingTop:i,paddingBottom:i},"fit_to_width",null,null,null,null,h.WEBSITE,null,null,null,null)};c.createFromObject=function(a,b){return c.create(a.name,a.index,a.expanded,a.advancedExpanded,a.padding,b?"fit_to_width":a.layout,a.description,a.link,a.deeplink,a.linkedCanvasName,a.destination,a.photo,null,a.crops,a.elementGroupKey)};c.createFromPayloadAndElementField=function(a,d){a.photo&&(a.photo.src=b("getByPath")(d,["element","photo","images","0","source"]));return c.create(a.name,a.index,a.expanded,a.advancedExpanded,a.padding,a.layout,a.description,a.link,a.deeplink,a.linkedCanvasName,a.destination,a.photo,null,a.crops,a.elementGroupKey)};c.createFromAdAsset=function(a,b,d){return c.create(g._("Photo").toString(),a,!0,!1,{paddingTop:i,paddingBottom:i},"fit_to_width",null,b.link,null,null,h.WEBSITE,b,null,d,null)};c.validate=function(a,c){__p&&__p();if(!a.photo)return{isValid:!1,errorMsg:g._("Missing photo")};if(a.link&&!b("RichMediaEditorUtil").isValidURL(a.link))if(a.destination===h.NATIVE)return{isValid:!1,errorMsg:g._("Invalid Store URL")};else return{isValid:!1,errorMsg:g._("Invalid Website URL")};c=b("RichMediaElementValidationUtil").validateForAppstoreDestination(a,c);if(!c.isValid)return c;if(a.deeplink&&!b("validateDeepLink")(a.deeplink))return{isValid:!1,errorMsg:g._("Invalid Deeplink")};return a.uploadStatus&&a.uploadStatus.isUploading!==!1?{isValid:!1,errorMsg:""}:{isValid:!0,errorMsg:""}};return c}(d);e.exports=f}),null);
__d("RichMediaTextElement",["fbt","AdsCanvasEditorEnums","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaRichFormatText","immutable","validateDeepLink"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasEditorEnums").LinkDestinationEnum;a=b("RichMediaEditorConstants").EDITOR_DEFAULT_LINE_HEIGHT;var i=b("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,j=b("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL;c=b("immutable").Record;d={id:"",name:"",type:1,index:0,expanded:!1,advancedExpanded:!1,padding:{paddingTop:j,paddingBottom:j,paddingLeft:i,paddingRight:i},richFormatText:{composedText:{entityMap:{},blocks:[]},textAlignment:"center",textColor:"#000",fontSize:12,fontFamily:"sans-serif",lineHeight:a},backgroundColor:"#FFFFFF",link:null,deeplink:null,destination:h.WEBSITE,elementGroupKey:null};f=c(d);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.create=function(a,b,d,e,f,g,h,i,j,k,l){return new c({index:a,name:b,type:1,expanded:d,advancedExpanded:e,padding:f,richFormatText:g,backgroundColor:h,link:i,deeplink:j,destination:k,elementGroupKey:l})};c.createDefault=function(a){return c.create(a,g._("Text").toString(),!0,!1,{paddingTop:j,paddingBottom:j,paddingLeft:i,paddingRight:i},b("RichMediaRichFormatText").createDefault(),"#FFFFFF",null,null,h.WEBSITE,null)};c.createFromBundle=function(a,d,e,f,g){var j=g==="item_headline"?"20":"4",k=g==="item_headline"?"0":"32";return c.create(e,g,!0,!1,{paddingTop:j,paddingBottom:k,paddingLeft:i,paddingRight:i},b("RichMediaRichFormatText").createFromBundle(a,g),"#FFFFFF",d,null,h.WEBSITE,f)};c.createFromObject=function(a){return c.create(a.index,a.name,a.expanded,a.advancedExpanded,{paddingTop:a.padding&&a.padding.paddingTop?a.padding.paddingTop:j,paddingBottom:a.padding&&a.padding.paddingBottom?a.padding.paddingBottom:j,paddingLeft:a.padding&&a.padding.paddingLeft?a.padding.paddingLeft:i,paddingRight:a.padding&&a.padding.paddingRight?a.padding.paddingRight:i},b("RichMediaRichFormatText").createFromObject(a.richFormatText),a.backgroundColor,a.link,a.deeplink,a.destination?a.destination:h.WEBSITE,a.elementGroupKey)};c.createFromAdAsset=function(a,d){return c.create(a,g._("Text").toString(),!0,!1,{paddingTop:j,paddingBottom:j,paddingLeft:i,paddingRight:i},b("RichMediaRichFormatText").createFromAdAsset(d),"#FFFFFF",null,null,h.WEBSITE,null)};c.validate=function(a){var c=b("RichMediaRichFormatText").getPlainTextFromComposedText(a.richFormatText.composedText);if(c.length==0)return{isValid:!1,errorMsg:g._("Empty text block is not allowed")};if(a.link&&!b("RichMediaEditorUtil").isValidURL(a.link))if(a.destination===h.NATIVE)return{isValid:!1,errorMsg:g._("Invalid Store URL")};else return{isValid:!1,errorMsg:g._("Invalid Website URL")};return a.deeplink&&!b("validateDeepLink")(a.deeplink)?{isValid:!1,errorMsg:g._("Invalid Deeplink")}:{isValid:!0,errorMsg:""}};return c}(f);e.exports=a}),null);
__d("AdsCanvasPreviewDynamicPhotoElementKeyRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({destinationSetID:null,limit:0,productSetID:null,retailerItemIDs:b("immutable").List()});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasPreviewProductElementsKeyRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({itemDescriptionTemplate:void 0,itemHeadlineTemplate:void 0,limit:void 0,productSetID:void 0,retailerItemIDs:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("immutable").List;function a(a){return b("React").jsx("div",{className:"_oz4",children:a.productTags.map(function(c,d){if(!c.coordinates||a.activeProductID!=null&&c.productID!=a.activeProductID)return null;c=c.coordinates;return b("React").jsx("div",{children:b("React").jsx(h,{left:c.get("x")*100+"%",top:c.get("y")*100+"%"})},d)}).toArray()})}function h(a){return b("React").jsx("div",{className:"_oz7",style:{top:a.top,left:a.left}})}e.exports=a}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react",["AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react","AdsFluxContainer","React","adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector").getStores()};c.calculateState=function(a,c){return b("adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector")(c.photoElementID)};var d=c.prototype;d.render=function(){return!this.state.isReady?null:b("React").jsx(b("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react"),{activeProductID:this.state.activeProductID,height:this.props.height,productTags:this.state.productTags,width:this.props.width})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingOverlay.react",["ix","cx","fbt","AdsFBIconDownsized.react","Image.react","React","SUIText.react","asset","fbglyph","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("immutable").Map;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=a.nativeEvent;var b=a.offsetX;a=a.offsetY;var d=c.refs["tagging-overlay"],e=d.offsetHeight;d=d.offsetWidth;c.props.onSetCoordinates(j({x:b/d,y:a/e}))},c.$2=function(a){a.stopPropagation(),c.props.onDone()},c.$3=function(a){a.stopPropagation(),c.props.onSetCoordinates(null)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.hasCoordinates?i._("Click on the photo to update the tag"):i._("Click on the photo to add a tag"),c=this.props.hasCoordinates?b("React").jsxs("div",{role:"link",tabIndex:0,onClick:this.$3,children:[b("React").jsx(b("Image.react"),{className:"_1uaf",src:g("319342")}),b("React").jsx(b("SUIText.react"),{className:"_4651",color:"white",size:"meta1",weight:"bold",children:i._("Remove Tag")})]}):null;return b("React").jsx("div",{className:"_464-",ref:"tagging-overlay",role:"link",tabIndex:0,onClick:this.$1,children:b("React").jsxs("div",{className:"_464_",children:[b("React").jsxs("div",{className:"_4650",children:[b("React").jsx(b("AdsFBIconDownsized.react"),{className:"_1uag",src:g("376588")}),b("React").jsx(b("SUIText.react"),{className:"_4651",shade:"white",size:"meta1",children:a})]}),c,b("React").jsx("div",{role:"link",tabIndex:0,onClick:this.$2,children:b("React").jsx(b("SUIText.react"),{className:"_4651",color:"white",size:"meta1",weight:"bold",children:i._("Done")})})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react",["invariant","AdsCanvasInlineBuilderActions","AdsCanvasPreviewPhotoElementProductTaggingOverlay.react","AdsFluxContainer","React","adsCanvasPreviewPhotoElementProductTaggingSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.state.productID!=null||g(0,3605),b("AdsCanvasInlineBuilderActions").setProductTaggingCoordinates(d.props.photoElementID,d.state.productID,a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("adsCanvasPreviewPhotoElementProductTaggingSelector").getStores()};c.calculateState=function(a,c){return b("adsCanvasPreviewPhotoElementProductTaggingSelector")(c.photoElementID)};var d=c.prototype;d.render=function(){return!this.state.shown?null:b("React").jsx(b("AdsCanvasPreviewPhotoElementProductTaggingOverlay.react"),{hasCoordinates:this.state.hasCoordinates,onDone:this.$1,onSetCoordinates:this.$2})};d.$1=function(){b("AdsCanvasInlineBuilderActions").hideProductTaggingOverlay()};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsCanvasPreviewCarouselSlider.react",["cx","React","ShimButton.react","getByPath","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this,c=150,d=b("React").Children.count(this.props.children),e=-this.props.slideWidth*this.props.currentSlide;this.props.swipeOffset&&(e+=this.props.swipeOffset);d={display:"flex",height:this.props.slideHeight,width:(d+2)*this.props.slideWidth,WebkitTransform:"translate3d("+e+"px, 0px, 0px)",transform:"translate3d("+e+"px, 0px, 0px)",msTransform:"translateX("+e+"px)",WebkitTransition:"-webkit-transform "+c+"ms ease",transition:"transform "+c+"ms ease"};d.height||delete d.height;return b("React").jsx("div",{style:d,children:b("React").Children.map(this.props.children,function(c,d){return b("React").jsx("div",{style:{display:"inline-block",width:a.props.slideWidth,height:a.props.slideHeight,position:"relative"},children:c},d)})})};return a}(b("React").Component);function i(a){return b("React").jsx("ul",{className:"_se5",children:a.children&&a.children.map(function(c,d){return b("React").jsx("li",{children:b("React").jsx(b("ShimButton.react"),{className:(a.showIndicator?"_se6":"")+(a.showIndicator&&!a.instagramPreview?" _5_dk":"")+(d===a.currentSlide&&!a.instagramPreview?" _seb":"")+(d!==a.currentSlide&&!a.instagramPreview?" _sed":"")+(d===a.currentSlide&&a.instagramPreview?" _5_dl":"")+(d!==a.currentSlide&&a.instagramPreview?" _5_dm":""),onClick:function(b){return a.onChangeSlideHandler(d)}})},d)})})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$4=function(a){d.props.children&&a>=0&&a<d.props.children.length&&d.setState({currentSlide:a})};d.$1=function(a){a=d.$5(a);var b=a.x;a=a.y;d.setState({dragging:!0,touchObject:{startX:b,startY:a,curX:b,curY:a}})};d.$3=function(a){if(!d.state.dragging||!d.state.touchObject)return;var c=d.$5(a),e=c.x;c=c.y;var f=b("nullthrows")(d.state.touchObject);f.curX=e;f.curY=c;d.setState({touchObject:f,swipeOffset:f.curX-f.startX});a.preventDefault()};d.$2=function(a){if(!d.state.dragging||!d.state.touchObject)return;a=50;var b=d.state.currentSlide,c=d.state.touchObject;c.curX-c.startX>a?b--:c.curX-c.startX<-a&&b++;b<0?b=0:d.props.children&&b>=d.props.children.length&&(b=d.props.children.length-1);d.setState({currentSlide:b,dragging:!1,swipeOffset:0,touchObject:null})};d.state={currentSlide:d.props.currentItemIndex,dragging:!1,swipeOffset:0,touchObject:null};return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState({currentSlide:a.currentItemIndex})};d.render=function(){var a=this.props.isLastElement===!0||this.props.hideIndicator!==!0&&this.state.currentSlide<this.props.carouselLength-1,c=this.props.leftOffsetInMiddle!=null&&this.props.leftOffsetInMiddle!==0&&this.state.currentSlide!==0;c=c===!0?b("nullthrows")(this.props.leftOffsetInMiddle)+"px":0;return b("React").jsxs("div",{style:{paddingLeft:c},onMouseDown:this.$1,onMouseLeave:this.state.dragging?this.$2:null,onMouseMove:this.state.dragging?this.$3:null,onMouseUp:this.$2,children:[b("React").jsx(h,{currentSlide:this.state.currentSlide,slideHeight:this.props.slideHeight,slideWidth:this.props.slideWidth,swipeOffset:this.state.swipeOffset,children:this.props.children}),b("React").jsx(i,{currentSlide:this.state.currentSlide,instagramPreview:this.props.instagramPreview,showIndicator:a,onChangeSlideHandler:this.$4,children:this.props.children})]})};d.$5=function(a){var c=b("getByPath")(a,["touches","0","pageX"]);c==null&&(c=a.clientX);var d=b("getByPath")(a,["touches","0","pageY"]);d==null&&(d=a.clientY);return{x:c,y:d}};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductCard.react",["ix","cx","fbt","AdsFBIconDownsized.react","FDSSpinner.react","FDSText.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a){if(a.product.hasError())return b("React").jsx("div",{className:"_e6z",children:b("React").jsx(b("FDSText.react"),{display:"block",size:"meta1",weight:"bold",children:i._("Cannot access this product")})});if(!a.product.hasValue())return b("React").jsx("div",{className:"_e6z",children:b("React").jsx("div",{className:"_3dye",children:b("React").jsx(b("FDSSpinner.react"),{})})});var c=a.product.getValueEnforcing(),d=c.imgSource,e=c.name;c=c.price;return b("React").jsxs("div",{className:"_e6z",children:[b("React").jsx(b("Image.react"),{className:"_e6-",height:"100",src:d,width:"100"}),b("React").jsx("div",{className:"_e6_",children:b("React").jsxs("div",{className:"_e73",children:[b("React").jsx("div",{className:"_3-94",children:b("React").jsx(b("FDSText.react"),{color:"placeholder",display:"truncate",size:"body1",children:e})}),a.hideProductPrices?null:b("React").jsx(b("FDSText.react"),{display:"block",size:"body1",weight:"bold",children:c}),b("React").jsx("div",{className:"_e74",children:b("React").jsxs("span",{className:"_e75",children:[b("React").jsx(b("AdsFBIconDownsized.react"),{className:"_3-8_",src:g("375614")}),b("React").jsx("div",{className:"_e76",children:b("React").jsx(b("FDSText.react"),{color:"placeholder",size:"body1",children:i._("Shop")})})]})})]})})]})}e.exports=a}),null);
__d("AdsCanvasPreviewProductCardContainer.react",["AdsCanvasPreviewProductCard.react","AdsFluxContainer","React","adsCanvasProductCardSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasProductCardSelector").getStores()};c.calculateState=function(a,c){a=b("adsCanvasProductCardSelector")(c.productID);return{product:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("AdsCanvasPreviewProductCard.react"),{hideProductPrices:this.props.hideProductPrices,product:this.state.product})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsCanvasPreviewProductCardSlider.react",["cssVar","AdsCanvasPreviewCarouselSlider.react","AdsCanvasPreviewProductCardContainer.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";b("immutable").List;function a(a){var c=a.currentItemIndex,d=a.hideProductPrices;a=a.productTags;return b("React").jsx("div",{style:{paddingLeft:a.count()===1?"34px":0},children:b("React").jsx(b("AdsCanvasPreviewCarouselSlider.react"),{carouselLength:a.count(),currentItemIndex:c==null||c>=a.count()?0:c,hideIndicator:!0,leftOffsetInMiddle:24,slideHeight:parseInt("120px",10),slideWidth:350,children:a.map(function(a,c){return b("React").jsx("div",{style:{padding:"10px"},children:b("React").jsx(b("AdsCanvasPreviewProductCardContainer.react"),{hideProductPrices:d,productID:a.productID})},c)}).toArray()})})}e.exports=a}),null);
__d("RichMediaPreviewConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={DEVICE_HEIGHT:720,DEVICE_WIDTH:405,DEVICE_HEIGHT_WITH_TAB:657,DEVICE_WIDTH_WITH_TAB:385,BUTTON_HEIGHT:90,BOTTOM_BUTTON_HEIGHT:62,HEADER_HEIGHT:44,MARGIN_WITH_TAB:12,PREVIEW_ELEMENT_ID_PREFIX:"preview_element",PREVIEW_ELEMENTS_ID:"preview_elements",STORE_LOCATOR_HEADER_RATIO:.3,STORE_LOCATOR_MAP_RATIO:.7,STOREFRONT_PROMO_SECTION:"storefront_promo_section",STOREFRONT_CATEGORY_NAV_SECTION:"storefront_category_nav_section",STOREFRONT_SECTION:"storefront_section"}}),null);
__d("RichMediaPreviewUtil",["RichMediaElementTypeConstant","RichMediaElementUtil","RichMediaPreviewConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaPreviewConstants").BOTTOM_BUTTON_HEIGHT,h=b("RichMediaPreviewConstants").HEADER_HEIGHT,i=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={getScrollableAreaFullHeight:function(a,c){var d=!1,e=!1;Array.isArray(c)?(d=b("RichMediaElementUtil").getFixToBottomButtonElement(c),e=b("RichMediaElementUtil").hasFixToTopHeaderElement(c)):c.count()>0&&(e=c.first().getElementType()===i.HEADER,d=c.last().getElementType()===i.FOOTER);return a-(d?g:0)-(e?h:0)},getNewScrollableAreaFullHeight:function(a,b,c){return a-(c?g:0)-(b?h:0)},formatPadding:function(a){var b=a?a.paddingTop:"0";a=a?a.paddingBottom:"0";return b+"px 0px "+a+"px"}};e.exports=a}),null);
__d("AdsCanvasPreviewPhotoElement.react",["cssVar","cx","AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react","AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react","AdsCanvasPreviewProductCardSlider.react","AdsImageUtils","Image.react","React","RichMediaPreviewUtil"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={playTiltToPan:!0},c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.photoElement.layout=="fit_to_height"&&this.$2()};d.UNSAFE_componentWillReceiveProps=function(a){(a.photoElement.layout!=this.props.photoElement.layout&&a.photoElement.layout=="fit_to_height"||a.photoElement.photo!=this.props.photoElement.photo&&a.photoElement.layout=="fit_to_height")&&this.$2()};d.render=function(){__p&&__p();var a=this.props.photoElement,c=a.crops;if(c&&c.aspectRatio){var d=a.photo,e=d.src;if(e)return b("AdsImageUtils").renderScaledCroppedImage(e,this.props.width,parseInt(this.props.width/c.aspectRatio,10),d.width,d.height,c.crop);else return b("React").jsx("div",{className:"_49qc",style:{height:this.props.width,width:this.props.width},children:b("React").jsx(b("Image.react"),{src:"/images/ads/rich_media/photo_placeholder.png"})})}if(a.photo){e=a.photo;d=e.src;if(d){c=0;var f=0;a.layout=="fit_to_height"?(c=this.props.fullHeight,f=e.width*this.props.fullHeight/e.height):(f=this.props.width,c=e.height*this.props.width/e.width);e=f>this.props.width?this.props.width:f;var g=a.productTags!=null&&a.productTags.count()>0,h=g?parseInt("120px",10):0,i=(e-f)/2;h={height:c+h,width:e,overflow:"hidden",padding:b("RichMediaPreviewUtil").formatPadding(this.props.photoElement.padding),position:"relative"};e={position:"relative",left:i};i=g?b("React").jsx(b("AdsCanvasPreviewProductCardSlider.react"),{currentItemIndex:a.currentItemIndex,hideProductPrices:a.hideProductPrices,productTags:a.productTags}):null;g=g?b("React").jsx(b("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react"),{height:c,photoElementID:this.props.photoElement.id,width:f}):null;a=a.layout=="fit_to_height"&&this.state.playTiltToPan?b("React").jsxs("div",{children:[b("React").jsx(b("Image.react"),{className:"_3-rs",src:"/images/ads/rich_media/tilt_to_pan_BG.png"}),b("React").jsx(b("Image.react"),{className:"_3-rt",id:"tiltToPanOverlayGif",src:"/images/ads/rich_media/tilt_to_pan_phone_noBG.gif"})]}):null;return b("React").jsxs("div",{"data-index":this.props.index,"data-testid":"preview-photo-component",style:h,children:[a,b("React").jsxs("div",{style:{height:c,width:f,position:"relative"},children:[b("React").jsx(b("Image.react"),{"data-testid":"preview-photo-image",height:c,src:d,style:e,width:f}),g,b("React").jsx(b("AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react"),{photoElementID:this.props.photoElement.id})]}),i]})}}return b("React").jsx("div",{children:b("React").jsx("div",{className:"_49qc",style:{height:this.props.width,width:this.props.width},children:b("React").jsx(b("Image.react"),{src:"/images/ads/rich_media/photo_placeholder.png"})})})};d.$2=function(){var a=this;this.setState({playTiltToPan:!0});this.$1!=null&&this.$3();this.$1=setTimeout(function(){a.$4()},i*1e3)};d.$3=function(){clearTimeout(this.$1)};d.$4=function(){this.$3();var a=document.getElementById("tiltToPanOverlayGif");a!=null&&a.setAttribute("src","");this.setState({playTiltToPan:!1})};return c}(b("React").Component);e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/v4UK-P_gtfA/
 */
__d("color-picker-clamp",[],(function(a,b,c,d,e,f){function a(a,b,c){return a<b?b:a>c?c:a}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/v4UK-P_gtfA/
 */
__d("color-picker-draggable-mixin",["React","color-picker-clamp"],(function(a,b,c,d,e,f){__p&&__p();a=b("React");var g=b("color-picker-clamp");function h(){}c={propTypes:{onChange:a.PropTypes.func,max:a.PropTypes.number},getDefaultProps:function(){return{onChange:h,max:1}},getInitialState:function(){return{active:!1}},componentDidMount:function(){document.addEventListener("mousemove",this.handleUpdate),document.addEventListener("touchmove",this.handleUpdate),document.addEventListener("mouseup",this.stopUpdates),document.addEventListener("touchend",this.stopUpdates)},componentWillUnmount:function(){document.removeEventListener("mousemove",this.handleUpdate),document.removeEventListener("touchmove",this.handleUpdate),document.removeEventListener("mouseup",this.stopUpdates),document.removeEventListener("touchend",this.stopUpdates)},startUpdates:function(a){a=this.getPosition(a);this.setState({active:!0});this.updatePosition(a.x,a.y)},handleUpdate:function(a){if(this.state.active){a.preventDefault();a=this.getPosition(a);this.updatePosition(a.x,a.y)}},stopUpdates:function(){this.state.active&&this.setState({active:!1})},getPosition:function(a){a.touches&&(a=a.touches[0]);return{x:a.clientX,y:a.clientY}},getPercentageValue:function(a){return a/this.props.max*100+"%"},getScaledValue:function(a){return g(a,0,1)*this.props.max}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/TN64DW1aWE6/
 */
__d("color-picker-map",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function(a,b,c,d,e,f,g){__p&&__p();c=(a=b("React")).createClass({displayName:"Map",mixins:[b("color-picker-draggable-mixin"),b("ReactComponentWithPureRenderMixin")],propTypes:{x:a.PropTypes.number,y:a.PropTypes.number,backgroundColor:a.PropTypes.string},getDefaultProps:function(){return{x:0,y:0,backgroundColor:"transparent"}},updatePosition:function(a,c){var d=b("ReactDOM").findDOMNode(this).getBoundingClientRect();a=(a-d.left)/d.width;c=(d.bottom-c)/d.height;a=this.getScaledValue(a);c=this.getScaledValue(c);this.props.onChange(a,c)},render:function(){var a="map"+(this.state.active?" active":"");return b("React").jsxs("div",{className:"_4uwo "+this.props.className+" "+a,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates,children:[b("React").jsx("div",{className:"background",style:{backgroundColor:this.props.backgroundColor}}),b("React").jsx("div",{className:"pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}})]})}});e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/TN64DW1aWE6/
 */
__d("color-picker-slider",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").createClass({displayName:"Slider",mixins:[b("color-picker-draggable-mixin"),b("ReactComponentWithPureRenderMixin")],propTypes:{vertical:b("React").PropTypes.bool.isRequired,value:b("React").PropTypes.number.isRequired},getDefaultProps:function(){return{value:0}},updatePosition:function(a,c){var d=b("ReactDOM").findDOMNode(this).getBoundingClientRect();this.props.vertical?c=(d.bottom-c)/d.height:c=(a-d.left)/d.width;c=this.getScaledValue(c);this.props.onChange(c)},getCss:function(){var a={},b=this.props.vertical?"bottom":"left";a[b]=this.getPercentageValue(this.props.value);return a},render:function(){var a="slider"+(this.props.vertical?" vertical":"")+(this.props.vertical?"":" horizontal");return b("React").jsxs("div",{className:"_4_2w "+a,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates,children:[b("React").jsx("div",{className:"track"}),b("React").jsx("div",{className:"pointer",style:this.getCss()})]})}});e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/QYQNmh4x0KJ/
 */
__d("color-picker",["cx","React","color-picker-map","color-picker-slider","colr","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.getStateFrom=function(a){a=b("colr").fromHex(a);return{hsv:a.toHsvObject()}};d.getLuminosity=function(){return b("colr").fromHsvObject(d.state.hsv).toGrayscale()/255};d.getBackgroundHue=function(){return b("colr").fromHsv(d.state.hsv.h,100,100).toHex()};d.handleHueChange=function(a){d.update({h:a,s:d.state.hsv.s,v:d.state.hsv.v})};d.handleSaturationValueChange=function(a,b){d.update({h:d.state.hsv.h,s:a,v:b})};d.update=function(a){var c=b("colr").fromHsvObject(a);d.props.onChange(c.toHex());d.setState({hsv:a})};d.state=d.getStateFrom(c.color);return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a=a.color;var c=b("colr").fromHsvObject(this.state.hsv).toHex();a.toLowerCase()!==c.toLowerCase()&&this.setState(this.getStateFrom(a))};d.render=function(){var a=this.getLuminosity(),c=this.getBackgroundHue();a=(a<=.5?"dark":"")+(a>.5?" light":"");return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_7anf"),children:[b("React").jsx("div",{className:"_2ppf",children:b("React").jsx(b("color-picker-slider"),{vertical:!0,value:this.state.hsv.h,max:360,onChange:this.handleHueChange})}),b("React").jsx(b("color-picker-map"),{x:this.state.hsv.s,y:this.state.hsv.v,max:100,className:a,backgroundColor:c,onChange:this.handleSaturationValueChange})]})};return c}(b("React").PureComponent);a.defaultProps={className:"",color:"#000000"};e.exports=a}),null);
__d("RichMediaEditorColorDialog.react",["cx","invariant","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","FBLogger","Keys","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIDialogCloseButton.react","color-picker","colr","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.showDialog=function(){d.$3(!0)};d.$2=function(){return d.refs.nub};d.$8=function(a){a.charCode===b("Keys").ESC&&d.$3(!1)};d.$9=function(){d.$3(!1)};d.$3=function(a){a!==d.state.showColorPicker&&!d.props.disabled&&d.setState({showColorPicker:a})};d.$6=function(a){a=a.target;a instanceof HTMLInputElement||h(0,592);d.setState({inputValue:a.value});var c;try{a.value.length>=3&&(c=b("colr").fromHex("#"+a.value).toHex()),c&&d.props.onChange(c)}catch(a){b("FBLogger")("ads").catching(a).info("Invalid input to color selector")}};d.$4=function(a){d.setState({inputValue:a.substr(1)}),d.props.onChange(a)};c=c.color.substr(1);d.state={inputValue:c,showColorPicker:!1};return d}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_1ky7"),ref:"nub",role:"button",style:babelHelpers["extends"]({},this.props.style),tabIndex:0,onClick:this.showDialog,children:[this.$1(),this.props.children]})};d.$1=function(){var a;return(a=b("React")).jsxs(b("XUIContextualDialog.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:b("LayerHideOnBlur")},contextRef:this.$2,position:"below",shown:this.state.showColorPicker,width:b("XUIContextualDialog.react").WIDTH.NORMAL,onToggle:this.$3,children:[a.jsxs(b("XUIContextualDialogBody.react"),{children:[a.jsx("div",{className:"_1ky8",children:a.jsx(b("color-picker"),{color:this.props.color,onChange:this.$4})}),a.jsxs("div",{className:"_1ky9",children:["#",a.jsx("input",{className:"_1kya",maxLength:6,ref:"textInput",style:this.$5(),value:this.state.inputValue,onChange:this.$6,onKeyPress:this.$7,onKeyUp:this.$8})]})]}),a.jsx(b("XUIContextualDialogFooter.react"),{children:a.jsx(b("XUIDialogCloseButton.react"),{label:"Close",use:"confirm",onClick:this.$9})})]})};d.hideDialog=function(){this.$3(!1)};d.$7=function(a){if(a.charCode===b("Keys").ESC||a.charCode>=b("Keys").ZERO&&a.charCode<=b("Keys").NINE||a.charCode>=b("Keys").A&&a.charCode<=b("Keys").F||a.charCode>=b("Keys").NUMPAD_1&&a.charCode<=b("Keys").NUMPAD_6)return;a.preventDefault()};d.$5=function(){var a=b("colr").fromHex(this.props.color).toGrayscale()/255;a=a>.5?"#000":"#FFF";return{backgroundColor:this.props.color,color:a}};return c}(b("React").Component);c.propTypes={className:a.string,color:a.string.isRequired,disabled:a.bool,style:a.object,onChange:a.func.isRequired};e.exports=c}),null);
__d("RichMediaEditorColorInput.react",["cx","fbt","React","RichMediaEditorColorDialog.react","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").jsx(b("RichMediaEditorColorDialog.react"),{className:"_1l-d"+(a.disabled?" _4k_6":""),color:a.color,disabled:a.disabled,onChange:a.onChange,children:b("React").jsx(b("XUIButton.react"),{className:"_18dg",disabled:a.disabled,label:h._("Change color"),labelIsHidden:!0,style:{backgroundColor:a.color}})})}e.exports=a}),null);
__d("RichMediaEditorTextEditor.react",["ix","cx","fbt","CanvasCreationWaterfallTypedLogger","DraftEditor.react","EditorState","Image.react","PopoverMenu.react","React","ReactXUIMenu","colr","RichTextEditorUtil","RichMediaEditorColorInput.react","RichMediaLoggingStoreUtils","RichMediaPreviewUtil","RichMediaRichFormatText","ShimButton.react","Text","XUISelector.react","XUISelectorButton.react","decodeBlocks","encodeBlocks","RichMediaEditorConstants"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactXUIMenu").SelectableItem,k=b("ReactXUIMenu").SelectableMenu,l=b("XUISelector.react").Option,m=b("RichMediaEditorConstants").EDITOR_FONT_FAMILIES,n=b("RichMediaEditorConstants").EDITOR_LINE_HEIGHT,o=b("RichMediaEditorConstants").EDITOR_PADDING_PREVIEW_SCALE;c=(a=b("React")).PropTypes;var p=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){a.preventDefault(),b.props.onToggle(b.props.style)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this.props.style;return b("React").jsx(b("ShimButton.react"),{className:"_1fp0"+(a==="BOLD"?" _v1g":"")+(a==="ITALIC"?" _v1n":"")+(a==="UNDERLINE"?" _v1o":"")+(this.props.active?" _v1p":"")+(this.props.disabled?" _4k_6":""),onClick:this.props.disabled?null:this.$1,children:b("React").jsx(b("Text"),{children:this.props.label})})};return a}(a.Component),q=[{label:i._("B"),style:"BOLD"},{label:i._("I"),style:"ITALIC"},{label:i._("U"),style:"UNDERLINE"}],r=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this,c=this.props.editorState.getCurrentInlineStyle();return b("React").jsx("div",{className:"_v1q",children:q.map(function(d){return b("React").jsx(p,{active:c.has(d.style),disabled:a.props.disabled,label:d.label,style:d.style,onToggle:a.props.onToggle},d.style)})})};return a}(a.Component);r.propTypes={disabled:c.bool,editorState:c.object.isRequired,onToggle:c.func.isRequired};var s=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){a.preventDefault(),b.props.onToggle(b.props.textAlignment)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").jsx(b("ShimButton.react"),{className:"_1fp0"+(this.props.active?" _v1p":""),onClick:this.props.disabled?null:this.$1,children:b("React").jsx("div",{className:"_5p-"+(this.props.textAlignment==="left"?" _1fp1":"")+(this.props.textAlignment=="center"?" _1fp2":"")+(this.props.textAlignment=="right"?" _1fp3":"")})})};return a}(a.Component);s.propTypes={active:c.bool.isRequired,disabled:c.bool,textAlignment:c.string.isRequired,onToggle:c.func.isRequired};var t=["left","center","right"],u=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this;return b("React").jsx("div",{className:"_v1q"+(this.props.disabled?" _4k_6":""),children:t.map(function(c){return b("React").jsx(s,{active:a.props.textAlignment===c,disabled:a.props.disabled,textAlignment:c,onToggle:a.props.onToggle},c)})})};return a}(a.Component);u.propTypes={disabled:c.bool,textAlignment:c.string.isRequired,onToggle:c.func.isRequired};var v=6,w=60,x=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this,c=[];for(var d=v;d<=w;d++)c.push(d);return b("React").jsxs(b("XUISelector.react"),{className:"_5p_",disabled:this.props.disabled,maxheight:120,name:"font_size_selector",value:this.props.fontSize,onChange:function(b){return a.$1(b.value)},children:[b("React").jsx(b("XUISelectorButton.react"),{className:"_5q0",haschevron:!0}),c.map(function(a){return b("React").jsx(l,{value:a,children:a},a)})]})};d.$1=function(a){a=parseInt(a,10);isNaN(a)||this.props.onChange(a)};return a}(a.Component);x.propTypes={disabled:c.bool,fontSize:c.number.isRequired,onChange:c.func.isRequired};var y=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){b.props.onChange(a.value)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=m.includes(this.props.fontFamily)?this.props.fontFamily:m[0];return b("React").jsxs(b("XUISelector.react"),{className:"_6rqv",disabled:this.props.disabled,maxheight:120,maxwidth:174,name:"font_selector",value:a,onChange:this.$1,children:[b("React").jsx(b("XUISelectorButton.react"),{className:"_6rqw",haschevron:!0,maxwidth:250}),m.map(function(a){return b("React").jsx(l,{value:a,children:a},a)})]})};return a}(a.Component);y.propTypes={disabled:c.bool,fontFamily:c.string.isRequired,onChange:c.func.isRequired};var z=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={selectedLineHeight:d.props.lineHeight},d.$1=function(a,c){a=c.item;c=a.getValue();d.setState({selectedLineHeight:c});d.props.onChange(c);b("RichMediaLoggingStoreUtils").logRichMediaCreationEventWithLogger(new(b("CanvasCreationWaterfallTypedLogger"))().setEventName("editor.editor_line_height_touch").setEditorLineHeight(c))},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this;if(this.props.hide)return null;var c=n.map(function(c){return b("React").jsx(j,{selected:a.state.selectedLineHeight==c,value:c,children:c},c)});c=b("React").jsx(k,{className:"_1k92",multiple:!1,onChange:this.$1,children:c});return b("React").jsx(b("PopoverMenu.react"),{alignh:"right",className:"_3la2"+(this.props.disabled?" _4k_6":""),disabled:this.props.disabled,menu:c,name:"line_height",children:b("React").jsx(b("XUISelectorButton.react"),{className:"_3la4",image:b("React").jsx(b("Image.react"),{src:g("23616")})})})};return a}(a.Component);z.defaultProps={disabled:!1,hide:!1};z.propTypes={disabled:c.bool,hide:c.bool,lineHeight:c.string.isRequired,onChange:c.func.isRequired};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$10=function(){return d.props.disableReturnHandler==!0?"handled":"not-handled"},d.$11=function(a){if(d.props.preview)return;d.setState({editorState:a});d.props.onChange(d.props.richFormatText.set("composedText",b("encodeBlocks")(a.getCurrentContent())))},d.$4=function(a){d.$11(b("RichTextEditorUtil").toggleInlineStyle(d.state.editorState,a))},d.$5=function(a){d.props.onChange(d.props.richFormatText.set("textAlignment",a))},d.$3=function(a){d.props.onChange(d.props.richFormatText.set("textColor",a))},d.$2=function(a){d.props.onChange(d.props.richFormatText.set("fontSize",a))},d.$1=function(a){d.props.onChange(d.props.richFormatText.set("fontFamily",a))},d.$6=function(a){d.props.onChange(d.props.richFormatText.set("lineHeight",a))},d.state={editorState:d.$7(d.props.richFormatText)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=null,c=this.state.editorState;if(!this.props.textPreview&&!this.props.buttonPreview){var d;a=(d=b("React")).jsxs("div",{children:[d.jsxs("div",{className:"_1fp4",children:[d.jsx(y,{disabled:this.props.disabled,fontFamily:this.props.richFormatText.fontFamily,onChange:this.$1}),d.jsx(x,{disabled:this.props.disabled,fontSize:this.props.richFormatText.fontSize,onChange:this.$2})]}),d.jsxs("div",{className:"_1fp4",children:[d.jsx("div",{className:"_5r3",children:d.jsx(b("RichMediaEditorColorInput.react"),{color:this.props.richFormatText.textColor,disabled:this.props.disabled,onChange:this.$3})}),d.jsx(r,{disabled:this.props.disabled,editorState:c,onToggle:this.$4}),this.props.hideTextAlignment?null:b("React").jsx(u,{disabled:this.props.disabled,textAlignment:this.props.richFormatText.textAlignment,onToggle:this.$5}),b("React").jsx(z,{disabled:this.props.disabled,hide:this.props.hideLineHeightSelector,lineHeight:this.props.richFormatText.lineHeight,onChange:this.$6})]})]})}else c=this.$7(this.props.richFormatText);d=this.props.buttonPreview||this.props.textPreview;return b("React").jsxs("div",{className:(d?"":"_6ms_")+(!!this.props.textPreview&&!this.props.fullBleed?" _5mmf":"")+(this.props.buttonPreview?" _5mmg":"")+(d?"":" _1fk"),children:[a,b("React").jsx("div",{style:{transition:"background-color 325ms ease",backgroundColor:d?"transparent":this.$8(this.props.richFormatText.textColor),color:this.props.richFormatText.textColor,fontFamily:this.props.richFormatText.fontFamily,fontSize:this.props.richFormatText.fontSize,lineHeight:this.$9(this.props.richFormatText.fontSize,this.props.richFormatText.lineHeight),overflowY:d?"inherit":"scroll",padding:d?b("RichMediaPreviewUtil").formatPadding(this.props.padding):0},children:b("React").jsx(b("DraftEditor.react"),{editorState:c,handleReturn:this.$10,placeholder:i._("Write something...").toString(),readOnly:this.props.disabled,textAlignment:this.props.richFormatText.textAlignment,webDriverTestID:"text-component-editor",onChange:this.$11})})]})};d.$7=function(a){a=b("decodeBlocks")(a.composedText.blocks,a.composedText.entityMap);return b("EditorState").createWithContent(a)};d.$8=function(a){a=b("colr").fromHex(a).toGrayscale()/255;return a>.5?"#000":"#FFF"};d.$9=function(a,b){a=parseFloat(b)*o*100;return a+"%"};return c}(a.Component);d.propTypes={buttonPreview:c.bool,disableReturnHandler:c.bool,disabled:c.bool,fullBleed:c.bool,hideLineHeightSelector:c.bool,hideTextAlignment:c.bool,padding:c.object,richFormatText:c.instanceOf(b("RichMediaRichFormatText")).isRequired,textPreview:c.bool,onChange:c.func.isRequired};d.defaultProps={buttonPreview:!1,disableReturnHandler:!1,hideLineHeightSelector:!1,hideTextAlignment:!1,textPreview:!1};e.exports=d}),null);
__d("AdsCanvasPreviewTextElement.react",["React","RichMediaEditorTextEditor.react","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.textElement.backgroundColor?this.props.textElement.backgroundColor:"#FFFFFF";return b("React").jsx("div",{"data-index":this.props.index,"data-testid":"preview-text-component",style:{background:a},children:b("React").jsx(b("RichMediaEditorTextEditor.react"),{disabled:!0,padding:this.props.textElement.padding,richFormatText:this.props.textElement.richFormatText,textPreview:!0,onChange:b("emptyFunction")})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewBundleElement.react",["fbt","AdsCanvasPreviewPhotoElement.react","AdsCanvasPreviewTextElement.react","React","RichMediaPhotoElement","RichMediaTextElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.bundleElement,d=c.get("items"),e=c.get("index");return b("React").jsx("div",{children:d.map(function(b,c){return a.$1(b,c,e)})})};d.$1=function(a,c,d){var e=b("RichMediaPhotoElement").createFromBundle(a,c*3+1+d,"element_group_"+c),f=b("RichMediaTextElement").createFromBundle(a.get("itemHeadline")||g._("Add a product name or headline").toString(),a.get("link"),c*3+1+d,"element_group_"+c,"item_headline");a=b("RichMediaTextElement").createFromBundle(a.get("itemDescription")||g._("Add a product price or description").toString(),a.get("link"),c*3+2+d,"element_group_"+c,"item_description");return b("React").jsxs("div",{children:[b("React").jsx(b("AdsCanvasPreviewPhotoElement.react"),{fullHeight:this.props.fullHeight,photoElement:e,width:this.props.width}),b("React").jsx(b("AdsCanvasPreviewTextElement.react"),{textElement:f}),b("React").jsx(b("AdsCanvasPreviewTextElement.react"),{textElement:a})]},c)};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewButtonElement.react",["cx","React","RichMediaEditorTextEditor.react","RichMediaPreviewUtil","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.buttonElement.isFilled?{background:this.props.buttonElement.buttonColor}:{border:"solid 2px "+this.props.buttonElement.buttonColor};this.props.isBottomButton===!0&&this.props.instagramPreview===!0&&(a={border:"solid 2px #969696",borderRadius:"3px"});var c=this.props.isBottomButton===!0?{}:{padding:b("RichMediaPreviewUtil").formatPadding(this.props.buttonElement.padding)};c=babelHelpers["extends"]({},c,{background:this.props.buttonElement.backgroundColor});return b("React").jsx("div",{"data-index":this.props.index,"data-testid":"preview-button-component",style:c,children:b("React").jsx("div",{className:"_6w5",style:a,children:b("React").jsx(b("RichMediaEditorTextEditor.react"),{buttonPreview:!0,disabled:!0,richFormatText:this.props.buttonElement.richFormatText,onChange:b("emptyFunction")})})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewCarouselItem.react",["cx","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.carouselItem.photo;if(a&&a.src){var c=this.$1(a),d=this.props.instagramPreview?h("306030"):h("23610");d=this.props.carouselItemIndex<this.props.carouselLength-1?b("React").jsx(b("Image.react"),{className:(this.props.instagramPreview?"":"_gp2")+(this.props.instagramPreview?" _5_jy":""),src:d}):null;var e=!this.props.isLastElement&&this.props.carouselItemIndex===this.props.carouselLength-1&&!this.props.instagramPreview?b("React").jsx(b("Image.react"),{className:"_gp3",src:h("23609")}):null,f={overflow:"hidden",height:this.props.layout==="fit_to_width"&&this.props.firstPhotoHeight>0?this.props.firstPhotoHeight:c.height,width:this.props.width};return b("React").jsxs("div",{className:"_gp4",style:f,children:[d,e,b("React").jsx(b("Image.react"),{"data-index":this.props.carouselItemIndex,"data-testid":"preview-carousel-image",height:c.height,src:a.src,style:{transform:"translateX("+(c.width>this.props.width?"-":"")+c.translateX+"px)"},width:c.width})]})}else return b("React").jsx("div",{className:"_gp4",style:{height:this.props.slideHeight,width:this.props.width,background:"url('/images/ads/rich_media/photo_placeholder.png') no-repeat center center"}})};d.$1=function(a){var b=0,c=0,d=0;if(this.props.layout=="fit_to_height")b=this.props.slideHeight,c=a.width*this.props.slideHeight/a.height;else{var e=a.height*this.props.width/a.width;this.props.firstPhotoHeight>0&&e<this.props.firstPhotoHeight?(b=this.props.firstPhotoHeight,c=a.width*this.props.firstPhotoHeight/a.height):(c=this.props.width,b=Math.min(e,this.props.slideHeight))}c!=this.props.width&&(d=Math.abs((c-this.props.width)/2));return{height:b,translateX:d,width:c}};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewCarouselElement.react",["cx","AdsCanvasCarouselElement","AdsCanvasPreviewCarouselItem.react","AdsCanvasPreviewCarouselSlider.react","Image.react","React","RichMediaCarouselElement","RichMediaPreviewUtil"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.carouselElement instanceof b("AdsCanvasCarouselElement")?this.props.carouselElement!==a.carouselElement||this.props.instagramPreview!==a.instagramPreview:!b("RichMediaCarouselElement").equals(this.props.carouselElement,a.carouselElement)||this.props.instagramPreview!==a.instagramPreview};d.render=function(){__p&&__p();var a=this,c=!1;this.props.index===this.props.elementListFooterIndex&&(c=!0);var d=this.props.carouselElement.items,e=Array.isArray(d)?d.length:d.count();if(e>0){var f=this.$1(),g=f,h=Array.isArray(d)?d[0]:d.first();e>1&&h.photo&&(g=h.photo.height*this.props.width/h.photo.width);return b("React").jsx("div",{className:"_5p-z","data-index":this.props.index,"data-testid":"preview-carousel-component",style:{margin:b("RichMediaPreviewUtil").formatPadding(this.props.carouselElement.padding)},children:b("React").jsx(b("AdsCanvasPreviewCarouselSlider.react"),{carouselLength:e,currentItemIndex:this.props.carouselElement.selectedItemIndex,instagramPreview:this.props.instagramPreview,isLastElement:c,slideHeight:this.props.carouselElement.layout==="fit_to_width"?g:f,slideWidth:this.props.width,children:d.map(function(d,h){return b("React").jsx(b("AdsCanvasPreviewCarouselItem.react"),{carouselItem:d,carouselItemIndex:h,carouselLength:e,firstPhotoHeight:g,instagramPreview:a.props.instagramPreview,isLastElement:c,layout:a.props.carouselElement.layout,slideHeight:f,width:a.props.width},a.props.carouselElement.index+"-"+d.index)})})})}return b("React").jsx("div",{children:b("React").jsx("div",{className:"_49qc",style:{height:this.$1()},children:b("React").jsx(b("Image.react"),{src:"/images/ads/rich_media/photo_placeholder.png"})})})};d.$1=function(){__p&&__p();var a=this,b=this.props.fullHeight;if(this.props.carouselElement.layout==="fit_to_width"){var c=0;this.props.carouselElement.items.forEach(function(b){if(b.photo&&b.photo.src){b=b.photo.height*a.props.width/b.photo.width;b>c&&(c=b)}});c!=0?b=c:b=this.props.width}return b};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewDynamicProductSetElement.react",["AdsCollectionsConstants","FDSSpinner.react","React","ReactDOM","RichMediaPreviewUtil","UIPagelet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(){this.$1()};d.render=function(){return b("React").jsx("div",{style:{marginTop:"-10px",padding:b("RichMediaPreviewUtil").formatPadding(this.props.productSetElement.padding)},children:b("React").jsx("span",{ref:"productSetPreview",children:b("React").jsx(b("FDSSpinner.react"),{})})})};d.$1=function(){b("UIPagelet").loadFromEndpoint("RichMediaProductSetPreviewPageletController",b("ReactDOM").findDOMNode(this.refs.productSetPreview),{bundleID:this.props.bundleID,limit:50,productCatalogID:this.props.productSetElement.catalogID,productSetID:this.props.productSetElement.setID,retailerItemIDs:b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID,itemHeadlineTemplate:this.props.productSetElement.itemHeadlineTemplate,itemDescriptionTemplate:this.props.productSetElement.itemDescriptionTemplate,width:this.props.width,instagramPreview:!1,instagramCollectionTemplatePreview:!1,enableBento:!1})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewDynamicProductSetElementContainer.react",["AdsCanvasPreviewDynamicProductSetElement.react","FluxContainer","React","adsCanvasPreviewDynamicProductSetElementSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewDynamicProductSetElementSelector").getStores()};c.calculateState=function(){return b("adsCanvasPreviewDynamicProductSetElementSelector")()};var d=c.prototype;d.render=function(){return b("React").jsx(b("AdsCanvasPreviewDynamicProductSetElement.react"),{bundleID:this.state.bundleID,productSetElement:this.props.productSetElement,width:this.props.width})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("AdsCanvasPreviewHeaderElement.react",["cx","CanvasColorUtils","Image.react","React","RichMediaRichFormatText"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=324,c=44;if(this.props.headerElement.photo){var d=this.props.headerElement.photo;c=Math.min(c/d.height,a/d.width);return b("React").jsx("div",{className:"_5o5u","data-testid":"preview-header-component",style:this.$1(),children:b("React").jsx(b("Image.react"),{className:"_5o5y","data-testid":"preview-header-image",height:d.height*c,src:d.src,width:d.width*c})})}else if(this.props.headerElement.richFormatText&&this.props.headerElement.richFormatText.composedText){a=b("RichMediaRichFormatText").getPlainTextFromComposedText(this.props.headerElement.richFormatText.composedText);return b("React").jsx("div",{className:"_5o5u","data-index":this.props.index,"data-testid":"preview-header-component",style:this.$1(),children:b("React").jsx("div",{className:"_5o5y",children:b("React").jsx("span",{className:"_5o5z",children:a})})})}return b("React").jsx("div",{className:"_5o5u","data-index":this.props.index,"data-testid":"preview-header-component",style:this.$1(),children:b("React").jsx(b("Image.react"),{className:"_5o5y","data-testid":"preview-header-image",src:"/images/ads/rich_media/photo_placeholder.png"})})};d.$1=function(){__p&&__p();var a={};if(this.props.headerElement.backgroundColor){var c=b("CanvasColorUtils").convertARGBToColorWithOpacity(this.props.headerElement.backgroundColor);c=b("CanvasColorUtils").convertRGBtoCSSColorWithOpacity(c.color,c.opacity/100);a.background=c}else a.background="rgba(255, 255, 255, 1.0)";this.props.headerElement.richFormatText&&this.props.headerElement.richFormatText.composedText&&(a.color=this.props.headerElement.richFormatText.textColor);this.props.headerElement.isOpaque()&&(a.position="static");return a};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductListElement.react",["FDSSpinner.react","React","ReactDOM","RichMediaPreviewUtil","UIPagelet","adsDynamicCampaignIsManualCatalogOption"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(){this.$1()};d.render=function(){return b("React").jsx("div",{style:{marginTop:"-10px",padding:b("RichMediaPreviewUtil").formatPadding(this.props.productListElement.padding)},children:b("React").jsx("span",{ref:"productListPreview",children:b("React").jsx(b("FDSSpinner.react"),{})})})};d.$1=function(){var a=b("adsDynamicCampaignIsManualCatalogOption")(this.props.productListElement.catalogID,this.props.manualCatalogID)?this.props.manualCatalogID:this.props.productListElement.catalogID;b("UIPagelet").loadFromEndpoint("AdsCanvasPreviewProductListPageletController",b("ReactDOM").findDOMNode(this.refs.productListPreview),{productCatalogID:a,productIDList:this.props.productListElement.productIDList,itemHeadlineTemplate:this.props.productListElement.itemHeadlineTemplate,itemDescriptionTemplate:this.props.productListElement.itemDescriptionTemplate,width:this.props.width,instagramPreview:!!this.props.instagramPreview,instagramCollectionTemplatePreview:!!this.props.instagramPreview})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductListElementContainer.react",["AdsCanvasPreviewProductListElement.react","AdsFluxContainer","ManualCatalogIDProvider","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("ManualCatalogIDProvider").toFluxSelector().getStores()};c.calculateState=function(){return{manualCatalogID:b("ManualCatalogIDProvider")().get().getValue()}};var d=c.prototype;d.render=function(){return b("React").jsx(b("AdsCanvasPreviewProductListElement.react"),{index:this.props.index,instagramPreview:this.props.instagramPreview,manualCatalogID:this.state.manualCatalogID,productListElement:this.props.productListElement,width:this.props.width})};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("StoreLocator.react",["ix","cx","fbt","AdsFBIconDownsized.react","GeoCoordinates","Image.react","LeafletMap__DEPRECATED.react","LeafletMarker.react","LeafletTileLayer.react","LeafletView","React","TilesMapUtils","asset","leaflet"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.cardWidth=function(){return c.props.width*.9},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_203m",children:b("React").jsxs("div",{style:{width:this.props.width,height:this.props.height},children:[this.renderMap(),this.renderCards()]})})};d.renderMap=function(){var a=this,c=new(b("GeoCoordinates"))(0,0);this.props.locations.length>0&&(c=new(b("GeoCoordinates"))(this.centralLocation().location.latitude,this.centralLocation().location.longitude));c=new(b("LeafletView"))({center:c,zoom:10});var d={dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,zoomControl:!1},e=b("TilesMapUtils").getTileURLTemplate();return b("React").jsxs(b("LeafletMap__DEPRECATED.react"),{defaultView:c,options:d,style:{width:this.props.width,height:this.props.height},children:[b("React").jsx(b("LeafletTileLayer.react"),{urlTemplate:e}),this.props.locations.map(function(b){return a.pinFor(b)})]})};d.centralLocation=function(){return this.props.locations[0]};d.pinFor=function(a){return b("React").jsx(b("LeafletMarker.react"),{coordinates:new(b("GeoCoordinates"))(a.location.latitude,a.location.longitude),options:{icon:a===this.centralLocation()?this.expandedPinWithImage(a.picture.data.url):this.smallPin(),zIndexOffset:a==this.centralLocation()?100:0}},"pin-"+a.id)};d.smallPin=function(){return b("leaflet").divIcon({className:"_2035",iconSize:[14,14],iconAnchor:[7,7]})};d.expandedPinWithImage=function(a){a='<div class="_2036">\n      <img src="'+a+'" /></div>\n      <div class="_2037"></div>';return b("leaflet").divIcon({className:"_2038",iconSize:[52,52],iconAnchor:[26,52],html:a})};d.renderCards=function(){return b("React").jsx("div",{className:"_2039",style:{paddingLeft:(this.props.width-this.cardWidth())/2,paddingBottom:(this.props.width-this.cardWidth())/2},children:b("React").jsxs("div",{className:"_203a",style:{width:this.cardWidth()},children:[this.$1(this.centralLocation()),this.$2(this.centralLocation())]})})};d.$1=function(a){var c,d=this.cardWidth()-12-32-12*2-24-12;return(c=b("React")).jsxs("div",{className:"_203b",children:[c.jsx(b("Image.react"),{className:"_203c",src:a.picture.data.url}),c.jsxs("div",{className:"_203d ellipsis",style:{width:d},children:[c.jsx("span",{className:"_203f",children:a.location.street}),c.jsx("br",{})]}),c.jsx(b("AdsFBIconDownsized.react"),{className:"_203h",src:g("406884")})]})};d.$2=function(a){var c=(a=b("React")).jsx("span",{children:i._("Opens tomorrow")}),d=this.cardWidth()-12-32-12*2;return a.jsxs("div",{className:"_203l",children:[a.jsx(b("AdsFBIconDownsized.react"),{className:"_203c",src:g("400700")}),a.jsxs("div",{className:"_203d",style:{width:d},children:[a.jsx("span",{className:"_203f",children:c}),a.jsx("br",{}),a.jsx("span",{className:"_203g",children:i._("Get additional info")})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewStoreLocatorElement.react",["cx","CanvasColorUtils","React","RichMediaPreviewConstants","StoreLocator.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaPreviewConstants").HEADER_HEIGHT,i=b("RichMediaPreviewConstants").STORE_LOCATOR_HEADER_RATIO,j=b("RichMediaPreviewConstants").STORE_LOCATOR_MAP_RATIO;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{style:{height:this.props.height,width:this.props.width},children:[this.$1(),this.$2()]})};d.$1=function(){var a,c=this.props.height*i;return(a=b("React")).jsxs("div",{className:"_1sr0",style:{background:"url("+this.props.coverPhotoURL+") no-repeat center",color:b("CanvasColorUtils").colorContrastingWith(this.props.storeLocatorElement.headerBackgroundColor()),height:c,width:this.props.width},children:[a.jsx("div",{className:"_1sr1",style:{backgroundColor:this.props.storeLocatorElement.headerBackgroundColor(),height:c,width:this.props.width}}),a.jsxs("div",{className:"_1sr2",style:{paddingTop:h,fontFamily:this.props.storeLocatorElement.typeface},children:[a.jsx("p",{className:"_1sr4 ellipsis",children:this.props.pages[0].name}),a.jsx("p",{className:"_1sr5",children:this.props.pages[0].location.street})]})]})};d.$2=function(){var a=this.props.height*j;return b("React").jsx(b("StoreLocator.react"),{height:a,locations:this.props.pages,width:this.props.width})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewStoreLocatorElementContainer.react",["cx","AdsCanvasPreviewStoreLocatorElement.react","AdsFluxContainer","AdsSpinner.react","React","RichMediaPreviewConstants","adsCanvasPreviewStoreLocatorSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RichMediaPreviewConstants").DEVICE_HEIGHT;var h=b("RichMediaPreviewConstants").DEVICE_WIDTH;c=b("RichMediaPreviewConstants").STORE_LOCATOR_HEADER_RATIO;var i=a*c;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewStoreLocatorSelector").getStores()};c.calculateState=function(a,c){return b("adsCanvasPreviewStoreLocatorSelector")(c.storeLocatorElement.pageID)};var d=c.prototype;d.render=function(){if(this.props.storeLocatorElement.hidden)return null;return!this.state.isReady?b("React").jsx("div",{className:"_34e4",style:{height:i,width:h},children:b("React").jsx(b("AdsSpinner.react"),{size:"large"})}):b("React").jsx(b("AdsCanvasPreviewStoreLocatorElement.react"),{coverPhotoURL:this.state.coverPhotoURL,height:this.props.height,pages:this.state.pages,storeLocatorElement:this.props.storeLocatorElement,width:this.props.width})};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(d,{withProps:!0,name:e.id})}),null);
__d("AdsCanvasPreviewSwipeToOpen.react",["ix","cx","fbt","Image.react","React","asset","colr","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){if(!a.hidden)return null;a=a.documentTheme.substr(2);var c=b("colr").fromHex(a).toGrayscale()/255,d=c>.5?"#91949c":"#FFF";c=c>.5?g("541301"):g("541303");return b("React").jsxs("div",{className:"_2n2b",style:{color:d,background:"#"+a},children:[b("React").jsx("div",{className:"_3-8x",children:b("React").jsx(b("Image.react"),{src:c})}),b("React").jsx("div",{className:"_51rv",children:i._("Swipe to Load Website")})]})}e.exports=a}),null);
__d("AdsCanvasPreviewSwipeToOpenContainer.react",["AdsCanvasPreviewSwipeToOpen.react","AdsFluxContainer","FDSSpinner.react","React","adsCanvasPreviewSwipeToOpenSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewSwipeToOpenSelector").getStores()};c.calculateState=function(){return b("adsCanvasPreviewSwipeToOpenSelector")()};var d=c.prototype;d.render=function(){return!this.state.isReady?b("React").jsx(b("FDSSpinner.react"),{}):b("React").jsx(b("AdsCanvasPreviewSwipeToOpen.react"),{documentTheme:this.state.documentTheme,hidden:this.state.hidden})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("ShowreelSpecificationLoader.react",["AsyncRequest","CancelablePromise","React","XShowreelSpecificationController","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={loading:!0,error:null,specification:null};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state=g,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.render(this.state)||null};d.componentWillUnmount=function(){this.$1&&this.$1.cancel()};d.UNSAFE_componentWillMount=function(){this.$2(this.props.templateID)};d.UNSAFE_componentWillReceiveProps=function(a){a.templateID!==this.props.templateID&&this.$2(a.templateID)};d.$2=function(a){__p&&__p();var c=this;this.setState(g);if(a==null||a==void 0)return;var d=b("XShowreelSpecificationController").getURIBuilder().setString("id",a).getURI();this.$1=new(b("CancelablePromise"))(new(b("AsyncRequest"))(d).setMethod("POST").exec());b("promiseDone")(this.$1.getPromise(),function(d){d.getError()?c.setState({loading:!1,error:new Error("Failed to fetch "+b("nullthrows")(a)+"'s specification.json")}):c.setState({loading:!1,error:null,specification:d.getPayload()})},function(a){if(!a.isCanceled)throw a})};return c}(b("React").Component);e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("bit-twiddle-1.0.2",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={exports:g};function i(){__p&&__p();var a=32;g.INT_BITS=a;g.INT_MAX=2147483647;g.INT_MIN=-1<<a-1;g.sign=function(a){return(a>0)-(a<0)};g.abs=function(b){var c=b>>a-1;return(b^c)-c};g.min=function(a,b){return b^(a^b)&-(a<b)};g.max=function(a,b){return a^(a^b)&-(a<b)};g.isPow2=function(a){return!(a&a-1)&&!!a};g.log2=function(a){__p&&__p();var b,c;b=(a>65535)<<4;a>>>=b;c=(a>255)<<3;a>>>=c;b|=c;c=(a>15)<<2;a>>>=c;b|=c;c=(a>3)<<1;a>>>=c;b|=c;return b|a>>1};g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0};g.popCount=function(a){a=a-(a>>>1&1431655765);a=(a&858993459)+(a>>>2&858993459);return(a+(a>>>4)&252645135)*16843009>>>24};function b(a){var b=32;a&=-a;a&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&(b-=1);return b}g.countTrailingZeros=b;g.nextPow2=function(a){a+=a===0;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a+1};g.prevPow2=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1)};g.parity=function(a){a^=a>>>16;a^=a>>>8;a^=a>>>4;a&=15;return 27030>>>a&1};var c=new Array(256);(function(a){for(var b=0;b<256;++b){var c=b,d=b,e=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=c&1,--e;a[b]=d<<e&255}})(c);g.reverse=function(a){return c[a&255]<<24|c[a>>>8&255]<<16|c[a>>>16&255]<<8|c[a>>>24&255]};g.interleave2=function(a,b){__p&&__p();a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;a=(a|a<<1)&1431655765;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;b=(b|b<<1)&1431655765;return a|b<<1};g.deinterleave2=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;a=(a|a>>>16)&65535;return a<<16>>16};g.interleave3=function(a,b,c){__p&&__p();a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;a=(a|a<<2)&1227133513;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;b=(b|b<<2)&1227133513;a|=b<<1;c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;c=(c|c<<2)&1227133513;return a|c<<2};g.deinterleave3=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;a=(a|a>>>16)&1023;return a<<22>>22};g.nextCombination=function(a){var c=a|a-1;return c+1|(~c&-~c)-1>>>b(a)+1}}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("earcut-2.1.3",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();g.exports=a;g.exports["default"]=a;function a(a,c,e){__p&&__p();e=e||2;var f=c&&c.length,g=f?c[0]*e:a.length,h=b(a,0,g,e,!0),i=[];if(!h)return i;var k,l,m,n,o;f&&(h=j(a,c,h,e));if(a.length>80*e){k=f=a[0];l=c=a[1];for(var p=e;p<g;p+=e)m=a[p],n=a[p+1],m<k&&(k=m),n<l&&(l=n),m>f&&(f=m),n>c&&(c=n);o=Math.max(f-k,c-l);o=o!==0?1/o:0}d(h,i,e,k,l,o);return i}function b(a,b,c,d,e){var f;if(e===D(a,b,c,d)>0)for(e=b;e<c;e+=d)f=A(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=A(e,a[e],a[e+1],f);f&&u(f,f.next)&&(B(f),f=f.next);return f}function c(a,b){__p&&__p();if(!a)return a;b||(b=a);a=a;var c;do{c=!1;if(!a.steiner&&(u(a,a.next)||t(a.prev,a,a.next)===0)){B(a);a=b=a.prev;if(a===a.next)break;c=!0}else a=a.next}while(c||a!==b);return b}function d(a,b,g,j,k,l,m){__p&&__p();if(!a)return;!m&&l&&n(a,j,k,l);var o=a,p,q;while(a.prev!==a.next){p=a.prev;q=a.next;if(l?f(a,j,k,l):e(a)){b.push(p.i/g);b.push(a.i/g);b.push(q.i/g);B(a);a=q.next;o=q.next;continue}a=q;if(a===o){!m?d(c(a),b,g,j,k,l,1):m===1?(a=h(a,b,g),d(a,b,g,j,k,l,2)):m===2&&i(a,b,g,j,k,l);break}}}function e(a){__p&&__p();var b=a.prev,c=a,d=a.next;if(t(b,c,d)>=0)return!1;var e=a.next.next;while(e!==a.prev){if(r(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&t(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function f(a,b,c,d){__p&&__p();var e=a.prev,f=a,g=a.next;if(t(e,f,g)>=0)return!1;var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y;h=p(h,i,b,c,d);i=p(j,k,b,c,d);j=a.prevZ;k=a.nextZ;while(j&&j.z>=h&&k&&k.z<=i){if(j!==a.prev&&j!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,j.x,j.y)&&t(j.prev,j,j.next)>=0)return!1;j=j.prevZ;if(k!==a.prev&&k!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,k.x,k.y)&&t(k.prev,k,k.next)>=0)return!1;k=k.nextZ}while(j&&j.z>=h){if(j!==a.prev&&j!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,j.x,j.y)&&t(j.prev,j,j.next)>=0)return!1;j=j.prevZ}while(k&&k.z<=i){if(k!==a.prev&&k!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,k.x,k.y)&&t(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function h(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;!u(e,f)&&v(e,d,d.next,f)&&x(e,f)&&x(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),B(d),B(d.next),d=a=f);d=d.next}while(d!==a);return d}function i(a,b,e,f,g,h){__p&&__p();var i=a;do{var j=i.next.next;while(j!==i.prev){if(i.i!==j.i&&s(i,j)){var k=z(i,j);i=c(i,i.next);k=c(k,k.next);d(i,b,e,f,g,h);d(k,b,e,f,g,h);return}j=j.next}i=i.next}while(i!==a)}function j(a,d,e,f){var g=[],h,i,j,m;for(h=0,i=d.length;h<i;h++)j=d[h]*f,m=h<i-1?d[h+1]*f:a.length,j=b(a,j,m,f,!1),j===j.next&&(j.steiner=!0),g.push(q(j));g.sort(k);for(h=0;h<g.length;h++)l(g[h],e),e=c(e,e.next);return e}function k(a,b){return a.x-b.x}function l(a,b){b=m(a,b);if(b){b=z(b,a);c(b,b.next)}}function m(a,b){__p&&__p();var c=b,d=a.x,e=a.y,f=-Infinity,g;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var h=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(h<=d&&h>f){f=h;if(h===d){if(e===c.y)return c;if(e===c.next.y)return c.next}g=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!g)return null;if(d===f)return g.prev;h=g;b=g.x;var i=g.y,j=Infinity,k;c=g.next;while(c!==h)d>=c.x&&c.x>=b&&d!==c.x&&r(e<i?d:f,e,b,i,e<i?f:d,e,c.x,c.y)&&(k=Math.abs(e-c.y)/(d-c.x),(k<j||k===j&&c.x>g.x)&&x(c,a)&&(g=c,j=k)),c=c.next;return g}function n(a,b,c,d){var e=a;do e.z===null&&(e.z=p(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next;while(e!==a);e.prevZ.nextZ=null;e.prevZ=null;o(e)}function o(a){__p&&__p();var b,c,d,e,f,g,h,i=1;do{c=a;a=null;f=null;g=0;while(c){g++;d=c;h=0;for(b=0;b<i;b++){h++;d=d.nextZ;if(!d)break}b=i;while(h>0||b>0&&d)h!==0&&(b===0||!d||c.z<=d.z)?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,b--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null;i*=2}while(g>1);return a}function p(a,b,c,d,e){__p&&__p();a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;a=(a|a<<1)&1431655765;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;b=(b|b<<1)&1431655765;return a|b<<1}function q(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function r(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function s(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!w(a,b)&&x(a,b)&&x(b,a)&&y(a,b)}function t(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function u(a,b){return a.x===b.x&&a.y===b.y}function v(a,b,c,d){return u(a,b)&&u(c,d)||u(a,d)&&u(c,b)?!0:t(a,b,c)>0!==t(a,b,d)>0&&t(c,d,a)>0!==t(c,d,b)>0}function w(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&v(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}function x(a,b){return t(a.prev,a,a.next)<0?t(a,b,a.next)>=0&&t(a,a.prev,b)>=0:t(a,b,a.prev)<0||t(a,a.next,b)<0}function y(a,b){var c=a,d=!1,e=(a.x+b.x)/2;b=(a.y+b.y)/2;do c.y>b!==c.next.y>b&&c.next.y!==c.y&&e<(c.next.x-c.x)*(b-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}function z(a,b){__p&&__p();var c=new C(a.i,a.x,a.y),d=new C(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function A(a,b,c,d){a=new C(a,b,c);!d?(a.prev=a,a.next=a):(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a);return a}function B(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function C(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}a.deviation=function(a,b,c,d){__p&&__p();var e=b&&b.length,f=e?b[0]*c:a.length;f=Math.abs(D(a,0,f,c));if(e)for(var e=0,g=b.length;e<g;e++){var h=b[e]*c,i=e<g-1?b[e+1]*c:a.length;f-=Math.abs(D(a,h,i,c))}h=0;for(e=0;e<d.length;e+=3){i=d[e]*c;b=d[e+1]*c;g=d[e+2]*c;h+=Math.abs((a[i]-a[g])*(a[b+1]-a[i+1])-(a[i]-a[b])*(a[g+1]-a[i+1]))}return f===0&&h===0?0:Math.abs((h-f)/f)};function D(a,b,c,d){var e=0;for(var b=b,f=c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}a.flatten=function(a){var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0;for(var e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);e>0&&(d+=a[e-1].length,c.holes.push(d))}return c}}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("eventemitter3-2.0.3",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();var a=Object.prototype.hasOwnProperty,b="~";function c(){}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(b=!1));function d(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function e(){this._events=new c(),this._eventsCount=0}e.prototype.eventNames=function(){var c=[],d,e;if(this._eventsCount===0)return c;for(e in d=this._events)a.call(d,e)&&c.push(b?e.slice(1):e);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c};e.prototype.listeners=function(a,c){__p&&__p();a=b?b+a:a;a=this._events[a];if(c)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var c=0,d=a.length,e=new Array(d);c<d;c++)e[c]=a[c].fn;return e};e.prototype.emit=function(a,c,d,e,f,g){__p&&__p();var h=b?b+a:a;if(!this._events[h])return!1;var i=this._events[h],j=arguments.length,k,l;if(i.fn){i.once&&this.removeListener(a,i.fn,void 0,!0);switch(j){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,c),!0;case 3:return i.fn.call(i.context,c,d),!0;case 4:return i.fn.call(i.context,c,d,e),!0;case 5:return i.fn.call(i.context,c,d,e,f),!0;case 6:return i.fn.call(i.context,c,d,e,f,g),!0}for(l=1,k=new Array(j-1);l<j;l++)k[l-1]=arguments[l];i.fn.apply(i.context,k)}else{var m=i.length,n;for(l=0;l<m;l++){i[l].once&&this.removeListener(a,i[l].fn,void 0,!0);switch(j){case 1:i[l].fn.call(i[l].context);break;case 2:i[l].fn.call(i[l].context,c);break;case 3:i[l].fn.call(i[l].context,c,d);break;case 4:i[l].fn.call(i[l].context,c,d,e);break;default:if(!k)for(n=1,k=new Array(j-1);n<j;n++)k[n-1]=arguments[n];i[l].fn.apply(i[l].context,k)}}}return!0};e.prototype.on=function(a,c,e){c=new d(c,e||this);e=b?b+a:a;!this._events[e]?(this._events[e]=c,this._eventsCount++):!this._events[e].fn?this._events[e].push(c):this._events[e]=[this._events[e],c];return this};e.prototype.once=function(a,c,e){c=new d(c,e||this,!0);e=b?b+a:a;!this._events[e]?(this._events[e]=c,this._eventsCount++):!this._events[e].fn?this._events[e].push(c):this._events[e]=[this._events[e],c];return this};e.prototype.removeListener=function(a,d,e,f){__p&&__p();a=b?b+a:a;if(!this._events[a])return this;if(!d){--this._eventsCount===0?this._events=new c():delete this._events[a];return this}var g=this._events[a];if(g.fn)g.fn===d&&(!f||g.once)&&(!e||g.context===e)&&(--this._eventsCount===0?this._events=new c():delete this._events[a]);else{for(var h=0,i=[],j=g.length;h<j;h++)(g[h].fn!==d||f&&!g[h].once||e&&g[h].context!==e)&&i.push(g[h]);i.length?this._events[a]=i.length===1?i[0]:i:--this._eventsCount===0?this._events=new c():delete this._events[a]}return this};e.prototype.removeAllListeners=function(a){a?(a=b?b+a:a,this._events[a]&&(--this._eventsCount===0?this._events=new c():delete this._events[a])):(this._events=new c(),this._eventsCount=0);return this};e.prototype.off=e.prototype.removeListener;e.prototype.addListener=e.prototype.on;e.prototype.setMaxListeners=function(){return this};e.prefixed=b;e.EventEmitter=e;"undefined"!==typeof g&&(g.exports=e)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/e1uPfGqT9n9/
 */
__d("ismobilejs-0.4.1",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a},h;function i(){__p&&__p();(function(b){__p&&__p();var c=/iPhone/i,d=/iPod/i,e=/iPad/i,f=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,i=/Android/i,j=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,k=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/Windows Phone/i,m=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,n=/BlackBerry/i,o=/BB10/i,p=/Opera Mini/i,q=/(CriOS|Chrome)(?=.*\bMobile\b)/i,r=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,s=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),t=function(a,b){return a.test(b)},u=function(a){__p&&__p();a=a||navigator.userAgent;var b=a.split("[FBAN");typeof b[1]!=="undefined"&&(a=b[0]);b=a.split("Twitter");typeof b[1]!=="undefined"&&(a=b[0]);this.apple={phone:t(c,a),ipod:t(d,a),tablet:!t(c,a)&&t(e,a),device:t(c,a)||t(d,a)||t(e,a)};this.amazon={phone:t(j,a),tablet:!t(j,a)&&t(k,a),device:t(j,a)||t(k,a)};this.android={phone:t(j,a)||t(f,a),tablet:!t(j,a)&&!t(f,a)&&(t(k,a)||t(i,a)),device:t(j,a)||t(k,a)||t(f,a)||t(i,a)};this.windows={phone:t(l,a),tablet:t(m,a),device:t(l,a)||t(m,a)};this.other={blackberry:t(n,a),blackberry10:t(o,a),opera:t(p,a),firefox:t(r,a),chrome:t(q,a),device:t(n,a)||t(o,a)||t(p,a)||t(r,a)||t(q,a)};this.seven_inch=t(s,a);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined")return this},v=function(){var a=new u();a.Class=u;return a};typeof g!=="undefined"&&g.exports&&typeof window==="undefined"?g.exports=u:typeof g!=="undefined"&&g.exports&&typeof window!=="undefined"?g.exports=v():typeof h==="function"&&h.amd?h("isMobile",[],b.isMobile=v()):b.isMobile=v()})(this)}var j=!1,k=function(){j||(j=!0,i());return g.exports};b=function(a){switch(a){case void 0:return k()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("pixi-gl-core-1.1.4",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){var a=function(a,b){a=a.getContext("webgl",b)||a.getContext("experimental-webgl",b);if(!a)throw new Error("This browser does not support webGL. Try using the canvas renderer");return a};g.exports=a}var i=!1,j=function(){i||(i=!0,h());return g.exports};b={};var k={exports:b};function l(){__p&&__p();var a=function(a,b,c){__p&&__p();var d;if(c){var e=c.tempAttribState,f=c.attribState;for(d=0;d<e.length;d++)e[d]=!1;for(d=0;d<b.length;d++)e[b[d].attribute.location]=!0;for(d=0;d<f.length;d++)f[d]!==e[d]&&(f[d]=e[d],c.attribState[d]?a.enableVertexAttribArray(d):a.disableVertexAttribArray(d))}else for(d=0;d<b.length;d++){f=b[d];a.enableVertexAttribArray(f.attribute.location)}};k.exports=a}var m=!1,n=function(){m||(m=!0,l());return k.exports};c={};var o={exports:c};function aa(){__p&&__p();var a=new ArrayBuffer(0),b=function(b,c,d,e){this.gl=b,this.buffer=b.createBuffer(),this.type=c||b.ARRAY_BUFFER,this.drawType=e||b.STATIC_DRAW,this.data=a,d&&this.upload(d),this._updateID=0};b.prototype.upload=function(a,b,c){c||this.bind();c=this.gl;a=a||this.data;b=b||0;this.data.byteLength>=a.byteLength?c.bufferSubData(this.type,b,a):c.bufferData(this.type,a,this.drawType);this.data=a};b.prototype.bind=function(){var a=this.gl;a.bindBuffer(this.type,this.buffer)};b.createVertexBuffer=function(a,c,d){return new b(a,a.ARRAY_BUFFER,c,d)};b.createIndexBuffer=function(a,c,d){return new b(a,a.ELEMENT_ARRAY_BUFFER,c,d)};b.create=function(a,c,d,e){return new b(a,c,d,e)};b.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};o.exports=b}var p=!1,ba=function(){p||(p=!0,aa());return o.exports};d={};var q={exports:d};function ca(){__p&&__p();var a=function(a,b,c,d,e){this.gl=a,this.texture=a.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=b||-1,this.height=c||-1,this.format=d||a.RGBA,this.type=e||a.UNSIGNED_BYTE};a.prototype.upload=function(a){this.bind();var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var c=a.videoWidth||a.width,d=a.videoHeight||a.height;d!==this.height||c!==this.width?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,this.type,a):b.texSubImage2D(b.TEXTURE_2D,0,0,0,this.format,this.type,a);this.width=c;this.height=d};var b=!1;a.prototype.uploadData=function(a,c,d){__p&&__p();this.bind();var e=this.gl;if(a instanceof Float32Array){if(!b){var f=e.getExtension("OES_texture_float");if(f)b=!0;else throw new Error("floating point textures not available")}this.type=e.FLOAT}else this.type=this.type||e.UNSIGNED_BYTE;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);c!==this.width||d!==this.height?e.texImage2D(e.TEXTURE_2D,0,this.format,c,d,0,this.format,this.type,a||null):e.texSubImage2D(e.TEXTURE_2D,0,0,0,c,d,this.format,this.type,a||null);this.width=c;this.height=d};a.prototype.bind=function(a){var b=this.gl;a!==void 0&&b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_2D,this.texture)};a.prototype.unbind=function(){var a=this.gl;a.bindTexture(a.TEXTURE_2D,null)};a.prototype.minFilter=function(a){var b=this.gl;this.bind();this.mipmap?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR:b.NEAREST)};a.prototype.magFilter=function(a){var b=this.gl;this.bind();b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a?b.LINEAR:b.NEAREST)};a.prototype.enableMipmap=function(){var a=this.gl;this.bind();this.mipmap=!0;a.generateMipmap(a.TEXTURE_2D)};a.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)};a.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)};a.prototype.enableWrapClamp=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)};a.prototype.enableWrapRepeat=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)};a.prototype.enableWrapMirrorRepeat=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.MIRRORED_REPEAT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.MIRRORED_REPEAT)};a.prototype.destroy=function(){var a=this.gl;a.deleteTexture(this.texture)};a.fromSource=function(b,c,d){b=new a(b);b.premultiplyAlpha=d||!1;b.upload(c);return b};a.fromData=function(b,c,d,e){b=new a(b);b.uploadData(c,d,e);return b};q.exports=a}var r=!1,s=function(){r||(r=!0,ca());return q.exports};f={};var t={exports:f};function da(){__p&&__p();var a=s(),b=function(a,b,c){this.gl=a,this.framebuffer=a.createFramebuffer(),this.stencil=null,this.texture=null,this.width=b||100,this.height=c||100};b.prototype.enableTexture=function(b){var c=this.gl;this.texture=b||new a(c);this.texture.bind();this.bind();c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.texture.texture,0)};b.prototype.enableStencil=function(){if(this.stencil)return;var a=this.gl;this.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.stencil);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.stencil);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height)};b.prototype.clear=function(a,b,c,d){this.bind();var e=this.gl;e.clearColor(a,b,c,d);e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)};b.prototype.bind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer)};b.prototype.unbind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null)};b.prototype.resize=function(a,b){var c=this.gl;this.width=a;this.height=b;this.texture&&this.texture.uploadData(null,a,b);this.stencil&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencil),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,a,b))};b.prototype.destroy=function(){var a=this.gl;this.texture&&this.texture.destroy();a.deleteFramebuffer(this.framebuffer);this.gl=null;this.stencil=null;this.texture=null};b.createRGBA=function(c,d,e,f){f=a.fromData(c,null,d,e);f.enableNearestScaling();f.enableWrapClamp();c=new b(c,d,e);c.enableTexture(f);c.unbind();return c};b.createFloat32=function(c,d,e,f){f=new a.fromData(c,f,d,e);f.enableNearestScaling();f.enableWrapClamp();c=new b(c,d,e);c.enableTexture(f);c.unbind();return c};t.exports=b}var u=!1,ea=function(){u||(u=!0,da());return t.exports};a={};var v={exports:a};function fa(){__p&&__p();var a=function(a,c,d,e){__p&&__p();c=b(a,a.VERTEX_SHADER,c);d=b(a,a.FRAGMENT_SHADER,d);var f=a.createProgram();a.attachShader(f,c);a.attachShader(f,d);if(e)for(var g in e)a.bindAttribLocation(f,e[g],g);a.linkProgram(f);a.getProgramParameter(f,a.LINK_STATUS)||(a.getProgramInfoLog(f)!=="",a.deleteProgram(f),f=null);a.deleteShader(c);a.deleteShader(d);return f},b=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return!a.getShaderParameter(b,a.COMPILE_STATUS)?null:b};v.exports=a}var w=!1,x=function(){w||(w=!0,fa());return v.exports};b={};var y={exports:b};function ga(){__p&&__p();var a=function(a,d){if(!b){var e=Object.keys(c);b={};for(var f=0;f<e.length;++f){var g=e[f];b[a[g]]=c[g]}}return b[d]},b=null,c={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};y.exports=a}var z=!1,A=function(){z||(z=!0,ga());return y.exports};c={};var B={exports:c};function ha(){var a=function(a){return b[a]},b={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};B.exports=a}var C=!1,D=function(){C||(C=!0,ha());return B.exports};d={};var E={exports:d};function ia(){var a=A(),b=D(),c=function(c,e){var f={},g=c.getProgramParameter(e,c.ACTIVE_ATTRIBUTES);for(var h=0;h<g;h++){var i=c.getActiveAttrib(e,h),j=a(c,i.type);f[i.name]={type:j,size:b(j),location:c.getAttribLocation(e,i.name),pointer:d}}return f},d=function(a,b,c,d){gl.vertexAttribPointer(this.location,this.size,a||gl.FLOAT,b||!1,c||0,d||0)};E.exports=c}var F=!1,G=function(){F||(F=!0,ia());return E.exports};f={};var H={exports:f};function ja(){__p&&__p();var a=function(a,c){__p&&__p();switch(a){case"float":return 0;case"vec2":return new Float32Array(2*c);case"vec3":return new Float32Array(3*c);case"vec4":return new Float32Array(4*c);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*c);case"ivec3":return new Int32Array(3*c);case"ivec4":return new Int32Array(4*c);case"bool":return!1;case"bvec2":return b(2*c);case"bvec3":return b(3*c);case"bvec4":return b(4*c);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},b=function(a){a=new Array(a);for(var b=0;b<a.length;b++)a[b]=!1;return a};H.exports=a}var I=!1,J=function(){I||(I=!0,ja());return H.exports};a={};var K={exports:a};function ka(){var a=A(),b=J(),c=function(c,d){var e={},f=c.getProgramParameter(d,c.ACTIVE_UNIFORMS);for(var g=0;g<f;g++){var h=c.getActiveUniform(d,g),i=h.name.replace(/\[.*?\]/,""),j=a(c,h.type);e[i]={type:j,size:h.size,location:c.getUniformLocation(d,i),value:b(j,h.size)}}return e};K.exports=c}var L=!1,M=function(){L||(L=!0,ka());return K.exports};b={};var N={exports:b};function la(){var a=function(a,b){return a.substring(0,9)!=="precision"?"precision "+b+" float;\n"+a:a};N.exports=a}var O=!1,P=function(){O||(O=!0,la());return N.exports};c={};var Q={exports:c};function ma(){__p&&__p();var a=function(a,c){__p&&__p();var d={data:{}};d.gl=a;var g=Object.keys(c);for(var h=0;h<g.length;h++){var i=g[h],j=i.split("."),k=j[j.length-1];j=f(j,d);i=c[i];j.data[k]=i;j.gl=a;Object.defineProperty(j,k,{get:b(k),set:e(k,i)})}return d},b=function(a){return function(){return this.data[a].value}},c={"float":function(a,b,c){a.uniform1f(b,c)},vec2:function(a,b,c){a.uniform2f(b,c[0],c[1])},vec3:function(a,b,c){a.uniform3f(b,c[0],c[1],c[2])},vec4:function(a,b,c){a.uniform4f(b,c[0],c[1],c[2],c[3])},"int":function(a,b,c){a.uniform1i(b,c)},ivec2:function(a,b,c){a.uniform2i(b,c[0],c[1])},ivec3:function(a,b,c){a.uniform3i(b,c[0],c[1],c[2])},ivec4:function(a,b,c){a.uniform4i(b,c[0],c[1],c[2],c[3])},bool:function(a,b,c){a.uniform1i(b,c)},bvec2:function(a,b,c){a.uniform2i(b,c[0],c[1])},bvec3:function(a,b,c){a.uniform3i(b,c[0],c[1],c[2])},bvec4:function(a,b,c){a.uniform4i(b,c[0],c[1],c[2],c[3])},mat2:function(a,b,c){a.uniformMatrix2fv(b,!1,c)},mat3:function(a,b,c){a.uniformMatrix3fv(b,!1,c)},mat4:function(a,b,c){a.uniformMatrix4fv(b,!1,c)},sampler2D:function(a,b,c){a.uniform1i(b,c)}},d={"float":function(a,b,c){a.uniform1fv(b,c)},vec2:function(a,b,c){a.uniform2fv(b,c)},vec3:function(a,b,c){a.uniform3fv(b,c)},vec4:function(a,b,c){a.uniform4fv(b,c)},"int":function(a,b,c){a.uniform1iv(b,c)},ivec2:function(a,b,c){a.uniform2iv(b,c)},ivec3:function(a,b,c){a.uniform3iv(b,c)},ivec4:function(a,b,c){a.uniform4iv(b,c)},bool:function(a,b,c){a.uniform1iv(b,c)},bvec2:function(a,b,c){a.uniform2iv(b,c)},bvec3:function(a,b,c){a.uniform3iv(b,c)},bvec4:function(a,b,c){a.uniform4iv(b,c)},sampler2D:function(a,b,c){a.uniform1iv(b,c)}};function e(a,b){return function(e){this.data[a].value=e;var f=this.data[a].location;b.size===1?c[b.type](this.gl,f,e):d[b.type](this.gl,f,e)}}function f(a,b){b=b;for(var c=0;c<a.length-1;c++){var d=b[a[c]]||{data:{}};b[a[c]]=d;b=d}return b}Q.exports=a}var R=!1,S=function(){R||(R=!0,ma());return Q.exports};d={};var T={exports:d};function na(){__p&&__p();var a=x(),b=G(),c=M(),d=P(),e=S(),f=function(f,g,h,i,j){this.gl=f,i&&(g=d(g,i),h=d(h,i)),this.program=a(f,g,h,j),this.attributes=b(f,this.program),this.uniformData=c(f,this.program),this.uniforms=e(f,this.uniformData)};f.prototype.bind=function(){this.gl.useProgram(this.program);return this};f.prototype.destroy=function(){this.attributes=null;this.uniformData=null;this.uniforms=null;var a=this.gl;a.deleteProgram(this.program)};T.exports=f}var U=!1,oa=function(){U||(U=!0,na());return T.exports};f={};var V={exports:f};function pa(){__p&&__p();var a=n();function b(a,c){__p&&__p();this.nativeVaoExtension=null;b.FORCE_NATIVE||(this.nativeVaoExtension=a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=c;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();c=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(c),attribState:new Array(c)}}this.gl=a;this.attributes=[];this.indexBuffer=null;this.dirty=!1}b.prototype.constructor=b;V.exports=b;b.FORCE_NATIVE=!1;b.prototype.bind=function(){__p&&__p();if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);if(this.dirty){this.dirty=!1;this.activate();return this}this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this};b.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};b.prototype.activate=function(){var b=this.gl,c=null;for(var d=0;d<this.attributes.length;d++){var e=this.attributes[d];c!==e.buffer&&(e.buffer.bind(),c=e.buffer);b.vertexAttribPointer(e.attribute.location,e.attribute.size,e.type||b.FLOAT,e.normalized||!1,e.stride||0,e.start||0)}a(b,this.attributes,this.nativeState);this.indexBuffer&&this.indexBuffer.bind();return this};b.prototype.addAttribute=function(a,b,c,d,e,f){this.attributes.push({buffer:a,attribute:b,location:b.location,type:c||this.gl.FLOAT,normalized:d||!1,stride:e||0,start:f||0});this.dirty=!0;return this};b.prototype.addIndex=function(a){this.indexBuffer=a;this.dirty=!0;return this};b.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this};b.prototype.draw=function(a,b,c){var d=this.gl;this.indexBuffer?d.drawElements(a,b||this.indexBuffer.data.length,d.UNSIGNED_SHORT,(c||0)*2):d.drawArrays(a,c,b||this.getSize());return this};b.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null};b.prototype.getSize=function(){var a=this.attributes[0];return a.buffer.data.length/(a.stride/4||a.attribute.size)}}var W=!1,qa=function(){W||(W=!0,pa());return V.exports};a={};var X={exports:a};function ra(){X.exports={compileProgram:x(),defaultValue:J(),extractAttributes:G(),extractUniforms:M(),generateUniformAccessObject:S(),setPrecision:P(),mapSize:D(),mapType:A()}}var Y=!1,sa=function(){Y||(Y=!0,ra());return X.exports};b={};var Z={exports:b};function ta(){var a={createContext:j(),setVertexAttribArrays:n(),GLBuffer:ba(),GLFramebuffer:ea(),GLShader:oa(),GLTexture:s(),VertexArrayObject:qa(),shader:sa()};typeof Z!=="undefined"&&Z.exports&&(Z.exports=a);typeof window!=="undefined"&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=a)}var $=!1,ua=function(){$||($=!0,ta());return Z.exports};c=function(a){switch(a){case void 0:return ua()}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-array-items-1.0.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){g.exports=function(a,b,c){var d=a.length;if(b>=d||c===0)return;c=b+c>d?d-b:c;d=d-c;for(b=b;b<d;++b)a[b]=a[b+c];a.length=d}}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("mini-signals-1.2.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={exports:g};function i(){__p&&__p();Object.defineProperty(g,"__esModule",{value:!0});var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a,d,e){d===void 0&&(d=!1),b(this,c),this._fn=a,this._once=d,this._thisArg=e,this._next=this._prev=this._owner=null}a(c,[{key:"detach",value:function(){if(this._owner===null)return!1;this._owner.detach(this);return!0}}]);return c}();function d(a,b){!a._head?(a._head=b,a._tail=b):(a._tail._next=b,b._prev=a._tail,a._tail=b);b._owner=a;return b}var e=function(){__p&&__p();function e(){b(this,e),this._head=this._tail=void 0}a(e,[{key:"handlers",value:function(){var a=arguments.length<=0||arguments[0]===void 0?!1:arguments[0],b=this._head;if(a)return!!b;var c=[];while(b)c.push(b),b=b._next;return c}},{key:"has",value:function(a){if(!(a instanceof c))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;while(a)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var b=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof a!=="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return d(this,new c(a,!1,b))}},{key:"once",value:function(a){var b=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof a!=="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return d(this,new c(a,!0,b))}},{key:"detach",value:function(a){if(!(a instanceof c))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(a._owner!==this)return this;a._prev&&(a._prev._next=a._next);a._next&&(a._next._prev=a._prev);a===this._head?(this._head=a._next,a._next===null&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null);a._owner=null;return this}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;this._head=this._tail=null;while(a)a._owner=null,a=a._next;return this}}]);return e}();e.MiniSignalBinding=c;g["default"]=e;h.exports=g["default"]}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("parse-uri-1.0.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();g.exports=function(a,b){__p&&__p();b=b||{};var c={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};b=c.parser[b.strictMode?"strict":"loose"].exec(a);var d={};a=14;while(a--)d[c.key[a]]=b[a]||"";d[c.q.name]={};d[c.key[12]].replace(c.q.parser,function(a,b,e){b&&(d[c.q.name][b]=e)});return d}}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("resource-loader-2.1.1",["mini-signals-1.2.0","parse-uri-1.0.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("mini-signals-1.2.0")),h=a(b("parse-uri-1.0.0")),i={},j={exports:i};function k(){__p&&__p();i.__esModule=!0;i.eachSeries=b;i.queue=d;function a(){}function b(a,b,c,d){var e=0,f=a.length;(function g(h){if(h||e===f){c&&c(h);return}d?setTimeout(function(){b(a[e++],g)},1):b(a[e++],g)})()}function c(a){return function(){if(a===null)throw new Error("Callback was already called.");var b=a;a=null;b.apply(this,arguments)}}function d(b,d){__p&&__p();if(d==null)d=1;else if(d===0)throw new Error("Concurrency must not be zero");var e=0,f={_tasks:[],concurrency:d,saturated:a,unsaturated:a,buffer:d/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(a,b){g(a,!1,b)},kill:function(){e=0,f.drain=a,f.started=!1,f._tasks=[]},unshift:function(a,b){g(a,!0,b)},process:function(){while(!f.paused&&e<f.concurrency&&f._tasks.length){var a=f._tasks.shift();f._tasks.length===0&&f.empty();e+=1;e===f.concurrency&&f.saturated();b(a.data,c(h(a)))}},length:function(){return f._tasks.length},running:function(){return e},idle:function(){return f._tasks.length+e===0},pause:function(){if(f.paused===!0)return;f.paused=!0},resume:function(){if(f.paused===!1)return;f.paused=!1;for(var a=1;a<=f.concurrency;a++)f.process()}};function g(b,c,d){__p&&__p();if(d!=null&&typeof d!=="function")throw new Error("task callback must be a function");f.started=!0;if(b==null&&f.idle()){setTimeout(function(){return f.drain()},1);return}b={data:b,callback:typeof d==="function"?d:a};c?f._tasks.unshift(b):f._tasks.push(b);setTimeout(function(){return f.process()},1)}function h(a){return function(){e-=1,a.callback.apply(a,arguments),arguments[0]!=null&&f.error(arguments[0],a.data),e<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}return f}}var l=!1,m=function(){l||(l=!0,k());return j.exports},n={},o={exports:n};function p(){__p&&__p();n.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=h(),c=e(b);b=g();var d=e(b);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var i=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest())),j=null,k=0,l=200,m=204,o=1223,p=2;function q(){}e=function(){__p&&__p();b.setExtensionLoadType=function(a,c){r(b._loadTypeMap,a,c)};b.setExtensionXhrType=function(a,c){r(b._xhrTypeMap,a,c)};function b(a,c,e){__p&&__p();f(this,b);if(typeof a!=="string"||typeof c!=="string")throw new Error("Both name and url are required for constructing a resource.");e=e||{};this._flags=0;this._setFlag(b.STATUS_FLAGS.DATA_URL,c.indexOf("data:")===0);this.name=a;this.url=c;this.extension=this._getExtension();this.data=null;this.crossOrigin=e.crossOrigin===!0?"anonymous":e.crossOrigin;this.loadType=e.loadType||this._determineLoadType();this.xhrType=e.xhrType;this.metadata=e.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=b.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=q;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new d["default"]();this.onProgress=new d["default"]();this.onComplete=new d["default"]();this.onAfterMiddleware=new d["default"]()}b.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(b.STATUS_FLAGS.COMPLETE,!0);this._setFlag(b.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};b.prototype.abort=function(a){__p&&__p();if(this.error)return;this.error=new Error(a);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=b.EMPTY_GIF;else while(this.data.firstChild)this.data.removeChild(this.data.firstChild);this.complete()};b.prototype.load=function(a){__p&&__p();var c=this;if(this.isLoading)return;if(this.isComplete){a&&setTimeout(function(){return a(c)},1);return}else a&&this.onComplete.once(a);this._setFlag(b.STATUS_FLAGS.LOADING,!0);this.onStart.dispatch(this);(this.crossOrigin===!1||typeof this.crossOrigin!=="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url));switch(this.loadType){case b.LOAD_TYPE.IMAGE:this.type=b.TYPE.IMAGE;this._loadElement("image");break;case b.LOAD_TYPE.AUDIO:this.type=b.TYPE.AUDIO;this._loadSourceElement("audio");break;case b.LOAD_TYPE.VIDEO:this.type=b.TYPE.VIDEO;this._loadSourceElement("video");break;case b.LOAD_TYPE.XHR:default:i&&this.crossOrigin?this._loadXdr():this._loadXhr();break}};b.prototype._hasFlag=function(a){return!!(this._flags&a)};b.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a};b.prototype._loadElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:a==="image"&&typeof window.Image!=="undefined"?this.data=new Image():this.data=document.createElement(a),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)};b.prototype._loadSourceElement=function(a){__p&&__p();this.metadata.loadElement?this.data=this.metadata.loadElement:a==="audio"&&typeof window.Audio!=="undefined"?this.data=new Audio():this.data=document.createElement(a);if(this.data===null){this.abort("Unsupported element: "+a);return}if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url)){var b=this.metadata.mimeType;for(var c=0;c<this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c],Array.isArray(b)?b[c]:b))}else{c=this.metadata.mimeType;this.data.appendChild(this._createSource(a,this.url,Array.isArray(c)?c[0]:c))}this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()};b.prototype._loadXhr=function(){typeof this.xhrType!=="string"&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest();a.open("GET",this.url,!0);this.xhrType===b.XHR_RESPONSE_TYPE.JSON||this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT?a.responseType=b.XHR_RESPONSE_TYPE.TEXT:a.responseType=this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};b.prototype._loadXdr=function(){__p&&__p();typeof this.xhrType!=="string"&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest();a.timeout=5e3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,!0);setTimeout(function(){return a.send()},1)};b.prototype._createSource=function(a,b,c){c||(c=a+"/"+this._getExtension(b));a=document.createElement("source");a.src=b;a.type=c;return a};b.prototype._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)};b.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};b.prototype._xhrOnError=function(){var a=this.xhr;this.abort(s(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')};b.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")};b.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")};b.prototype._xhrOnLoad=function(){__p&&__p();var a=this.xhr,c="",d=typeof a.status==="undefined"?l:a.status;(a.responseType===""||a.responseType==="text"||typeof a.responseType==="undefined")&&(c=a.responseText);d===k&&(c.length>0||a.responseType===b.XHR_RESPONSE_TYPE.BUFFER)?d=l:d===o&&(d=m);d=d/100|0;if(d===p)if(this.xhrType===b.XHR_RESPONSE_TYPE.TEXT)this.data=c,this.type=b.TYPE.TEXT;else if(this.xhrType===b.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(c),this.type=b.TYPE.JSON}catch(a){this.abort("Error trying to parse loaded json: "+a);return}else if(this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){d=new DOMParser();this.data=d.parseFromString(c,"text/xml")}else{d=document.createElement("div");d.innerHTML=c;this.data=d}this.type=b.TYPE.XML}catch(a){this.abort("Error trying to parse loaded xml: "+a);return}else this.data=a.response||c;else{this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL);return}this.complete()};b.prototype._determineCrossOrigin=function(a,b){if(a.indexOf("data:")===0)return"";b=b||window.location;j||(j=document.createElement("a"));j.href=a;a=c["default"](j.href,{strictMode:!0});var d=!a.port&&b.port===""||a.port===b.port,e=a.protocol?a.protocol+":":"";return a.host!==b.hostname||!d||e!==b.protocol?"anonymous":""};b.prototype._determineXhrType=function(){return b._xhrTypeMap[this.extension]||b.XHR_RESPONSE_TYPE.TEXT};b.prototype._determineLoadType=function(){return b._loadTypeMap[this.extension]||b.LOAD_TYPE.XHR};b.prototype._getExtension=function(){__p&&__p();var a=this.url;if(this.isDataUrl){var b=a.indexOf("/");b=a.substring(b+1,a.indexOf(";",b))}else{var c=a.indexOf("?"),d=a.indexOf("#");c=Math.min(c>-1?c:a.length,d>-1?d:a.length);a=a.substring(0,c);b=a.substring(a.lastIndexOf(".")+1)}return b.toLowerCase()};b.prototype._getMimeFromXhrType=function(a){switch(a){case b.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case b.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case b.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case b.XHR_RESPONSE_TYPE.JSON:return"application/json";case b.XHR_RESPONSE_TYPE.DEFAULT:case b.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}};a(b,[{key:"isDataUrl",get:function(){return this._hasFlag(b.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(b.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(b.STATUS_FLAGS.LOADING)}}]);return b}();n["default"]=e;e.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};e.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};e.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};e.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO};e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER};e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function r(a,b,c){b&&b.indexOf(".")===0&&(b=b.substring(1));if(!b)return;a[b]=c}function s(a){return a.toString().replace("object ","")}}var q=!1,r=function(){q||(q=!0,p());return o.exports},s={},t={exports:s};function u(){__p&&__p();s.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),c=g(),d=k(c);c=h();var e=k(c);c=m();var f=j(c);j=r();var i=k(j);function j(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var n=100,o=/(#[\w-]+)?$/;c=function(){__p&&__p();function c(){__p&&__p();var a=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;l(this,c);this.baseUrl=b;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(b,c){return a._loadResource(b,c)};this._queue=f.queue(this._boundLoadResource,e);this._queue.pause();this.resources={};this.onProgress=new d["default"]();this.onError=new d["default"]();this.onLoad=new d["default"]();this.onStart=new d["default"]();this.onComplete=new d["default"]()}c.prototype.add=function(b,c,d,e){__p&&__p();if(Array.isArray(b)){for(var f=0;f<b.length;++f)this.add(b[f]);return this}(typeof b==="undefined"?"undefined":a(b))==="object"&&(e=c||b.callback||b.onComplete,d=b,c=b.url,b=b.name||b.key||b.url);typeof c!=="string"&&(e=d,d=c,c=b);if(typeof c!=="string")throw new Error("No url passed to add resource to loader.");typeof d==="function"&&(e=d,d=null);if(this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[b])throw new Error('Resource named "'+b+'" already exists.');c=this._prepareUrl(c);this.resources[b]=new i["default"](b,c,d);typeof e==="function"&&this.resources[b].onAfterMiddleware.once(e);if(this.loading){f=d.parentResource;c=[];for(var e=0;e<f.children.length;++e)f.children[e].isComplete||c.push(f.children[e]);d=f.progressChunk*(c.length+1);e=d/(c.length+2);f.children.push(this.resources[b]);f.progressChunk=e;for(var d=0;d<c.length;++d)c[d].progressChunk=e;this.resources[b].progressChunk=e}this._queue.push(this.resources[b]);return this};c.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};c.prototype.use=function(a){this._afterMiddleware.push(a);return this};c.prototype.reset=function(){__p&&__p();this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach();b.isLoading&&b.abort()}this.resources={};return this};c.prototype.load=function(a){__p&&__p();typeof a==="function"&&this.onComplete.once(a);if(this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{a=this._queue._tasks.length;a=100/a;for(var b=0;b<this._queue._tasks.length;++b)this._queue._tasks[b].data.progressChunk=a;this._onStart();this._queue.resume()}return this};c.prototype._prepareUrl=function(a){var b=e["default"](a,{strictMode:!0}),c=void 0;b.protocol||!b.path||a.indexOf("//")===0?c=a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&a.charAt(0)!=="/"?c=this.baseUrl+"/"+a:c=this.baseUrl+a;if(this.defaultQueryString){b=o.exec(c)[0];c=c.substr(0,c.length-b.length);c.indexOf("?")!==-1?c+="&"+this.defaultQueryString:c+="?"+this.defaultQueryString;c+=b}return c};c.prototype._loadResource=function(a,b){var c=this;a._dequeue=b;f.eachSeries(this._beforeMiddleware,function(b,d){b.call(c,a,function(){d(a.isComplete?{}:null)})},function(){a.isComplete?c._onLoad(a):(a._onLoadBinding=a.onComplete.once(c._onLoad,c),a.load())},!0)};c.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)};c.prototype._onComplete=function(){this.progress=n,this.loading=!1,this.onComplete.dispatch(this,this.resources)};c.prototype._onLoad=function(a){var b=this;a._onLoadBinding=null;this._resourcesParsing.push(a);a._dequeue();f.eachSeries(this._afterMiddleware,function(c,d){c.call(b,a,d)},function(){a.onAfterMiddleware.dispatch(a),b.progress+=a.progressChunk,b.onProgress.dispatch(b,a),a.error?b.onError.dispatch(a.error,b,a):b.onLoad.dispatch(b,a),b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1),b._queue.idle()&&b._resourcesParsing.length===0&&b._onComplete()},!0)};b(c,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]);return c}();s["default"]=c}var v=!1,w=function(){v||(v=!0,u());return t.exports},x={},y={exports:x};function z(){__p&&__p();x.__esModule=!0;x.encodeBinary=b;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(b){__p&&__p();var c="",d=0;while(d<b.length){var e=[0,0,0],f=[0,0,0,0];for(var g=0;g<e.length;++g)d<b.length?e[g]=b.charCodeAt(d++)&255:e[g]=0;f[0]=e[0]>>2;f[1]=(e[0]&3)<<4|e[1]>>4;f[2]=(e[1]&15)<<2|e[2]>>6;f[3]=e[2]&63;g=d-(b.length-1);switch(g){case 2:f[3]=64;f[2]=64;break;case 1:f[3]=64;break;default:break}for(var e=0;e<f.length;++e)c+=a.charAt(f[e])}return c}}var A=!1,B=function(){A||(A=!0,z());return y.exports};c={};var C={exports:c};function D(){var a=w()["default"],b=r()["default"],c=m(),d=B();a.Resource=b;a.async=c;a.base64=d;C.exports=a;C.exports["default"]=a}var E=!1,F=function(){E||(E=!0,D());return C.exports},G={},H={exports:G};function I(){__p&&__p();G.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};G.blobMiddlewareFactory=f;f=r();var b=d(f);f=B();var c=d(f);function d(a){return a&&a.__esModule?a:{"default":a}}var e=window.URL||window.webkitURL;function f(){__p&&__p();return function(d,f){__p&&__p();if(!d.data){f();return}if(d.xhr&&d.xhrType===b["default"].XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||typeof d.data==="string"){var g=d.xhr.getResponseHeader("content-type");if(g&&g.indexOf("image")===0){d.data=new Image();d.data.src="data:"+g+";base64,"+c["default"].encodeBinary(d.xhr.responseText);d.type=b["default"].TYPE.IMAGE;d.data.onload=function(){d.data.onload=null,f()};return}}else if(d.data.type.indexOf("image")===0){g=function(){var a=e.createObjectURL(d.data);d.blob=d.data;d.data=new Image();d.data.src=a;d.type=b["default"].TYPE.IMAGE;d.data.onload=function(){e.revokeObjectURL(a),d.data.onload=null,f()};return{v:void 0}}();if((typeof g==="undefined"?"undefined":a(g))==="object")return g.v}f()}}}var J=!1,K=function(){J||(J=!0,I());return H.exports};d=function(a){switch(a){case void 0:return F();case"/lib/middlewares/parsing/blob":return K()}};e.exports=d}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("pixi-js-4.8.1",["object-assign-4.1.1","pixi-gl-core-1.1.4","eventemitter3-2.0.3","ismobilejs-0.4.1","remove-array-items-1.0.0","earcut-2.1.3","bit-twiddle-1.0.2","resource-loader-2.1.1"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("object-assign-4.1.1")),h=c(b("pixi-gl-core-1.1.4")),i=c(b("eventemitter3-2.0.3")),j=c(b("ismobilejs-0.4.1")),k=c(b("remove-array-items-1.0.0")),l=c(b("earcut-2.1.3")),m=c(b("bit-twiddle-1.0.2")),n=c(b("resource-loader-2.1.1"));d={};var o={exports:d};function p(){var a=g();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}Object.assign||(Object.assign=b["default"])}var q=!1,r=function(){q||(q=!0,p());return o.exports};f={};var s={exports:f};function t(){__p&&__p();var b=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(a.performance&&a.performance.now)){var c=Date.now();a.performance||(a.performance={});a.performance.now=function(){return Date.now()-c}}var d=Date.now(),e=["ms","moz","webkit","o"];for(var f=0;f<e.length&&!a.requestAnimationFrame;++f){var g=e[f];a.requestAnimationFrame=a[g+"RequestAnimationFrame"];a.cancelAnimationFrame=a[g+"CancelAnimationFrame"]||a[g+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if(typeof a!=="function")throw new TypeError(a+"is not a function");var c=Date.now(),e=b+d-c;e<0&&(e=0);d=c;return setTimeout(function(){d=Date.now(),a(performance.now())},e)});a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){return clearTimeout(a)})}var u=!1,v=function(){u||(u=!0,t());return s.exports};c={};var w={exports:c};function x(){Math.sign||(Math.sign=function(a){a=Number(a);return a===0||isNaN(a)?a:a>0?1:-1})}var y=!1,z=function(){y||(y=!0,x());return w.exports};b={};var A={exports:b};function B(){Number.isInteger||(Number.isInteger=function(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a})}var C=!1,D=function(){C||(C=!0,B());return A.exports};d={};var E={exports:d};function F(){r(),v(),z(),D(),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)}var G=!1,H=function(){G||(G=!0,F());return E.exports},I={},J={exports:I};function aa(){I.__esModule=!0,I.VERSION="4.8.1",I.PI_2=Math.PI*2,I.RAD_TO_DEG=180/Math.PI,I.DEG_TO_RAD=Math.PI/180,I.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},I.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},I.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},I.SCALE_MODES={LINEAR:0,NEAREST:1},I.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},I.GC_MODES={AUTO:0,MANUAL:1},I.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,I.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,I.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,I.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},I.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},I.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},I.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},I.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}}var ba=!1,K=function(){ba||(ba=!0,aa());return J.exports},ca={},da={exports:ca};function L(){__p&&__p();ca.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){__p&&__p();function b(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;a(this,b);this.x=c;this.y=d}b.prototype.clone=function(){return new b(this.x,this.y)};b.prototype.copy=function(a){this.set(a.x,a.y)};b.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};b.prototype.set=function(a,b){this.x=a||0,this.y=b||(b!==0?this.x:0)};return b}();ca["default"]=b}var ea=!1,fa=function(){ea||(ea=!0,L());return da.exports},M={},N={exports:M};function ga(){__p&&__p();M.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){__p&&__p();function c(a,d){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;b(this,c);this._x=e;this._y=f;this.cb=a;this.scope=d}c.prototype.set=function(a,b){a=a||0;b=b||(b!==0?a:0);(this._x!==a||this._y!==b)&&(this._x=a,this._y=b,this.cb.call(this.scope))};c.prototype.copy=function(a){(this._x!==a.x||this._y!==a.y)&&(this._x=a.x,this._y=a.y,this.cb.call(this.scope))};a(c,[{key:"x",get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))}}]);return c}();M["default"]=c}var ha=!1,ia=function(){ha||(ha=!0,ga());return N.exports},ja={},ka={exports:ja};function la(){__p&&__p();ja.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=fa(),c=e(b),d=K();function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}e=function(){__p&&__p();function b(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;f(this,b);this.a=a;this.b=c;this.c=d;this.d=e;this.tx=g;this.ty=h;this.array=null}b.prototype.fromArray=function(a){this.a=a[0],this.b=a[1],this.c=a[3],this.d=a[4],this.tx=a[2],this.ty=a[5]};b.prototype.set=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f;return this};b.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));b=b||this.array;a?(b[0]=this.a,b[1]=this.b,b[2]=0,b[3]=this.c,b[4]=this.d,b[5]=0,b[6]=this.tx,b[7]=this.ty,b[8]=1):(b[0]=this.a,b[1]=this.c,b[2]=this.tx,b[3]=this.b,b[4]=this.d,b[5]=this.ty,b[6]=0,b[7]=0,b[8]=1);return b};b.prototype.apply=function(a,b){b=b||new c["default"]();var d=a.x;a=a.y;b.x=this.a*d+this.c*a+this.tx;b.y=this.b*d+this.d*a+this.ty;return b};b.prototype.applyInverse=function(a,b){b=b||new c["default"]();var d=1/(this.a*this.d+this.c*-this.b),e=a.x;a=a.y;b.x=this.d*d*e+-this.c*d*a+(this.ty*this.c-this.tx*this.d)*d;b.y=this.a*d*a+-this.b*d*e+(-this.ty*this.a+this.tx*this.b)*d;return b};b.prototype.translate=function(a,b){this.tx+=a;this.ty+=b;return this};b.prototype.scale=function(a,b){this.a*=a;this.d*=b;this.c*=a;this.b*=b;this.tx*=a;this.ty*=b;return this};b.prototype.rotate=function(a){__p&&__p();var b=Math.cos(a);a=Math.sin(a);var c=this.a,d=this.c,e=this.tx;this.a=c*b-this.b*a;this.b=c*a+this.b*b;this.c=d*b-this.d*a;this.d=d*a+this.d*b;this.tx=e*b-this.ty*a;this.ty=e*a+this.ty*b;return this};b.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;this.a=a.a*b+a.b*d;this.b=a.a*c+a.b*e;this.c=a.c*b+a.d*d;this.d=a.c*c+a.d*e;this.tx=a.tx*b+a.ty*d+this.tx;this.ty=a.tx*c+a.ty*e+this.ty;return this};b.prototype.setTransform=function(a,b,c,d,e,f,g,h,i){this.a=Math.cos(g+i)*e;this.b=Math.sin(g+i)*e;this.c=-Math.sin(g-h)*f;this.d=Math.cos(g-h)*f;this.tx=a-(c*this.a+d*this.c);this.ty=b-(c*this.b+d*this.d);return this};b.prototype.prepend=function(a){__p&&__p();var b=this.tx;if(a.a!==1||a.b!==0||a.c!==0||a.d!==1){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c;this.b=c*a.b+this.b*a.d;this.c=d*a.a+this.d*a.c;this.d=d*a.b+this.d*a.d}this.tx=b*a.a+this.ty*a.c+a.tx;this.ty=b*a.b+this.ty*a.d+a.ty;return this};b.prototype.decompose=function(a){var b=this.a,c=this.b,e=this.c,f=this.d,g=-Math.atan2(-e,f),h=Math.atan2(c,b),i=Math.abs(g+h);i<1e-5||Math.abs(d.PI_2-i)<1e-5?(a.rotation=h,b<0&&f>=0&&(a.rotation+=a.rotation<=0?Math.PI:-Math.PI),a.skew.x=a.skew.y=0):(a.rotation=0,a.skew.x=g,a.skew.y=h);a.scale.x=Math.sqrt(b*b+c*c);a.scale.y=Math.sqrt(e*e+f*f);a.position.x=this.tx;a.position.y=this.ty;return a};b.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;this.a=d/f;this.b=-b/f;this.c=-c/f;this.d=a/f;this.tx=(c*this.ty-d*e)/f;this.ty=-(a*this.ty-b*e)/f;return this};b.prototype.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this};b.prototype.clone=function(){var a=new b();a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};b.prototype.copy=function(a){a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};a(b,null,[{key:"IDENTITY",get:function(){return new b()}},{key:"TEMP_MATRIX",get:function(){return new b()}}]);return b}();ja["default"]=e}var ma=!1,na=function(){ma||(ma=!0,la());return ka.exports},oa={},pa={exports:oa};function qa(){__p&&__p();oa.__esModule=!0;var a=na(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}var d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],f=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],g=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],i=[];function j(a){if(a<0)return-1;return a>0?1:0}function k(){__p&&__p();for(var a=0;a<16;a++){var c=[];i.push(c);for(var k=0;k<16;k++){var l=j(d[a]*d[k]+f[a]*e[k]),m=j(e[a]*d[k]+g[a]*e[k]),n=j(d[a]*f[k]+f[a]*g[k]),o=j(e[a]*f[k]+g[a]*g[k]);for(var p=0;p<16;p++)if(d[p]===l&&e[p]===m&&f[p]===n&&g[p]===o){c.push(p);break}}}for(var l=0;l<16;l++){m=new b["default"]();m.set(d[l],e[l],f[l],g[l],0,0);h.push(m)}}k();var l={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return d[a]},uY:function(a){return e[a]},vX:function(a){return f[a]},vY:function(a){return g[a]},inv:function(a){return a&8?a&15:-a&7},add:function(a,b){return i[a][b]},sub:function(a,b){return i[a][l.inv(b)]},rotate180:function(a){return a^4},isVertical:function(a){return(a&3)===2},byDirection:function(a,b){if(Math.abs(a)*2<=Math.abs(b))return b>=0?l.S:l.N;else if(Math.abs(b)*2<=Math.abs(a))return a>0?l.E:l.W;else if(b>0)return a>0?l.SE:l.SW;else if(a>0)return l.NE;return l.NW},matrixAppendRotationInv:function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,e=h[l.inv(b)];e.tx=c;e.ty=d;a.append(e)}};oa["default"]=l}var ra=!1,sa=function(){ra||(ra=!0,qa());return pa.exports},ta={},ua={exports:ta};function va(){__p&&__p();ta.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=K();function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){__p&&__p();function d(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;c(this,d);this.x=Number(a);this.y=Number(e);this.width=Number(f);this.height=Number(g);this.type=b.SHAPES.RECT}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};d.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;return a>=this.x&&a<this.x+this.width&&(b>=this.y&&b<this.y+this.height)?!0:!1};d.prototype.pad=function(a,b){a=a||0,b=b||(b!==0?a:0),this.x-=a,this.y-=b,this.width+=a*2,this.height+=b*2};d.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=a.x),this.y<a.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=a.y),this.x+this.width>a.x+a.width&&(this.width=a.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>a.y+a.height&&(this.height=a.height-this.y,this.height<0&&(this.height=0))};d.prototype.enlarge=function(a){var b=Math.min(this.x,a.x),c=Math.max(this.x+this.width,a.x+a.width),d=Math.min(this.y,a.y);a=Math.max(this.y+this.height,a.y+a.height);this.x=b;this.width=c-b;this.y=d;this.height=a-d};a(d,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new d(0,0,0,0)}}]);return d}();ta["default"]=d}var wa=!1,xa=function(){wa||(wa=!0,va());return ua.exports},ya={},za={exports:ya};function Aa(){__p&&__p();ya.__esModule=!0;var a=xa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e(this,a);this.x=b;this.y=d;this.radius=f;this.type=c.SHAPES.CIRC}a.prototype.clone=function(){return new a(this.x,this.y,this.radius)};a.prototype.contains=function(a,b){if(this.radius<=0)return!1;var c=this.radius*this.radius;a=this.x-a;b=this.y-b;a*=a;b*=b;return a+b<=c};a.prototype.getBounds=function(){return new b["default"](this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};return a}();ya["default"]=d}var Ba=!1,Ca=function(){Ba||(Ba=!0,Aa());return za.exports},Da={},Ea={exports:Da};function Fa(){__p&&__p();Da.__esModule=!0;var a=xa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;e(this,a);this.x=b;this.y=d;this.width=f;this.height=g;this.type=c.SHAPES.ELIP}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;a=(a-this.x)/this.width;b=(b-this.y)/this.height;a*=a;b*=b;return a+b<=1};a.prototype.getBounds=function(){return new b["default"](this.x-this.width,this.y-this.height,this.width,this.height)};return a}();Da["default"]=d}var Ga=!1,Ha=function(){Ga||(Ga=!0,Fa());return Ea.exports},Ia={},Ja={exports:Ia};function Ka(){__p&&__p();Ia.__esModule=!0;var a=fa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function a(){__p&&__p();for(var d=arguments.length,f=Array(d),g=0;g<d;g++)f[g]=arguments[g];e(this,a);Array.isArray(f[0])&&(f=f[0]);if(f[0]instanceof b["default"]){var h=[];for(var i=0,j=f.length;i<j;i++)h.push(f[i].x,f[i].y);f=h}this.closed=!0;this.points=f;this.type=c.SHAPES.POLY}a.prototype.clone=function(){return new a(this.points.slice())};a.prototype.close=function(){var a=this.points;(a[0]!==a[a.length-2]||a[1]!==a[a.length-1])&&a.push(a[0],a[1])};a.prototype.contains=function(a,b){var c=!1,d=this.points.length/2;for(var e=0,f=d-1;e<d;f=e++){var g=this.points[e*2],h=this.points[e*2+1],i=this.points[f*2],j=this.points[f*2+1];i=h>b!==j>b&&a<(i-g)*((b-h)/(j-h))+g;i&&(c=!c)}return c};return a}();Ia["default"]=d}var La=!1,Ma=function(){La||(La=!0,Ka());return Ja.exports},Na={},Oa={exports:Na};function Pa(){__p&&__p();Na.__esModule=!0;var a=K();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){__p&&__p();function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;b(this,c);this.x=d;this.y=e;this.width=f;this.height=g;this.radius=h;this.type=a.SHAPES.RREC}c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.radius)};c.prototype.contains=function(a,b){__p&&__p();if(this.width<=0||this.height<=0)return!1;if(a>=this.x&&a<=this.x+this.width&&(b>=this.y&&b<=this.y+this.height)){if(b>=this.y+this.radius&&b<=this.y+this.height-this.radius||a>=this.x+this.radius&&a<=this.x+this.width-this.radius)return!0;var c=a-(this.x+this.radius),d=b-(this.y+this.radius),e=this.radius*this.radius;if(c*c+d*d<=e)return!0;c=a-(this.x+this.width-this.radius);if(c*c+d*d<=e)return!0;d=b-(this.y+this.height-this.radius);if(c*c+d*d<=e)return!0;c=a-(this.x+this.radius);if(c*c+d*d<=e)return!0}return!1};return c}();Na["default"]=c}var Qa=!1,Ra=function(){Qa||(Qa=!0,Pa());return Oa.exports},O={},Sa={exports:O};function Ta(){__p&&__p();O.__esModule=!0;var a=fa();Object.defineProperty(O,"Point",{enumerable:!0,get:function(){return j(a)["default"]}});var b=ia();Object.defineProperty(O,"ObservablePoint",{enumerable:!0,get:function(){return j(b)["default"]}});var c=na();Object.defineProperty(O,"Matrix",{enumerable:!0,get:function(){return j(c)["default"]}});var d=sa();Object.defineProperty(O,"GroupD8",{enumerable:!0,get:function(){return j(d)["default"]}});var e=Ca();Object.defineProperty(O,"Circle",{enumerable:!0,get:function(){return j(e)["default"]}});var f=Ha();Object.defineProperty(O,"Ellipse",{enumerable:!0,get:function(){return j(f)["default"]}});var g=Ma();Object.defineProperty(O,"Polygon",{enumerable:!0,get:function(){return j(g)["default"]}});var h=xa();Object.defineProperty(O,"Rectangle",{enumerable:!0,get:function(){return j(h)["default"]}});var i=Ra();Object.defineProperty(O,"RoundedRectangle",{enumerable:!0,get:function(){return j(i)["default"]}});function j(a){return a&&a.__esModule?a:{"default":a}}}var Ua=!1,P=function(){Ua||(Ua=!0,Ta());return Sa.exports},Va={},Wa={exports:Va};function Xa(){__p&&__p();Va.__esModule=!0;var a=P();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){__p&&__p();function c(){b(this,c),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}c.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};c.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity};c.prototype.getRectangle=function(b){if(this.minX>this.maxX||this.minY>this.maxY)return a.Rectangle.EMPTY;b=b||new a.Rectangle(0,0,1,1);b.x=this.minX;b.y=this.minY;b.width=this.maxX-this.minX;b.height=this.maxY-this.minY;return b};c.prototype.addPoint=function(a){this.minX=Math.min(this.minX,a.x),this.maxX=Math.max(this.maxX,a.x),this.minY=Math.min(this.minY,a.y),this.maxY=Math.max(this.maxY,a.y)};c.prototype.addQuad=function(a){__p&&__p();var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY,f=a[0],g=a[1];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[2];g=a[3];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[4];g=a[5];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[6];g=a[7];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;this.minX=b;this.minY=c;this.maxX=d;this.maxY=e};c.prototype.addFrame=function(a,b,c,d,e){__p&&__p();a=a.worldTransform;var f=a.a,g=a.b,h=a.c,i=a.d,j=a.tx;a=a.ty;var k=this.minX,l=this.minY,m=this.maxX,n=this.maxY,o=f*b+h*c+j,p=g*b+i*c+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*d+h*c+j;p=g*d+i*c+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*b+h*e+j;p=g*b+i*e+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*d+h*e+j;p=g*d+i*e+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;this.minX=k;this.minY=l;this.maxX=m;this.maxY=n};c.prototype.addVertices=function(a,b,c,d){__p&&__p();a=a.worldTransform;var e=a.a,f=a.b,g=a.c,h=a.d,i=a.tx;a=a.ty;var j=this.minX,k=this.minY,l=this.maxX,m=this.maxY;for(var c=c;c<d;c+=2){var n=b[c],o=b[c+1],p=e*n+g*o+i;o=h*o+f*n+a;j=p<j?p:j;k=o<k?o:k;l=p>l?p:l;m=o>m?o:m}this.minX=j;this.minY=k;this.maxX=l;this.maxY=m};c.prototype.addBounds=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY;this.minX=a.minX<b?a.minX:b;this.minY=a.minY<c?a.minY:c;this.maxX=a.maxX>d?a.maxX:d;this.maxY=a.maxY>e?a.maxY:e};c.prototype.addBoundsMask=function(a,b){__p&&__p();var c=a.minX>b.minX?a.minX:b.minX,d=a.minY>b.minY?a.minY:b.minY,e=a.maxX<b.maxX?a.maxX:b.maxX;a=a.maxY<b.maxY?a.maxY:b.maxY;if(c<=e&&d<=a){b=this.minX;var f=this.minY,g=this.maxX,h=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>g?e:g;this.maxY=a>h?a:h}};c.prototype.addBoundsArea=function(a,b){__p&&__p();var c=a.minX>b.x?a.minX:b.x,d=a.minY>b.y?a.minY:b.y,e=a.maxX<b.x+b.width?a.maxX:b.x+b.width;a=a.maxY<b.y+b.height?a.maxY:b.y+b.height;if(c<=e&&d<=a){b=this.minX;var f=this.minY,g=this.maxX,h=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>g?e:g;this.maxY=a>h?a:h}};return c}();Va["default"]=c}var Ya=!1,Za=function(){Ya||(Ya=!0,Xa());return Wa.exports},$a={},ab={exports:$a};function bb(){$a.__esModule=!0;$a["default"]=c;c=j();var a=b(c);function b(a){return a&&a.__esModule?a:{"default":a}}function c(b){return a["default"].tablet||a["default"].phone?4:b}}var cb=!1,db=function(){cb||(cb=!0,bb());return ab.exports},eb={},fb={exports:eb};function gb(){eb.__esModule=!0;eb["default"]=a;function a(){var a=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!a}}var hb=!1,ib=function(){hb||(hb=!0,gb());return fb.exports},jb={},kb={exports:jb};function lb(){jb.__esModule=!0;var a=db();a=c(a);var b=ib();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}jb["default"]={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:a["default"](32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:c["default"](),MESH_CANVAS_PADDING:0}}var mb=!1,Q=function(){mb||(mb=!0,lb());return kb.exports},nb={},ob={exports:nb};function pb(){__p&&__p();nb.__esModule=!0;var a=P();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){__p&&__p();function c(){b(this,c),this.worldTransform=new a.Matrix(),this.localTransform=new a.Matrix(),this._worldID=0,this._parentID=0}c.prototype.updateLocalTransform=function(){};c.prototype.updateTransform=function(a){a=a.worldTransform;var b=this.worldTransform,c=this.localTransform;b.a=c.a*a.a+c.b*a.c;b.b=c.a*a.b+c.b*a.d;b.c=c.c*a.a+c.d*a.c;b.d=c.c*a.b+c.d*a.d;b.tx=c.tx*a.a+c.ty*a.c+a.tx;b.ty=c.tx*a.b+c.ty*a.d+a.ty;this._worldID++};return c}();nb["default"]=c;c.prototype.updateWorldTransform=c.prototype.updateTransform;c.IDENTITY=new c()}var qb=!1,rb=function(){qb||(qb=!0,pb());return ob.exports},sb={},tb={exports:sb};function ub(){__p&&__p();sb.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=rb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){__p&&__p();g(d,c);function d(){__p&&__p();e(this,d);var a=f(this,c.call(this));a.position=new b.ObservablePoint(a.onChange,a,0,0);a.scale=new b.ObservablePoint(a.onChange,a,1,1);a.pivot=new b.ObservablePoint(a.onChange,a,0,0);a.skew=new b.ObservablePoint(a.updateSkew,a,0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;a._localID=0;a._currentLocalID=0;return a}d.prototype.onChange=function(){this._localID++};d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++};d.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)};d.prototype.updateTransform=function(a){__p&&__p();var b=this.localTransform;this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*b.c),b.ty=this.position._y-(this.pivot._x*b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==a._worldID){var c=a.worldTransform,d=this.worldTransform;d.a=b.a*c.a+b.b*c.c;d.b=b.a*c.b+b.b*c.d;d.c=b.c*c.a+b.d*c.c;d.d=b.c*c.b+b.d*c.d;d.tx=b.tx*c.a+b.ty*c.c+c.tx;d.ty=b.tx*c.b+b.ty*c.d+c.ty;this._parentID=a._worldID;this._worldID++}};d.prototype.setFromMatrix=function(a){a.decompose(this),this._localID++};a(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]);return d}(d["default"]);sb["default"]=c}var vb=!1,wb=function(){vb||(vb=!0,ub());return tb.exports},xb={},yb={exports:xb};function zb(){__p&&__p();xb.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=rb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){__p&&__p();g(d,c);function d(){__p&&__p();e(this,d);var a=f(this,c.call(this));a.position=new b.Point(0,0);a.scale=new b.Point(1,1);a.skew=new b.ObservablePoint(a.updateSkew,a,0,0);a.pivot=new b.Point(0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;return a}d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)};d.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x;a.b=this._sx*this.scale.x;a.c=this._cy*this.scale.y;a.d=this._sy*this.scale.y;a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c);a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)};d.prototype.updateTransform=function(a){__p&&__p();var b=this.localTransform;b.a=this._cx*this.scale.x;b.b=this._sx*this.scale.x;b.c=this._cy*this.scale.y;b.d=this._sy*this.scale.y;b.tx=this.position.x-(this.pivot.x*b.a+this.pivot.y*b.c);b.ty=this.position.y-(this.pivot.x*b.b+this.pivot.y*b.d);a=a.worldTransform;var c=this.worldTransform;c.a=b.a*a.a+b.b*a.c;c.b=b.a*a.b+b.b*a.d;c.c=b.c*a.a+b.d*a.c;c.d=b.c*a.b+b.d*a.d;c.tx=b.tx*a.a+b.ty*a.c+a.tx;c.ty=b.tx*a.b+b.ty*a.d+a.ty;this._worldID++};d.prototype.setFromMatrix=function(a){a.decompose(this)};a(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]);return d}(d["default"]);xb["default"]=c}var Ab=!1,Bb=function(){Ab||(Ab=!0,zb());return yb.exports},Cb={},Db={exports:Cb};function Eb(){__p&&__p();Cb.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=i();b=k(b);var c=K(),d=Q(),e=k(d);d=wb();var f=k(d);d=Bb();var g=k(d);d=Za();var h=k(d),j=P();function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function n(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}k=function(b){__p&&__p();n(d,b);function d(){__p&&__p();l(this,d);var a=m(this,b.call(this)),i=e["default"].TRANSFORM_MODE===c.TRANSFORM_MODE.STATIC?f["default"]:g["default"];a.tempDisplayObjectParent=null;a.transform=new i();a.alpha=1;a.visible=!0;a.renderable=!0;a.parent=null;a.worldAlpha=1;a.filterArea=null;a._filters=null;a._enabledFilters=null;a._bounds=new h["default"]();a._boundsID=0;a._lastBoundsID=-1;a._boundsRect=null;a._localBoundsRect=null;a._mask=null;a._destroyed=!1;return a}d.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++};d.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};d.prototype.getBounds=function(a,b){a||(!this.parent?(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null):(this._recursivePostUpdateTransform(),this.updateTransform()));this._boundsID!==this._lastBoundsID&&this.calculateBounds();b||(this._boundsRect||(this._boundsRect=new j.Rectangle()),b=this._boundsRect);return this._bounds.getRectangle(b)};d.prototype.getLocalBounds=function(a){var b=this.transform,c=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new j.Rectangle()),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=c;this.transform=b;return a};d.prototype.toGlobal=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;c||(this._recursivePostUpdateTransform(),!this.parent?(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null):this.displayObjectUpdateTransform());return this.worldTransform.apply(a,b)};d.prototype.toLocal=function(a,b,c,d){b&&(a=b.toGlobal(a,c,d));d||(this._recursivePostUpdateTransform(),!this.parent?(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null):this.displayObjectUpdateTransform());return this.worldTransform.applyInverse(a,c)};d.prototype.renderWebGL=function(a){};d.prototype.renderCanvas=function(a){};d.prototype.setParent=function(a){if(!a||!a.addChild)throw new Error("setParent: Argument must be a Container");a.addChild(this);return a};d.prototype.setTransform=function(){__p&&__p();var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,i=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;this.position.x=a;this.position.y=b;this.scale.x=c?c:1;this.scale.y=d?d:1;this.rotation=e;this.skew.x=f;this.skew.y=g;this.pivot.x=h;this.pivot.y=i;return this};d.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0};a(d,[{key:"_tempDisplayObjectParent",get:function(){this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new d());return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",get:function(){return this.position.y},set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=a,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return d}(b["default"]);Cb["default"]=k;k.prototype.displayObjectUpdateTransform=k.prototype.updateTransform}var Fb=!1,Gb=function(){Fb||(Fb=!0,Eb());return Db.exports},Hb={},Ib={exports:Hb};function Jb(){__p&&__p();Hb.__esModule=!0;function a(a){a.__plugins={},a.registerPlugin=function(b,c){a.__plugins[b]=c},a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var b in a.__plugins)this.plugins[b]=new a.__plugins[b](this)},a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}Hb["default"]={mixin:function(b){a(b)}}}var Kb=!1,Lb=function(){Kb||(Kb=!0,Jb());return Ib.exports},Mb={},Nb={exports:Mb};function Ob(){__p&&__p();Mb.__esModule=!0;Mb.mixin=a;Mb.delayMixin=c;Mb.performMixins=d;function a(a,b){if(!a||!b)return;var c=Object.keys(b);for(var d=0;d<c.length;++d){var e=c[d];Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e))}}var b=[];function c(a,c){b.push(a,c)}function d(){for(var c=0;c<b.length;c+=2)a(b[c],b[c+1]);b.length=0}}var Pb=!1,Qb=function(){Pb||(Pb=!0,Ob());return Nb.exports},Rb={},Sb={exports:Rb};function Tb(){__p&&__p();Rb.__esModule=!0;Rb["default"]=b;var a=K();function b(){__p&&__p();var b=[],c=[];for(var d=0;d<32;d++)b[d]=d,c[d]=d;b[a.BLEND_MODES.NORMAL_NPM]=a.BLEND_MODES.NORMAL;b[a.BLEND_MODES.ADD_NPM]=a.BLEND_MODES.ADD;b[a.BLEND_MODES.SCREEN_NPM]=a.BLEND_MODES.SCREEN;c[a.BLEND_MODES.NORMAL]=a.BLEND_MODES.NORMAL_NPM;c[a.BLEND_MODES.ADD]=a.BLEND_MODES.ADD_NPM;c[a.BLEND_MODES.SCREEN]=a.BLEND_MODES.SCREEN_NPM;d=[];d.push(c);d.push(b);return d}}var Ub=!1,Vb=function(){Ub||(Ub=!0,Tb());return Sb.exports},R={},Wb={exports:R};function Xb(){__p&&__p();R.__esModule=!0;R.premultiplyBlendMode=R.BaseTextureCache=R.TextureCache=R.earcut=R.mixins=R.pluginTarget=R.EventEmitter=R.removeItems=R.isMobile=void 0;R.uid=g;R.hex2rgb=h;R.hex2string=m;R.rgb2hex=n;R.getResolutionOfUrl=o;R.decomposeDataUri=p;R.getUrlFileExtension=q;R.getSvgSize=r;R.skipHello=s;R.sayHello=t;R.isWebGLSupported=u;R.sign=v;R.destroyTextureCache=y;R.clearTextureCache=z;R.correctBlendMode=B;R.premultiplyTint=C;R.premultiplyRgba=D;R.premultiplyTintToRgba=E;var a=K();g=Q();var b=d(g);h=i();m=d(h);n=Lb();o=d(n);p=Qb();q=c(p);r=j();s=c(r);t=k();u=d(t);v=Vb();y=d(v);z=l();B=d(z);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a){return a&&a.__esModule?a:{"default":a}}var e=0,f=!1;R.isMobile=s;R.removeItems=u["default"];R.EventEmitter=m["default"];R.pluginTarget=o["default"];R.mixins=q;R.earcut=B["default"];function g(){return++e}function h(a,b){b=b||[];b[0]=(a>>16&255)/255;b[1]=(a>>8&255)/255;b[2]=(a&255)/255;return b}function m(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a}function n(a){return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)}function o(a,c){a=b["default"].RETINA_PREFIX.exec(a);return a?parseFloat(a[1]):c!==void 0?c:1}function p(b){b=a.DATA_URI.exec(b);return b?{mediaType:b[1]?b[1].toLowerCase():void 0,subType:b[2]?b[2].toLowerCase():void 0,charset:b[3]?b[3].toLowerCase():void 0,encoding:b[4]?b[4].toLowerCase():void 0,data:b[5]}:void 0}function q(b){b=a.URL_FILE_EXTENSION.exec(b);return b?b[1].toLowerCase():void 0}function r(b){b=a.SVG_SIZE.exec(b);var c={};b&&(c[b[1]]=Math.round(parseFloat(b[3])),c[b[5]]=Math.round(parseFloat(b[7])));return c}function s(){f=!0}function t(b){if(f)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var c=["\n %c %c %c PixiJS "+a.VERSION+" - \u2730 "+b+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,c)}else window.console&&window.console.log("PixiJS "+a.VERSION+" - "+b+" - http://www.pixijs.com/");f=!0}function u(){__p&&__p();var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas");b=b.getContext("webgl",a)||b.getContext("experimental-webgl",a);a=!!(b&&b.getContextAttributes().stencil);if(b){var c=b.getExtension("WEBGL_lose_context");c&&c.loseContext()}b=null;return a}catch(a){return!1}}function v(a){return a===0?0:a<0?-1:1}var w=R.TextureCache=Object.create(null),x=R.BaseTextureCache=Object.create(null);function y(){var a;for(a in w)w[a].destroy();for(a in x)x[a].destroy()}function z(){var a;for(a in w)delete w[a];for(a in x)delete x[a]}var A=R.premultiplyBlendMode=y["default"]();function B(a,b){return A[b?1:0][a]}function C(a,b){__p&&__p();if(b===1)return(b*255<<24)+a;if(b===0)return 0;var c=a>>16&255,d=a>>8&255;a=a&255;c=c*b+.5|0;d=d*b+.5|0;a=a*b+.5|0;return(b*255<<24)+(c<<16)+(d<<8)+a}function D(a,b,c,d){c=c||new Float32Array(4);d||d===void 0?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b):(c[0]=a[0],c[1]=a[1],c[2]=a[2]);c[3]=b;return c}function E(a,b,c,d){c=c||new Float32Array(4);c[0]=(a>>16&255)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;(d||d===void 0)&&(c[0]*=b,c[1]*=b,c[2]*=b);c[3]=b;return c}}var Yb=!1,S=function(){Yb||(Yb=!0,Xb());return Wb.exports},Zb={},$b={exports:Zb};function ac(){__p&&__p();Zb.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=S(),c=Gb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){__p&&__p();g(d,c);function d(){e(this,d);var a=f(this,c.call(this));a.children=[];return a}d.prototype.onChildrenChange=function(){};d.prototype.addChild=function(a){var b=arguments.length;if(b>1)for(var c=0;c<b;c++)this.addChild(arguments[c]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a};d.prototype.addChildAt=function(a,b){__p&&__p();if(b<0||b>this.children.length)throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;a.transform._parentID=-1;this.children.splice(b,0,a);this._boundsID++;this.onChildrenChange(b);a.emit("added",this);return a};d.prototype.swapChildren=function(a,b){if(a===b)return;var c=this.getChildIndex(a),d=this.getChildIndex(b);this.children[c]=b;this.children[d]=a;this.onChildrenChange(c<d?c:d)};d.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(a===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return a};d.prototype.setChildIndex=function(a,c){if(c<0||c>=this.children.length)throw new Error("The index "+c+" supplied is out of bounds "+this.children.length);var d=this.getChildIndex(a);b.removeItems(this.children,d,1);this.children.splice(c,0,a);this.onChildrenChange(c)};d.prototype.getChildAt=function(a){if(a<0||a>=this.children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};d.prototype.removeChild=function(a){__p&&__p();var c=arguments.length;if(c>1)for(var d=0;d<c;d++)this.removeChild(arguments[d]);else{var e=this.children.indexOf(a);if(e===-1)return null;a.parent=null;a.transform._parentID=-1;b.removeItems(this.children,e,1);this._boundsID++;this.onChildrenChange(e);a.emit("removed",this)}return a};d.prototype.removeChildAt=function(a){var c=this.getChildAt(a);c.parent=null;c.transform._parentID=-1;b.removeItems(this.children,a,1);this._boundsID++;this.onChildrenChange(a);c.emit("removed",this);return c};d.prototype.removeChildren=function(){__p&&__p();var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments[1],c=a,d=typeof b==="number"?b:this.children.length,e=d-c,f=void 0;if(e>0&&e<=d){f=this.children.splice(c,e);for(var g=0;g<f.length;++g)f[g].parent=null,f[g].transform&&(f[g].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(var h=0;h<f.length;++h)f[h].emit("removed",this);return f}else if(e===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")};d.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var c=this.children[a];c.visible&&c.updateTransform()}};d.prototype.calculateBounds=function(){__p&&__p();this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var b=this.children[a];if(!b.visible||!b.renderable)continue;b.calculateBounds();b._mask?(b._mask.calculateBounds(),this._bounds.addBoundsMask(b._bounds,b._mask._bounds)):b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds)}this._lastBoundsID=this._boundsID};d.prototype._calculateBounds=function(){};d.prototype.renderWebGL=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderWebGL(a)}};d.prototype.renderAdvancedWebGL=function(a){__p&&__p();a.flush();var b=this._filters,c=this._mask;if(b){this._enabledFilters||(this._enabledFilters=[]);this._enabledFilters.length=0;for(var d=0;d<b.length;d++)b[d].enabled&&this._enabledFilters.push(b[d]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}c&&a.maskManager.pushMask(this,this._mask);this._renderWebGL(a);for(var d=0,e=this.children.length;d<e;d++)this.children[d].renderWebGL(a);a.flush();c&&a.maskManager.popMask(this,this._mask);b&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()};d.prototype._renderWebGL=function(a){};d.prototype._renderCanvas=function(a){};d.prototype.renderCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)};d.prototype.destroy=function(a){c.prototype.destroy.call(this);var b=typeof a==="boolean"?a:a&&a.children,d=this.removeChildren(0,this.children.length);if(b)for(var b=0;b<d.length;++b)d[b].destroy(a)};a(d,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;b!==0?this.scale.x=a/b:this.scale.x=1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;b!==0?this.scale.y=a/b:this.scale.y=1;this._height=a}}]);return d}(d["default"]);Zb["default"]=c;c.prototype.containerUpdateTransform=c.prototype.updateTransform}var bc=!1,cc=function(){bc||(bc=!0,ac());return $b.exports},dc={},ec={exports:dc};function fc(){__p&&__p();dc.__esModule=!0;dc["default"]=d;d={};var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=void 0;function d(b){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(b.indexOf("data:")===0)return"";d=d||window.location;c||(c=document.createElement("a"));c.href=b;b=a["default"].parse(c.href);var e=!b.port&&d.port===""||b.port===d.port;return b.hostname!==d.hostname||!e||b.protocol!==d.protocol?"anonymous":""}}var gc=!1,hc=function(){gc||(gc=!0,fc());return ec.exports},ic={},jc={exports:ic};function kc(){__p&&__p();ic.__esModule=!0;var a=S(),b=Q(),c=g(b);b=i();b=g(b);var d=hc(),e=g(d);d=m();var f=g(d);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(b){__p&&__p();k(d,b);function d(e,f,g){__p&&__p();h(this,d);var i=j(this,b.call(this));i.uid=a.uid();i.touched=0;i.resolution=g||c["default"].RESOLUTION;i.width=100;i.height=100;i.realWidth=100;i.realHeight=100;i.scaleMode=f!==void 0?f:c["default"].SCALE_MODE;i.hasLoaded=!1;i.isLoading=!1;i.source=null;i.origSource=null;i.imageType=null;i.sourceScale=1;i.premultipliedAlpha=!0;i.imageUrl=null;i.isPowerOfTwo=!1;i.mipmap=c["default"].MIPMAP_TEXTURES;i.wrapMode=c["default"].WRAP_MODE;i._glTextures={};i._enabled=0;i._virtalBoundId=-1;i._destroyed=!1;i.textureCacheIds=[];e&&i.loadSource(e);return i}d.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)};d.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=f["default"].isPow2(this.realWidth)&&f["default"].isPow2(this.realHeight)};d.prototype.loadSource=function(a){__p&&__p();var b=this.isLoading;this.hasLoaded=!1;this.isLoading=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);var c=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),c&&this.emit("loaded",this);else if(!a.getContext){this.isLoading=!0;var d=this;a.onload=function(){__p&&__p();d._updateImageType();a.onload=null;a.onerror=null;if(!d.isLoading)return;d.isLoading=!1;d._sourceLoaded();if(d.imageType==="svg"){d._loadSvgSource();return}d.emit("loaded",d)};a.onerror=function(){a.onload=null;a.onerror=null;if(!d.isLoading)return;d.isLoading=!1;d.emit("error",d)};if(a.complete&&a.src){a.onload=null;a.onerror=null;if(d.imageType==="svg"){d._loadSvgSource();return}this.isLoading=!1;a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this)}}};d.prototype._updateImageType=function(){__p&&__p();if(!this.imageUrl)return;var b=a.decomposeDataUri(this.imageUrl);if(b&&b.mediaType==="image"){b=b.subType.split("+")[0];b=a.getUrlFileExtension("."+b);if(!b)throw new Error("Invalid image type in data URI.")}else b=a.getUrlFileExtension(this.imageUrl),b||(b="png");this.imageType=b};d.prototype._loadSvgSource=function(){if(this.imageType!=="svg")return;var b=a.decomposeDataUri(this.imageUrl);b?this._loadSvgSourceUsingDataUri(b):this._loadSvgSourceUsingXhr()};d.prototype._loadSvgSourceUsingDataUri=function(a){var b;if(a.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");b=atob(a.data)}else b=a.data;this._loadSvgSourceUsingString(b)};d.prototype._loadSvgSourceUsingXhr=function(){var a=this,b=new XMLHttpRequest();b.onload=function(){if(b.readyState!==b.DONE||b.status!==200)throw new Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(b.response)};b.onerror=function(){return a.emit("error",a)};b.open("GET",this.imageUrl,!0);b.send()};d.prototype._loadSvgSourceUsingString=function(b){__p&&__p();b=a.getSvgSize(b);var c=b.width;b=b.height;if(!c||!b)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(c*this.sourceScale);this.realHeight=Math.round(b*this.sourceScale);this._updateDimensions();var e=document.createElement("canvas");e.width=this.realWidth;e.height=this.realHeight;e._pixiId="canvas_"+a.uid();e.getContext("2d").drawImage(this.source,0,0,c,b,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=e;d.addToCache(this,e._pixiId);this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};d.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()};d.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),d.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0};d.prototype.dispose=function(){this.emit("dispose",this)};d.prototype.updateSourceImage=function(a){this.source.src=a,this.loadSource(this.source)};d.fromImage=function(b,c,f,g){__p&&__p();var h=a.BaseTextureCache[b];if(!h){var i=new Image();c===void 0&&b.indexOf("data:")!==0?i.crossOrigin=e["default"](b):c&&(i.crossOrigin=typeof c==="string"?c:"anonymous");h=new d(i,f);h.imageUrl=b;g&&(h.sourceScale=g);h.resolution=a.getResolutionOfUrl(b);i.src=b;d.addToCache(h,b)}return h};d.fromCanvas=function(b,c){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";b._pixiId||(b._pixiId=e+"_"+a.uid());var f=a.BaseTextureCache[b._pixiId];f||(f=new d(b,c),d.addToCache(f,b._pixiId));return f};d.from=function(b,c,e){__p&&__p();if(typeof b==="string")return d.fromImage(b,void 0,c,e);else if(b instanceof HTMLImageElement){var f=b.src,g=a.BaseTextureCache[f];g||(g=new d(b,c),g.imageUrl=f,e&&(g.sourceScale=e),g.resolution=a.getResolutionOfUrl(f),d.addToCache(g,f));return g}else if(b instanceof HTMLCanvasElement)return d.fromCanvas(b,c);return b};d.addToCache=function(b,c){c&&(b.textureCacheIds.indexOf(c)===-1&&b.textureCacheIds.push(c),a.BaseTextureCache[c],a.BaseTextureCache[c]=b)};d.removeFromCache=function(b){__p&&__p();if(typeof b==="string"){var c=a.BaseTextureCache[b];if(c){var d=c.textureCacheIds.indexOf(b);d>-1&&c.textureCacheIds.splice(d,1);delete a.BaseTextureCache[b];return c}}else if(b&&b.textureCacheIds){for(var d=0;d<b.textureCacheIds.length;++d)delete a.BaseTextureCache[b.textureCacheIds[d]];b.textureCacheIds.length=0;return b}return null};return d}(b["default"]);ic["default"]=g}var lc=!1,mc=function(){lc||(lc=!0,kc());return jc.exports},nc={},oc={exports:nc};function pc(){__p&&__p();nc.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){__p&&__p();function b(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;a(this,b);this.fn=c;this.context=d;this.priority=e;this.once=f;this.next=null;this.previous=null;this._destroyed=!1}b.prototype.match=function(a,b){b=b||null;return this.fn===a&&this.context===b};b.prototype.emit=function(a){this.fn&&(this.context?this.fn.call(this.context,a):this.fn(a));a=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return a};b.prototype.connect=function(a){this.previous=a,a.next&&(a.next.previous=this),this.next=a.next,a.next=this};b.prototype.destroy=function(){__p&&__p();var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0;this.fn=null;this.context=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var b=this.next;this.next=a?null:b;this.previous=null;return b};return b}();nc["default"]=b}var qc=!1,rc=function(){qc||(qc=!0,pc());return oc.exports},sc={},tc={exports:sc};function uc(){__p&&__p();sc.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Q(),c=f(b),d=K();b=rc();var e=f(b);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){__p&&__p();function b(){__p&&__p();var a=this;g(this,b);this._head=new e["default"](null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/c["default"].TARGET_FPMS;this.lastTime=-1;this.speed=1;this.started=!1;this._tick=function(b){a._requestId=null,a.started&&(a.update(b),a.started&&a._requestId===null&&a._head.next&&(a._requestId=requestAnimationFrame(a._tick)))}}b.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};b.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)};b.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};b.prototype.add=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new e["default"](a,b,c))};b.prototype.addOnce=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new e["default"](a,b,c,!0))};b.prototype._addListener=function(a){__p&&__p();var b=this._head.next,c=this._head;if(!b)a.connect(c);else{while(b){if(a.priority>b.priority){a.connect(c);break}c=b;b=b.next}a.previous||a.connect(c)}this._startIfPossible();return this};b.prototype.remove=function(a,b){var c=this._head.next;while(c)c.match(a,b)?c=c.destroy():c=c.next;this._head.next||this._cancelIfNeeded();return this};b.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};b.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};b.prototype.destroy=function(){this.stop();var a=this._head.next;while(a)a=a.destroy(!0);this._head.destroy();this._head=null};b.prototype.update=function(){__p&&__p();var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),b;if(a>this.lastTime){b=this.elapsedMS=a-this.lastTime;b>this._maxElapsedMS&&(b=this._maxElapsedMS);this.deltaTime=b*c["default"].TARGET_FPMS*this.speed;var d=this._head,e=d.next;while(e)e=e.emit(this.deltaTime);d.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=a};a(b,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(a){a=Math.min(Math.max(0,a)/1e3,c["default"].TARGET_FPMS);this._maxElapsedMS=1/a}}]);return b}();sc["default"]=f}var vc=!1,wc=function(){vc||(vc=!0,uc());return tc.exports},xc={},yc={exports:xc};function zc(){__p&&__p();xc.__esModule=!0;xc.Ticker=xc.shared=void 0;var a=wc();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}a=new b["default"]();a.autoStart=!0;a.destroy=function(){};xc.shared=a;xc.Ticker=b["default"]}var Ac=!1,Bc=function(){Ac||(Ac=!0,zc());return yc.exports},Cc={},Dc={exports:Cc};function Ec(){__p&&__p();Cc.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=mc(),c=h(b),d=S(),e=Bc(),f=K();b=hc();var g=h(b);function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h=function(b){__p&&__p();k(h,b);function h(a,c){__p&&__p();i(this,h);if(!a)throw new Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0);c=j(this,b.call(this,a,c));c.width=a.videoWidth;c.height=a.videoHeight;c._autoUpdate=!0;c._isAutoUpdating=!1;c.autoPlay=!0;c.update=c.update.bind(c);c._onCanPlay=c._onCanPlay.bind(c);a.addEventListener("play",c._onPlayStart.bind(c));a.addEventListener("pause",c._onPlayStop.bind(c));c.hasLoaded=!1;c.__loaded=!1;!c._isSourceReady()?(a.addEventListener("canplay",c._onCanPlay),a.addEventListener("canplaythrough",c._onCanPlay)):c._onCanPlay();return c}h.prototype._isSourcePlaying=function(){var a=this.source;return a.currentTime>0&&a.paused===!1&&a.ended===!1&&a.readyState>2};h.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4};h.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(e.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)};h.prototype._onPlayStop=function(){this._isAutoUpdating&&(e.shared.remove(this.update,this),this._isAutoUpdating=!1)};h.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};h.prototype.destroy=function(){this._isAutoUpdating&&e.shared.remove(this.update,this),this.source&&this.source._pixiId&&(c["default"].removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),b.prototype.destroy.call(this)};h.fromVideo=function(a,b){a._pixiId||(a._pixiId="video_"+d.uid());var e=d.BaseTextureCache[a._pixiId];e||(e=new h(a,b),c["default"].addToCache(e,a._pixiId));return e};h.fromUrl=function(a,b,c){__p&&__p();var d=document.createElement("video");d.setAttribute("webkit-playsinline","");d.setAttribute("playsinline","");var e=Array.isArray(a)?a[0].src||a[0]:a.src||a;c===void 0&&e.indexOf("data:")!==0?d.crossOrigin=g["default"](e):c&&(d.crossOrigin=typeof c==="string"?c:"anonymous");if(Array.isArray(a))for(var c=0;c<a.length;++c)d.appendChild(l(a[c].src||a[c],a[c].mime));else d.appendChild(l(e,a.mime));d.load();return h.fromVideo(d,b)};a(h,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(e.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(e.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]);return h}(c["default"]);Cc["default"]=h;h.fromUrls=h.fromUrl;function l(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");c.src=a;c.type=b;return c}}var Fc=!1,Gc=function(){Fc||(Fc=!0,Ec());return Dc.exports},Hc={},Ic={exports:Hc};function Jc(){__p&&__p();Hc.__esModule=!0;var a=sa(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){__p&&__p();function a(){d(this,a),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}a.prototype.set=function(a,c,d){__p&&__p();var e=c.width;c=c.height;if(d){var f=a.width/2/e,g=a.height/2/c,h=a.x/e+f,i=a.y/c+g;d=b["default"].add(d,b["default"].NW);this.x0=h+f*b["default"].uX(d);this.y0=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x1=h+f*b["default"].uX(d);this.y1=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x2=h+f*b["default"].uX(d);this.y2=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x3=h+f*b["default"].uX(d);this.y3=i+g*b["default"].uY(d)}else this.x0=a.x/e,this.y0=a.y/c,this.x1=(a.x+a.width)/e,this.y1=a.y/c,this.x2=(a.x+a.width)/e,this.y2=(a.y+a.height)/c,this.x3=a.x/e,this.y3=(a.y+a.height)/c;this.uvsUint32[0]=(this.y0*65535&65535)<<16|this.x0*65535&65535;this.uvsUint32[1]=(this.y1*65535&65535)<<16|this.x1*65535&65535;this.uvsUint32[2]=(this.y2*65535&65535)<<16|this.x2*65535&65535;this.uvsUint32[3]=(this.y3*65535&65535)<<16|this.x3*65535&65535};return a}();Hc["default"]=c}var Kc=!1,Lc=function(){Kc||(Kc=!0,Jc());return Ic.exports},Mc={},Nc={exports:Mc};function Oc(){__p&&__p();Mc.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=mc(),c=k(b);b=Gc();var d=k(b);b=Lc();var e=k(b);b=i();b=k(b);var f=P(),g=S(),h=Q(),j=k(h);function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function n(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var o=function(h){__p&&__p();n(b,h);function b(a,c,d,e,g){__p&&__p();l(this,b);var i=m(this,h.call(this));i.noFrame=!1;c||(i.noFrame=!0,c=new f.Rectangle(0,0,1,1));a instanceof b&&(a=a.baseTexture);i.baseTexture=a;i._frame=c;i.trim=e;i.valid=!1;i.requiresUpdate=!1;i._uvs=null;i.orig=d||c;i._rotate=Number(g||0);if(g===!0)i._rotate=2;else if(i._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");a.hasLoaded?(i.noFrame&&(c=new f.Rectangle(0,0,a.width,a.height),a.on("update",i.onBaseTextureUpdated,i)),i.frame=c):a.once("loaded",i.onBaseTextureLoaded,i);i._updateID=0;i.transform=null;i.textureCacheIds=[];return i}b.prototype.update=function(){this.baseTexture.update()};b.prototype.onBaseTextureLoaded=function(a){this._updateID++,this.noFrame?this.frame=new f.Rectangle(0,0,a.width,a.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)};b.prototype.onBaseTextureUpdated=function(a){this._updateID++,this._frame.width=a.width,this._frame.height=a.height,this.emit("update",this)};b.prototype.destroy=function(a){this.baseTexture&&(a&&(g.TextureCache[this.baseTexture.imageUrl]&&b.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,b.removeFromCache(this),this.textureCacheIds=null};b.prototype.clone=function(){return new b(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};b.prototype._updateUvs=function(){this._uvs||(this._uvs=new e["default"]()),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++};b.fromImage=function(a,d,e,f){var h=g.TextureCache[a];h||(h=new b(c["default"].fromImage(a,d,e,f)),b.addToCache(h,a));return h};b.fromFrame=function(a){var b=g.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return b};b.fromCanvas=function(a,d){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new b(c["default"].fromCanvas(a,d,e))};b.fromVideo=function(a,c){return typeof a==="string"?b.fromVideoUrl(a,c):new b(d["default"].fromVideo(a,c))};b.fromVideoUrl=function(a,c){return new b(d["default"].fromUrl(a,c))};b.from=function(a){__p&&__p();if(typeof a==="string"){var d=g.TextureCache[a];if(!d){var e=a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return e?b.fromVideoUrl(a):b.fromImage(a)}return d}else if(a instanceof HTMLImageElement)return new b(c["default"].from(a));else if(a instanceof HTMLCanvasElement)return b.fromCanvas(a,j["default"].SCALE_MODE,"HTMLCanvasElement");else if(a instanceof HTMLVideoElement)return b.fromVideo(a);else if(a instanceof c["default"])return new b(a);return a};b.fromLoader=function(a,d,e){a=new c["default"](a,void 0,g.getResolutionOfUrl(d));var f=new b(a);a.imageUrl=d;e||(e=d);c["default"].addToCache(f.baseTexture,e);b.addToCache(f,e);e!==d&&(c["default"].addToCache(f.baseTexture,d),b.addToCache(f,d));return f};b.addToCache=function(a,b){b&&(a.textureCacheIds.indexOf(b)===-1&&a.textureCacheIds.push(b),g.TextureCache[b],g.TextureCache[b]=a)};b.removeFromCache=function(a){__p&&__p();if(typeof a==="string"){var b=g.TextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);c>-1&&b.textureCacheIds.splice(c,1);delete g.TextureCache[a];return b}}else if(a&&a.textureCacheIds){for(var c=0;c<a.textureCacheIds.length;++c)g.TextureCache[a.textureCacheIds[c]]===a&&delete g.TextureCache[a.textureCacheIds[c]];a.textureCacheIds.length=0;return a}return null};a(b,[{key:"frame",get:function(){return this._frame},set:function(a){__p&&__p();this._frame=a;this.noFrame=!1;var b=a.x,c=a.y,d=a.width,e=a.height,f=b+d>this.baseTexture.width,g=c+e>this.baseTexture.height;if(f||g){f=f&&g?"and":"or";g="X: "+b+" + "+d+" = "+(b+d)+" > "+this.baseTexture.width;b="Y: "+c+" + "+e+" = "+(c+e)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(g+" "+f+" "+b))}this.valid=d&&e&&this.baseTexture.hasLoaded;!this.trim&&!this.rotate&&(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]);return b}(b["default"]);Mc["default"]=o;function p(){var a=document.createElement("canvas");a.width=10;a.height=10;var b=a.getContext("2d");b.fillStyle="white";b.fillRect(0,0,10,10);return new o(new c["default"](a))}function q(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}o.EMPTY=new o(new c["default"]());q(o.EMPTY);q(o.EMPTY.baseTexture);o.WHITE=p();q(o.WHITE);q(o.WHITE.baseTexture)}var Pc=!1,T=function(){Pc||(Pc=!0,Oc());return Nc.exports},Qc={},Rc={exports:Qc};function Sc(){__p&&__p();Qc.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=S(),d=K(),e=T(),f=g(e);e=cc();g=g(e);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=new b.Point();e=function(e){__p&&__p();j(g,e);function g(a){__p&&__p();h(this,g);var c=i(this,e.call(this));c._anchor=new b.ObservablePoint(c._onAnchorUpdate,c);c._texture=null;c._width=0;c._height=0;c._tint=null;c._tintRGB=null;c.tint=16777215;c.blendMode=d.BLEND_MODES.NORMAL;c.shader=null;c.cachedTint=16777215;c.texture=a||f["default"].EMPTY;c.vertexData=new Float32Array(8);c.vertexTrimmedData=null;c._transformID=-1;c._textureID=-1;c._transformTrimmedID=-1;c._textureTrimmedID=-1;c.pluginName="sprite";return c}g.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=c.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=c.sign(this.scale.y)*this._height/this._texture.orig.height)};g.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1};g.prototype.calculateVertices=function(){__p&&__p();if(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)return;this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var a=this._texture,b=this.transform.worldTransform,c=b.a,d=b.b,e=b.c,f=b.d,g=b.tx;b=b.ty;var h=this.vertexData,i=a.trim;a=a.orig;var j=this._anchor,k,l,m;i?(l=i.x-j._x*a.width,k=l+i.width,m=i.y-j._y*a.height,i=m+i.height):(l=-j._x*a.width,k=l+a.width,m=-j._y*a.height,i=m+a.height);h[0]=c*l+e*m+g;h[1]=f*m+d*l+b;h[2]=c*k+e*m+g;h[3]=f*m+d*k+b;h[4]=c*k+e*i+g;h[5]=f*i+d*k+b;h[6]=c*l+e*i+g;h[7]=f*i+d*l+b};g.prototype.calculateTrimmedVertices=function(){__p&&__p();if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this._texture,b=this.vertexTrimmedData;a=a.orig;var c=this._anchor,d=this.transform.worldTransform,e=d.a,f=d.b,g=d.c,h=d.d,i=d.tx;d=d.ty;var j=-c._x*a.width,k=j+a.width;c=-c._y*a.height;a=c+a.height;b[0]=e*j+g*c+i;b[1]=h*c+f*j+d;b[2]=e*k+g*c+i;b[3]=h*c+f*k+d;b[4]=e*k+g*a+i;b[5]=h*a+f*k+d;b[6]=e*j+g*a+i;b[7]=h*a+f*j+d};g.prototype._renderWebGL=function(a){this.calculateVertices(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)};g.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};g.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};g.prototype.getLocalBounds=function(a){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y);a||(this._localBoundsRect||(this._localBoundsRect=new b.Rectangle()),a=this._localBoundsRect);return this._bounds.getRectangle(a)}return e.prototype.getLocalBounds.call(this,a)};g.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,k);a=this._texture.orig.width;var b=this._texture.orig.height,c=-a*this.anchor.x;if(k.x>=c&&k.x<c+a){c=-b*this.anchor.y;if(k.y>=c&&k.y<c+b)return!0}return!1};g.prototype.destroy=function(a){__p&&__p();e.prototype.destroy.call(this,a);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;var b=typeof a==="boolean"?a:a&&a.texture;if(b){b=typeof a==="boolean"?a:a&&a.baseTexture;this._texture.destroy(!!b)}this._texture=null;this.shader=null};g.from=function(a){return new g(f["default"].from(a))};g.fromFrame=function(a){var b=c.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return new g(b)};g.fromImage=function(a,b,c){return new g(f["default"].fromImage(a,b,c))};a(g,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=c.sign(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var b=c.sign(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture===a)return;this._texture=a;this.cachedTint=16777215;this._textureID=-1;this._textureTrimmedID=-1;a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this))}}]);return g}(g["default"]);Qc["default"]=e}var Tc=!1,Uc=function(){Tc||(Tc=!0,Sc());return Rc.exports},Vc={},Wc={exports:Vc};function Xc(){__p&&__p();Vc.__esModule=!0;var a=mc();a=d(a);var b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(a){__p&&__p();g(b,a);function b(){__p&&__p();var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,h=arguments[2],i=arguments[3];e(this,b);var j=f(this,a.call(this,null,h));j.resolution=i||c["default"].RESOLUTION;j.width=Math.ceil(d);j.height=Math.ceil(g);j.realWidth=j.width*j.resolution;j.realHeight=j.height*j.resolution;j.scaleMode=h!==void 0?h:c["default"].SCALE_MODE;j.hasLoaded=!0;j._glRenderTargets={};j._canvasRenderTarget=null;j.valid=!1;return j}b.prototype.resize=function(a,b){__p&&__p();a=Math.ceil(a);b=Math.ceil(b);if(a===this.width&&b===this.height)return;this.valid=a>0&&b>0;this.width=a;this.height=b;this.realWidth=this.width*this.resolution;this.realHeight=this.height*this.resolution;if(!this.valid)return;this.emit("update",this)};b.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.renderer=null};return b}(a["default"]);Vc["default"]=d}var Yc=!1,Zc=function(){Yc||(Yc=!0,Xc());return Wc.exports},$c={},ad={exports:$c};function bd(){__p&&__p();$c.__esModule=!0;var a=Zc(),b=c(a);a=T();c=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){__p&&__p();f(c,a);function c(f,g){__p&&__p();d(this,c);var h=null;if(!(f instanceof b["default"])){var i=arguments[1],j=arguments[2],k=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+i+", "+j+") instead of the ctor directly.");h=arguments[0];g=null;f=new b["default"](i,j,k,l)}var m=e(this,a.call(this,f,g));m.legacyRenderer=h;m.valid=!0;m._updateUvs();return m}c.prototype.resize=function(a,b,c){a=Math.ceil(a),b=Math.ceil(b),this.valid=a>0&&b>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=b,c||this.baseTexture.resize(a,b),this._updateUvs()};c.create=function(a,d,e,f){return new c(new b["default"](a,d,e,f))};return c}(c["default"]);$c["default"]=a}var cd=!1,dd=function(){cd||(cd=!0,bd());return ad.exports},ed={},fd={exports:ed};function gd(){__p&&__p();ed.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=S(),c=P(),d=K(),e=Q(),f=j(e);e=cc();var g=j(e);e=dd();var h=j(e);e=i();j=j(e);function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function m(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var n=new c.Matrix();e=function(e){__p&&__p();m(i,e);function i(a,h,j,m){__p&&__p();k(this,i);var n=l(this,e.call(this));b.sayHello(a);typeof h==="number"&&(h=Object.assign({width:h,height:j||f["default"].RENDER_OPTIONS.height},m));h=Object.assign({},f["default"].RENDER_OPTIONS,h);n.options=h;n.type=d.RENDERER_TYPE.UNKNOWN;n.screen=new c.Rectangle(0,0,h.width,h.height);n.view=h.view||document.createElement("canvas");n.resolution=h.resolution||f["default"].RESOLUTION;n.transparent=h.transparent;n.autoResize=h.autoResize||!1;n.blendModes=null;n.preserveDrawingBuffer=h.preserveDrawingBuffer;n.clearBeforeRender=h.clearBeforeRender;n.roundPixels=h.roundPixels;n._backgroundColor=0;n._backgroundColorRgba=[0,0,0,0];n._backgroundColorString="#000000";n.backgroundColor=h.backgroundColor||n._backgroundColor;n._tempDisplayObjectParent=new g["default"]();n._lastObjectRendered=n._tempDisplayObjectParent;return n}i.prototype.resize=function(a,b){this.screen.width=a,this.screen.height=b,this.view.width=a*this.resolution,this.view.height=b*this.resolution,this.autoResize&&(this.view.style.width=a+"px",this.view.style.height=b+"px")};i.prototype.generateTexture=function(a,b,c,d){d=d||a.getLocalBounds();b=h["default"].create(d.width|0,d.height|0,b,c);n.tx=-d.x;n.ty=-d.y;this.render(a,b,!1,n,!0);return b};i.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=d.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null};a(i,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a,this._backgroundColorString=b.hex2string(a),b.hex2rgb(a,this._backgroundColorRgba)}}]);return i}(j["default"]);ed["default"]=e}var hd=!1,id=function(){hd||(hd=!0,gd());return fd.exports},jd={},kd={exports:jd};function ld(){__p&&__p();jd.__esModule=!0;var a=K();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){__p&&__p();function c(a){b(this,c),this.renderer=a}c.prototype.pushMask=function(a){var b=this.renderer;b.context.save();var c=a.alpha,d=a.transform.worldTransform,e=b.resolution;b.context.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e);a._texture||(this.renderGraphicsShape(a),b.context.clip());a.worldAlpha=c};c.prototype.renderGraphicsShape=function(b){__p&&__p();var c=this.renderer.context,d=b.graphicsData.length;if(d===0)return;c.beginPath();for(var e=0;e<d;e++){var f=b.graphicsData[e],g=f.shape;if(f.type===a.SHAPES.POLY){var h=g.points;c.moveTo(h[0],h[1]);for(var i=1;i<h.length/2;i++)c.lineTo(h[i*2],h[i*2+1]);h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&c.closePath()}else if(f.type===a.SHAPES.RECT)c.rect(g.x,g.y,g.width,g.height),c.closePath();else if(f.type===a.SHAPES.CIRC)c.arc(g.x,g.y,g.radius,0,2*Math.PI),c.closePath();else if(f.type===a.SHAPES.ELIP){i=g.width*2;h=g.height*2;var j=g.x-i/2,k=g.y-h/2,l=.5522848,m=i/2*l;l=h/2*l;var n=j+i,o=k+h;i=j+i/2;h=k+h/2;c.moveTo(j,h);c.bezierCurveTo(j,h-l,i-m,k,i,k);c.bezierCurveTo(i+m,k,n,h-l,n,h);c.bezierCurveTo(n,h+l,i+m,o,i,o);c.bezierCurveTo(i-m,o,j,h+l,j,h);c.closePath()}else if(f.type===a.SHAPES.RREC){k=g.x;n=g.y;i=g.width;m=g.height;o=g.radius;l=Math.min(i,m)/2|0;o=o>l?l:o;c.moveTo(k,n+o);c.lineTo(k,n+m-o);c.quadraticCurveTo(k,n+m,k+o,n+m);c.lineTo(k+i-o,n+m);c.quadraticCurveTo(k+i,n+m,k+i,n+m-o);c.lineTo(k+i,n+o);c.quadraticCurveTo(k+i,n,k+i-o,n);c.lineTo(k+o,n);c.quadraticCurveTo(k,n,k,n+o);c.closePath()}}};c.prototype.popMask=function(a){a.context.restore(),a.invalidateBlendMode()};c.prototype.destroy=function(){};return c}();jd["default"]=c}var md=!1,nd=function(){md||(md=!0,ld());return kd.exports},od={},pd={exports:od};function qd(){__p&&__p();od.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function b(a,d,f){e(this,b),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=f||c["default"].RESOLUTION,this.resize(a,d)}b.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};b.prototype.resize=function(a,b){this.canvas.width=a*this.resolution,this.canvas.height=b*this.resolution};b.prototype.destroy=function(){this.context=null,this.canvas=null};a(b,[{key:"width",get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},{key:"height",get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}]);return b}();od["default"]=d}var rd=!1,sd=function(){rd||(rd=!0,qd());return pd.exports},td={},ud={exports:td};function vd(){__p&&__p();td.__esModule=!0;td["default"]=b;function a(a){var b=document.createElement("canvas");b.width=6;b.height=1;var c=b.getContext("2d");c.fillStyle=a;c.fillRect(0,0,6,1);return b}function b(){__p&&__p();if(typeof document==="undefined")return!1;var b=a("#ff00ff"),c=a("#ffff00"),d=document.createElement("canvas");d.width=6;d.height=1;d=d.getContext("2d");d.globalCompositeOperation="multiply";d.drawImage(b,0,0);d.drawImage(c,2,0);b=d.getImageData(2,0,1,1);if(!b)return!1;c=b.data;return c[0]===255&&c[1]===0&&c[2]===0}}var wd=!1,xd=function(){wd||(wd=!0,vd());return ud.exports},yd={},zd={exports:yd};function Ad(){__p&&__p();yd.__esModule=!0;yd["default"]=d;var a=K();d=xd();var b=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];b["default"]()?(c[a.BLEND_MODES.NORMAL]="source-over",c[a.BLEND_MODES.ADD]="lighter",c[a.BLEND_MODES.MULTIPLY]="multiply",c[a.BLEND_MODES.SCREEN]="screen",c[a.BLEND_MODES.OVERLAY]="overlay",c[a.BLEND_MODES.DARKEN]="darken",c[a.BLEND_MODES.LIGHTEN]="lighten",c[a.BLEND_MODES.COLOR_DODGE]="color-dodge",c[a.BLEND_MODES.COLOR_BURN]="color-burn",c[a.BLEND_MODES.HARD_LIGHT]="hard-light",c[a.BLEND_MODES.SOFT_LIGHT]="soft-light",c[a.BLEND_MODES.DIFFERENCE]="difference",c[a.BLEND_MODES.EXCLUSION]="exclusion",c[a.BLEND_MODES.HUE]="hue",c[a.BLEND_MODES.SATURATION]="saturate",c[a.BLEND_MODES.COLOR]="color",c[a.BLEND_MODES.LUMINOSITY]="luminosity"):(c[a.BLEND_MODES.NORMAL]="source-over",c[a.BLEND_MODES.ADD]="lighter",c[a.BLEND_MODES.MULTIPLY]="source-over",c[a.BLEND_MODES.SCREEN]="source-over",c[a.BLEND_MODES.OVERLAY]="source-over",c[a.BLEND_MODES.DARKEN]="source-over",c[a.BLEND_MODES.LIGHTEN]="source-over",c[a.BLEND_MODES.COLOR_DODGE]="source-over",c[a.BLEND_MODES.COLOR_BURN]="source-over",c[a.BLEND_MODES.HARD_LIGHT]="source-over",c[a.BLEND_MODES.SOFT_LIGHT]="source-over",c[a.BLEND_MODES.DIFFERENCE]="source-over",c[a.BLEND_MODES.EXCLUSION]="source-over",c[a.BLEND_MODES.HUE]="source-over",c[a.BLEND_MODES.SATURATION]="source-over",c[a.BLEND_MODES.COLOR]="source-over",c[a.BLEND_MODES.LUMINOSITY]="source-over");c[a.BLEND_MODES.NORMAL_NPM]=c[a.BLEND_MODES.NORMAL];c[a.BLEND_MODES.ADD_NPM]=c[a.BLEND_MODES.ADD];c[a.BLEND_MODES.SCREEN_NPM]=c[a.BLEND_MODES.SCREEN];return c}}var Bd=!1,Cd=function(){Bd||(Bd=!0,Ad());return zd.exports},Dd={},Ed={exports:Dd};function Fd(){__p&&__p();Dd.__esModule=!0;var a=id();a=i(a);var b=nd(),c=i(b);b=sd();var d=i(b);b=Cd();var e=i(b);b=S();var f=K(),g=Q(),h=i(g);function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}i=function(a){__p&&__p();l(b,a);function b(d,g,h){__p&&__p();j(this,b);d=k(this,a.call(this,"Canvas",d,g,h));d.type=f.RENDERER_TYPE.CANVAS;d.rootContext=d.view.getContext("2d",{alpha:d.transparent});d.context=d.rootContext;d.refresh=!0;d.maskManager=new c["default"](d);d.smoothProperty="imageSmoothingEnabled";d.rootContext.imageSmoothingEnabled||(d.rootContext.webkitImageSmoothingEnabled?d.smoothProperty="webkitImageSmoothingEnabled":d.rootContext.mozImageSmoothingEnabled?d.smoothProperty="mozImageSmoothingEnabled":d.rootContext.oImageSmoothingEnabled?d.smoothProperty="oImageSmoothingEnabled":d.rootContext.msImageSmoothingEnabled&&(d.smoothProperty="msImageSmoothingEnabled"));d.initPlugins();d.blendModes=e["default"]();d._activeBlendMode=null;d.renderingToScreen=!1;d.resize(d.options.width,d.options.height);return d}b.prototype.render=function(a,b,c,e,g){__p&&__p();if(!this.view)return;this.renderingToScreen=!b;this.emit("prerender");var h=this.resolution;b?(b=b.baseTexture||b,b._canvasRenderTarget||(b._canvasRenderTarget=new d["default"](b.width,b.height,b.resolution),b.source=b._canvasRenderTarget.canvas,b.valid=!0),this.context=b._canvasRenderTarget.context,this.resolution=b._canvasRenderTarget.resolution):this.context=this.rootContext;var i=this.context;b||(this._lastObjectRendered=a);if(!g){b=a.parent;g=this._tempDisplayObjectParent.transform.worldTransform;e?(e.copy(g),this._tempDisplayObjectParent.transform._worldID=-1):g.identity();a.parent=this._tempDisplayObjectParent;a.updateTransform();a.parent=b}i.save();i.setTransform(1,0,0,1,0,0);i.globalAlpha=1;this._activeBlendMode=f.BLEND_MODES.NORMAL;i.globalCompositeOperation=this.blendModes[f.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(i.fillStyle="black",i.clear());(c!==void 0?c:this.clearBeforeRender)&&(this.renderingToScreen&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height))));e=this.context;this.context=i;a.renderCanvas(this);this.context=e;i.restore();this.resolution=h;this.emit("postrender")};b.prototype.clear=function(a){var b=this.context;a=a||this._backgroundColorString;!this.transparent&&a?(b.fillStyle=a,b.fillRect(0,0,this.width,this.height)):b.clearRect(0,0,this.width,this.height)};b.prototype.setBlendMode=function(a){if(this._activeBlendMode===a)return;this._activeBlendMode=a;this.context.globalCompositeOperation=this.blendModes[a]};b.prototype.destroy=function(b){this.destroyPlugins(),a.prototype.destroy.call(this,b),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null};b.prototype.resize=function(b,c){a.prototype.resize.call(this,b,c),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h["default"].SCALE_MODE===f.SCALE_MODES.LINEAR)};b.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)};return b}(a["default"]);Dd["default"]=i;b.pluginTarget.mixin(i)}var Gd=!1,Hd=function(){Gd||(Gd=!0,Fd());return Ed.exports},Id={},Jd={exports:Id};function Kd(){__p&&__p();Id.__esModule=!0;var a=S(),b=xd();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}var d={getTintedTexture:function(a,b){__p&&__p();a=a._texture;b=d.roundColor(b);var c="#"+("00000"+(b|0).toString(16)).substr(-6);a.tintCache=a.tintCache||{};var e=a.tintCache[c],f=void 0;if(e){if(e.tintId===a._updateID)return a.tintCache[c];f=a.tintCache[c]}else f=d.canvas||document.createElement("canvas");d.tintMethod(a,b,f);f.tintId=a._updateID;if(d.convertTintToImage){e=new Image();e.src=f.toDataURL();a.tintCache[c]=e}else a.tintCache[c]=f,d.canvas=null;return f},tintWithMultiply:function(a,b,c){__p&&__p();var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="multiply";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithOverlay:function(a,b,c){__p&&__p();var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.globalCompositeOperation="copy";d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithPerPixel:function(b,c,d){__p&&__p();var e=d.getContext("2d"),f=b._frame.clone(),g=b.baseTexture.resolution;f.x*=g;f.y*=g;f.width*=g;f.height*=g;d.width=Math.ceil(f.width);d.height=Math.ceil(f.height);e.save();e.globalCompositeOperation="copy";e.drawImage(b.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);e.restore();g=a.hex2rgb(c);d=g[0];b=g[1];c=g[2];g=e.getImageData(0,0,f.width,f.height);f=g.data;for(var h=0;h<f.length;h+=4)f[h+0]*=d,f[h+1]*=b,f[h+2]*=c;e.putImageData(g,0,0)},roundColor:function(b){var c=d.cacheStepsPerColorChannel;b=a.hex2rgb(b);b[0]=Math.min(255,b[0]/c*c);b[1]=Math.min(255,b[1]/c*c);b[2]=Math.min(255,b[2]/c*c);return a.rgb2hex(b)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:c["default"](),tintMethod:0};d.tintMethod=d.canUseMultiply?d.tintWithMultiply:d.tintWithPerPixel;Id["default"]=d}var Ld=!1,Md=function(){Ld||(Ld=!0,Kd());return Jd.exports},Nd={},Od={exports:Nd};function Pd(){__p&&__p();Nd.__esModule=!0;var a=Hd();a=f(a);var b=K(),c=P(),d=Md(),e=f(d);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var h=new c.Matrix();f=function(){__p&&__p();function a(b){g(this,a),this.renderer=b}a.prototype.render=function(a){__p&&__p();var d=a._texture,f=this.renderer,g=d._frame.width,i=d._frame.height,j=a.transform.worldTransform,k=0,l=0;if(d.orig.width<=0||d.orig.height<=0||!d.baseTexture.source)return;f.setBlendMode(a.blendMode);if(d.valid){f.context.globalAlpha=a.worldAlpha;var m=d.baseTexture.scaleMode===b.SCALE_MODES.LINEAR;f.smoothProperty&&f.context[f.smoothProperty]!==m&&(f.context[f.smoothProperty]=m);d.trim?(k=d.trim.width/2+d.trim.x-a.anchor.x*d.orig.width,l=d.trim.height/2+d.trim.y-a.anchor.y*d.orig.height):(k=(.5-a.anchor.x)*d.orig.width,l=(.5-a.anchor.y)*d.orig.height);d.rotate&&(j.copy(h),j=h,c.GroupD8.matrixAppendRotationInv(j,d.rotate,k,l),k=0,l=0);k-=g/2;l-=i/2;f.roundPixels?(f.context.setTransform(j.a,j.b,j.c,j.d,j.tx*f.resolution|0,j.ty*f.resolution|0),k=k|0,l=l|0):f.context.setTransform(j.a,j.b,j.c,j.d,j.tx*f.resolution,j.ty*f.resolution);m=d.baseTexture.resolution;a.tint!==16777215?((a.cachedTint!==a.tint||a.tintedTexture.tintId!==a._texture._updateID)&&(a.cachedTint=a.tint,a.tintedTexture=e["default"].getTintedTexture(a,a.tint)),f.context.drawImage(a.tintedTexture,0,0,g*m,i*m,k*f.resolution,l*f.resolution,g*f.resolution,i*f.resolution)):f.context.drawImage(d.baseTexture.source,d._frame.x*m,d._frame.y*m,g*m,i*m,k*f.resolution,l*f.resolution,g*f.resolution,i*f.resolution)}};a.prototype.destroy=function(){this.renderer=null};return a}();Nd["default"]=f;a["default"].registerPlugin("sprite",f)}var Qd=!1,Rd=function(){Qd||(Qd=!0,Pd());return Od.exports},Sd={},Td={exports:Sd};function Ud(){__p&&__p();Sd.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.renderer=c,this.renderer.on("context",this.onContextChange,this)}b.prototype.onContextChange=function(){};b.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null};return b}();Sd["default"]=b}var Vd=!1,Wd=function(){Vd||(Vd=!0,Ud());return Td.exports},Xd={},Yd={exports:Xd};function Zd(){__p&&__p();Xd.__esModule=!0;var a=Wd();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){__p&&__p();e(b,a);function b(){c(this,b);return d(this,a.apply(this,arguments))}b.prototype.start=function(){};b.prototype.stop=function(){this.flush()};b.prototype.flush=function(){};b.prototype.render=function(a){};return b}(b["default"]);Xd["default"]=a}var $d=!1,ae=function(){$d||($d=!0,Zd());return Yd.exports},be={},ce={exports:be};function de(){__p&&__p();be.__esModule=!0;be["default"]=c;c=h();a=a(c);function a(a){return a&&a.__esModule?a:{"default":a}}var b=a["default"].shader.defaultValue;function c(a,b,c){a=d(a,c);b=d(b,c);return Object.assign(a,b)}function d(a){__p&&__p();var c=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),d={},e;a=a.replace(/\s+/g," ").split(/\s*;\s*/);for(var f=0;f<a.length;f++){var g=a[f].trim();if(g.indexOf("uniform")>-1){g=g.split(" ");var h=g[1];g=g[2];var i=1;g.indexOf("[")>-1&&(e=g.split(/\[|]/),g=e[0],i*=Number(e[1]));g.match(c)||(d[g]={value:b(h,i),name:g,type:h})}}return d}}var ee=!1,fe=function(){ee||(ee=!0,de());return ce.exports},ge={},he={exports:ge};function ie(){__p&&__p();ge.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=fe(),c=g(b),d=S(),e=K();b=Q();var f=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var i={};g=function(){__p&&__p();function b(a,g,j){__p&&__p();h(this,b);this.vertexSrc=a||b.defaultVertexSrc;this.fragmentSrc=g||b.defaultFragmentSrc;this._blendMode=e.BLEND_MODES.NORMAL;this.uniformData=j||c["default"](this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var k in this.uniformData)this.uniforms[k]=this.uniformData[k].value,this.uniformData[k].type&&(this.uniformData[k].type=this.uniformData[k].type.toLowerCase());this.glShaders={};i[this.vertexSrc+this.fragmentSrc]||(i[this.vertexSrc+this.fragmentSrc]=d.uid());this.glShaderKey=i[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=f["default"].FILTER_RESOLUTION;this.enabled=!0;this.autoFit=!0}b.prototype.apply=function(a,b,c,d,e){a.applyFilter(this,b,c,d)};a(b,[{key:"blendMode",get:function(){return this._blendMode},set:function(a){this._blendMode=a}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]);return b}();ge["default"]=g}var je=!1,ke=function(){je||(je=!0,ie());return he.exports},le={},me={exports:le};function ne(){__p&&__p();le.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=na(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=new c["default"]();d=function(){__p&&__p();function b(a,d){e(this,b),this._texture=a,this.mapCoord=new c["default"](),this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof d==="undefined"?.5:d}b.prototype.multiplyUvs=function(a,b){b===void 0&&(b=a);var c=this.mapCoord;for(var d=0;d<a.length;d+=2){var e=a[d],f=a[d+1];b[d]=e*c.a+f*c.c+c.tx;b[d+1]=e*c.b+f*c.d+c.ty}return b};b.prototype.update=function(a){__p&&__p();var b=this._texture;if(!b||!b.valid)return!1;if(!a&&this._lastTextureID===b._updateID)return!1;this._lastTextureID=b._updateID;a=b._uvs;this.mapCoord.set(a.x1-a.x0,a.y1-a.y0,a.x3-a.x0,a.y3-a.y0,a.x0,a.y0);a=b.orig;var c=b.trim;c&&(f.set(a.width/c.width,0,0,a.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(f));a=b.baseTexture;c=this.uClampFrame;var d=this.clampMargin/a.resolution,e=this.clampOffset;c[0]=(b._frame.x+d+e)/a.width;c[1]=(b._frame.y+d+e)/a.height;c[2]=(b._frame.x+b._frame.width-d+e)/a.width;c[3]=(b._frame.y+b._frame.height-d+e)/a.height;this.uClampOffset[0]=e/a.realWidth;this.uClampOffset[1]=e/a.realHeight;return!0};a(b,[{key:"texture",get:function(){return this._texture},set:function(a){this._texture=a,this._lastTextureID=-1}}]);return b}();le["default"]=d}var oe=!1,pe=function(){oe||(oe=!0,ne());return me.exports},qe={},re={exports:qe};function se(){__p&&__p();qe.__esModule=!0;var a=ke();a=e(a);var b=P(),c=pe(),d=e(c);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function h(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e=function(a){__p&&__p();h(c,a);function c(d){f(this,c);var e=new b.Matrix(),h=g(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));d.renderable=!1;h.maskSprite=d;h.maskMatrix=e;return h}c.prototype.apply=function(a,b,c){__p&&__p();var e=this.maskSprite,f=this.maskSprite.texture;if(!f.valid)return;f.transform||(f.transform=new d["default"](f,0));f.transform.update();this.uniforms.mask=f;this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,e).prepend(f.transform.mapCoord);this.uniforms.alpha=e.worldAlpha;this.uniforms.maskClamp=f.transform.uClampFrame;a.applyFilter(this,b,c)};return c}(a["default"]);qe["default"]=e}var te=!1,ue=function(){te||(te=!0,se());return re.exports},ve={},we={exports:ve};function xe(){__p&&__p();ve.__esModule=!0;var a=Wd();a=d(a);var b=ue(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(a){__p&&__p();g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.scissor=!1;c.scissorData=null;c.scissorRenderTarget=null;c.enableScissor=!0;c.alphaMaskPool=[];c.alphaMaskIndex=0;return c}b.prototype.pushMask=function(a,b){if(b.texture)this.pushSpriteMask(a,b);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&b.isFastRect()){var c=b.worldTransform;c=Math.atan2(c.b,c.a);c=Math.round(c*(180/Math.PI));c%90?this.pushStencilMask(b):this.pushScissorMask(a,b)}else this.pushStencilMask(b)};b.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,b):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,b):this.popStencilMask(a,b)};b.prototype.pushSpriteMask=function(a,b){var d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new c["default"](b)]);d[0].resolution=this.renderer.resolution;d[0].maskSprite=b;a.filterArea=b.getBounds(!0);this.renderer.filterManager.pushFilter(a,d);this.alphaMaskIndex++};b.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--};b.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(a)};b.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()};b.prototype.pushScissorMask=function(a,b){__p&&__p();b.renderable=!0;a=this.renderer._activeRenderTarget;var c=b.getBounds();c.fit(a.size);b.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var d=this.renderer.resolution;this.renderer.gl.scissor(c.x*d,(a.root?a.size.height-c.y-c.height:c.y)*d,c.width*d,c.height*d);this.scissorRenderTarget=a;this.scissorData=b;this.scissor=!0};b.prototype.popScissorMask=function(){this.scissorRenderTarget=null;this.scissorData=null;this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)};return b}(a["default"]);ve["default"]=d}var ye=!1,ze=function(){ye||(ye=!0,xe());return we.exports},Ae={},Be={exports:Ae};function Ce(){__p&&__p();Ae.__esModule=!0;var a=Wd(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){__p&&__p();f(c,a);function c(b){d(this,c);b=e(this,a.call(this,b));b.stencilMaskStack=null;return b}c.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;a.length===0?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)};c.prototype.pushStencil=function(a){__p&&__p();this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var b=this.renderer.gl,c=this.stencilMaskStack.length;c===0&&b.enable(b.STENCIL_TEST);this.stencilMaskStack.push(a);b.colorMask(!1,!1,!1,!1);b.stencilFunc(b.EQUAL,c,this._getBitwiseMask());b.stencilOp(b.KEEP,b.KEEP,b.INCR);this.renderer.plugins.graphics.render(a);this._useCurrent()};c.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,b=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(a.disable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),a.clearStencil(0)):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(b),this._useCurrent())};c.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask());a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};c.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1};c.prototype.destroy=function(){b["default"].prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null};return c}(b["default"]);Ae["default"]=c}var De=!1,Ee=function(){De||(De=!0,Ce());return Be.exports},Fe={},Ge={exports:Fe};function He(){__p&&__p();Fe.__esModule=!0;var a=P(),b=K(),c=Q(),d=f(c),e=h();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){__p&&__p();function c(f,h,i,j,k,l){g(this,c),this.gl=f,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=k||d["default"].RESOLUTION,this.projectionMatrix=new a.Matrix(),this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle(),this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=j!==void 0?j:d["default"].SCALE_MODE,this.root=l,!this.root?(this.frameBuffer=e.GLFramebuffer.createRGBA(f,100,100),this.scaleMode===b.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture):(this.frameBuffer=new e.GLFramebuffer(f,100,100),this.frameBuffer.framebuffer=null),this.setFrame(),this.resize(h,i)}c.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};c.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};c.prototype.setFrame=function(a,b){this.destinationFrame=a||this.destinationFrame||this.defaultFrame,this.sourceFrame=b||this.sourceFrame||this.destinationFrame};c.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};c.prototype.calculateProjection=function(a,b){var c=this.projectionMatrix;b=b||a;c.identity();!this.root?(c.a=1/a.width*2,c.d=1/a.height*2,c.tx=-1-b.x*c.a,c.ty=-1-b.y*c.d):(c.a=1/a.width*2,c.d=-1/a.height*2,c.tx=-1-b.x*c.a,c.ty=1-b.y*c.d)};c.prototype.resize=function(a,b){__p&&__p();a=a|0;b=b|0;if(this.size.width===a&&this.size.height===b)return;this.size.width=a;this.size.height=b;this.defaultFrame.width=a;this.defaultFrame.height=b;this.frameBuffer.resize(a*this.resolution,b*this.resolution);a=this.frame||this.size;this.calculateProjection(a)};c.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null};return c}();Fe["default"]=f}var Ie=!1,Je=function(){Ie||(Ie=!0,He());return Ge.exports},Ke={},Le={exports:Ke};function Me(){Ke.__esModule=!0;Ke["default"]=a;function a(a){a=a*6;var b=new Uint16Array(a);for(var c=0,d=0;c<a;c+=6,d+=4)b[c+0]=d+0,b[c+1]=d+1,b[c+2]=d+2,b[c+3]=d+0,b[c+4]=d+2,b[c+5]=d+3;return b}}var Ne=!1,Oe=function(){Ne||(Ne=!0,Me());return Le.exports},Pe={},Qe={exports:Pe};function Re(){__p&&__p();Pe.__esModule=!0;var a=h(),b=d(a);a=Oe();var c=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function a(d,f){__p&&__p();e(this,a);this.gl=d;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(8*2);for(var g=0;g<4;g++)this.interleaved[g*4]=this.vertices[g*2],this.interleaved[g*4+1]=this.vertices[g*2+1],this.interleaved[g*4+2]=this.uvs[g*2],this.interleaved[g*4+3]=this.uvs[g*2+1];this.indices=c["default"](1);this.vertexBuffer=b["default"].GLBuffer.createVertexBuffer(d,this.interleaved,d.STATIC_DRAW);this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(d,this.indices,d.STATIC_DRAW);this.vao=new b["default"].VertexArrayObject(d,f)}a.prototype.initVao=function(a){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,a.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,a.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)};a.prototype.map=function(a,b){__p&&__p();var c=0,d=0;this.uvs[0]=c;this.uvs[1]=d;this.uvs[2]=c+b.width/a.width;this.uvs[3]=d;this.uvs[4]=c+b.width/a.width;this.uvs[5]=d+b.height/a.height;this.uvs[6]=c;this.uvs[7]=d+b.height/a.height;c=b.x;d=b.y;this.vertices[0]=c;this.vertices[1]=d;this.vertices[2]=c+b.width;this.vertices[3]=d;this.vertices[4]=c+b.width;this.vertices[5]=d+b.height;this.vertices[6]=c;this.vertices[7]=d+b.height;return this};a.prototype.upload=function(){for(var a=0;a<4;a++)this.interleaved[a*4]=this.vertices[a*2],this.interleaved[a*4+1]=this.vertices[a*2+1],this.interleaved[a*4+2]=this.uvs[a*2],this.interleaved[a*4+3]=this.uvs[a*2+1];this.vertexBuffer.upload(this.interleaved);return this};a.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer);a.deleteBuffer(this.indexBuffer)};return a}();Pe["default"]=d}var Se=!1,Te=function(){Se||(Se=!0,Re());return Qe.exports},Ue={},Ve={exports:Ue};function We(){__p&&__p();Ue.__esModule=!0;var a=h(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){__p&&__p();if(a instanceof Array){if(a[0].substring(0,9)!=="precision"){var c=a.slice(0);c.unshift("precision "+b+" float;");return c}}else if(a.trim().substring(0,9)!=="precision")return"precision "+b+" float;\n"+a;return a}d=function(a){g(b,a);function b(d,g,h,j,k){e(this,b);return f(this,a.call(this,d,i(g,k||c["default"].PRECISION_VERTEX),i(h,k||c["default"].PRECISION_FRAGMENT),void 0,j))}return b}(a.GLShader);Ue["default"]=d}var Xe=!1,Ye=function(){Xe||(Xe=!0,We());return Ve.exports},Ze={},$e={exports:Ze};function af(){__p&&__p();Ze.__esModule=!0;Ze.calculateScreenSpaceMatrix=b;Ze.calculateNormalizedScreenSpaceMatrix=c;Ze.calculateSpriteMatrix=d;var a=P();function b(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);a.scale(c.width,c.height);return a}function c(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);var d=c.width/b.width;c=c.height/b.height;a.scale(d,c);return a}function d(b,c,d,e){var f=e._texture.orig;b=b.set(d.width,0,0,d.height,c.x,c.y);d=e.worldTransform.copy(a.Matrix.TEMP_MATRIX);d.invert();b.prepend(d);b.scale(1/f.width,1/f.height);b.translate(e.anchor.x,e.anchor.y);return b}}var bf=!1,cf=function(){bf||(bf=!0,af());return $e.exports},df={},ef={exports:df};function ff(){__p&&__p();df.__esModule=!0;var a=Wd();a=j(a);var b=Je(),c=j(b);b=Te();var d=j(b),e=P();b=Ye();var f=j(b);b=cf();var g=i(b);i=m();var h=j(i);function i(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var o=function(){function a(){n(this,a),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new e.Rectangle(),this.destinationFrame=new e.Rectangle(),this.filters=[]}a.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null};return a}(),p="screen";b=function(a){__p&&__p();l(b,a);function b(c){__p&&__p();n(this,b);var e=k(this,a.call(this,c));e.gl=e.renderer.gl;e.quad=new d["default"](e.gl,c.state.attribState);e.shaderCache={};e.pool={};e.filterData=null;e.managedFilters=[];e.renderer.on("prerender",e.onPrerender,e);e._screenWidth=c.view.width;e._screenHeight=c.view.height;return e}b.prototype.pushFilter=function(a,b){__p&&__p();var c=this.renderer,d=this.filterData;if(!d){d=this.renderer._activeRenderTarget.filterStack;var e=new o();e.sourceFrame=e.destinationFrame=this.renderer._activeRenderTarget.size;e.renderTarget=c._activeRenderTarget;this.renderer._activeRenderTarget.filterData=d={index:0,stack:[e]};this.filterData=d}e=d.stack[++d.index];var f=d.stack[0].destinationFrame;e||(e=d.stack[d.index]=new o());var g=a.filterArea&&a.filterArea.x===0&&a.filterArea.y===0&&a.filterArea.width===c.screen.width&&a.filterArea.height===c.screen.height,h=b[0].resolution,i=b[0].padding|0,j=g?c.screen:a.filterArea||a.getBounds(!0),k=e.sourceFrame,l=e.destinationFrame;k.x=(j.x*h|0)/h;k.y=(j.y*h|0)/h;k.width=(j.width*h|0)/h;k.height=(j.height*h|0)/h;g||(d.stack[0].renderTarget.transform||b[0].autoFit&&k.fit(f),k.pad(i));l.width=k.width;l.height=k.height;j=this.getPotRenderTarget(c.gl,k.width,k.height,h);e.target=a;e.filters=b;e.resolution=h;e.renderTarget=j;j.setFrame(l,k);c.bindRenderTarget(j);j.clear()};b.prototype.popFilter=function(){__p&&__p();var a=this.filterData,b=a.stack[a.index-1],c=a.stack[a.index];this.quad.map(c.renderTarget.size,c.sourceFrame).upload();var d=c.filters;if(d.length===1)d[0].apply(this,c.renderTarget,b.renderTarget,!1,c),this.freePotRenderTarget(c.renderTarget);else{var e=c.renderTarget,f=this.getPotRenderTarget(this.renderer.gl,c.sourceFrame.width,c.sourceFrame.height,c.resolution);f.setFrame(c.destinationFrame,c.sourceFrame);f.clear();var g=0;for(g=0;g<d.length-1;++g){d[g].apply(this,e,f,!0,c);var h=e;e=f;f=h}d[g].apply(this,e,b.renderTarget,!1,c);this.freePotRenderTarget(e);this.freePotRenderTarget(f)}c.clear();a.index--;a.index===0&&(this.filterData=null)};b.prototype.applyFilter=function(a,b,c,d){__p&&__p();var e=this.renderer,g=e.gl,h=a.glShaders[e.CONTEXT_UID];h||(a.glShaderKey?(h=this.shaderCache[a.glShaderKey],h||(h=new f["default"](this.gl,a.vertexSrc,a.fragmentSrc),a.glShaders[e.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=h,this.managedFilters.push(a))):(h=a.glShaders[e.CONTEXT_UID]=new f["default"](this.gl,a.vertexSrc,a.fragmentSrc),this.managedFilters.push(a)),e.bindVao(null),this.quad.initVao(h));e.bindVao(this.quad.vao);e.bindRenderTarget(c);d&&(g.disable(g.SCISSOR_TEST),e.clear(),g.enable(g.SCISSOR_TEST));c===e.maskManager.scissorRenderTarget&&e.maskManager.pushScissorMask(null,e.maskManager.scissorData);e.bindShader(h);d=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=d;this.syncUniforms(h,a);e.state.setBlendMode(a.blendMode);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,b.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);g.bindTexture(g.TEXTURE_2D,d._glTextures[this.renderer.CONTEXT_UID].texture)};b.prototype.syncUniforms=function(a,b){__p&&__p();var c=b.uniformData;b=b.uniforms;var d=1,e=void 0;if(a.uniforms.filterArea){e=this.filterData.stack[this.filterData.index];var f=a.uniforms.filterArea;f[0]=e.renderTarget.size.width;f[1]=e.renderTarget.size.height;f[2]=e.sourceFrame.x;f[3]=e.sourceFrame.y;a.uniforms.filterArea=f}if(a.uniforms.filterClamp){e=e||this.filterData.stack[this.filterData.index];f=a.uniforms.filterClamp;f[0]=0;f[1]=0;f[2]=(e.sourceFrame.width-1)/e.renderTarget.size.width;f[3]=(e.sourceFrame.height-1)/e.renderTarget.size.height;a.uniforms.filterClamp=f}for(var g in c){e=c[g].type;if(e==="sampler2d"&&b[g]!==0){if(b[g].baseTexture)a.uniforms[g]=this.renderer.bindTexture(b[g].baseTexture,d);else{a.uniforms[g]=d;f=this.renderer.gl;this.renderer.boundTextures[d]=this.renderer.emptyTextures[d];f.activeTexture(f.TEXTURE0+d);b[g].texture.bind()}d++}else if(e==="mat3")b[g].a!==void 0?a.uniforms[g]=b[g].toArray(!0):a.uniforms[g]=b[g];else if(e==="vec2")if(b[g].x!==void 0){f=a.uniforms[g]||new Float32Array(2);f[0]=b[g].x;f[1]=b[g].y;a.uniforms[g]=f}else a.uniforms[g]=b[g];else e==="float"?a.uniforms.data[g].value!==c[g]&&(a.uniforms[g]=b[g]):a.uniforms[g]=b[g]}};b.prototype.getRenderTarget=function(a,b){a=this.filterData.stack[this.filterData.index];b=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,b||a.resolution);b.setFrame(a.destinationFrame,a.sourceFrame);return b};b.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};b.prototype.calculateScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size)};b.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateNormalizedScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size,b.destinationFrame)};b.prototype.calculateSpriteMatrix=function(a,b){var c=this.filterData.stack[this.filterData.index];return g.calculateSpriteMatrix(a,c.sourceFrame,c.renderTarget.size,b)};b.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,b=this.renderer,c=this.managedFilters;b.off("prerender",this.onPrerender,this);for(var d=0;d<c.length;d++)a||c[d].glShaders[b.CONTEXT_UID].destroy(),delete c[d].glShaders[b.CONTEXT_UID];this.shaderCache={};!a?this.emptyPool():this.pool={}};b.prototype.getPotRenderTarget=function(a,b,d,e){__p&&__p();var f=p;b*=e;d*=e;(b!==this._screenWidth||d!==this._screenHeight)&&(b=h["default"].nextPow2(b),d=h["default"].nextPow2(d),f=(b&65535)<<16|d&65535);this.pool[f]||(this.pool[f]=[]);var g=this.pool[f].pop();if(!g){var i=this.renderer.boundTextures[0];a.activeTexture(a.TEXTURE0);g=new c["default"](a,b,d,null,1);a.bindTexture(a.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)}g.resolution=e;g.defaultFrame.width=g.size.width=b/e;g.defaultFrame.height=g.size.height=d/e;g.filterPoolKey=f;return g};b.prototype.emptyPool=function(){for(var a in this.pool){var b=this.pool[a];if(b)for(var c=0;c<b.length;c++)b[c].destroy(!0)}this.pool={}};b.prototype.freePotRenderTarget=function(a){this.pool[a.filterPoolKey].push(a)};b.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width;this._screenHeight=this.renderer.view.height;var a=this.pool[p];if(a)for(var b=0;b<a.length;b++)a[b].destroy(!0);this.pool[p]=[]}};return b}(a["default"]);df["default"]=b}var gf=!1,hf=function(){gf||(gf=!0,ff());return ef.exports},jf={},kf={exports:jf};function lf(){__p&&__p();jf.__esModule=!0;var a=h(),b=K(),c=Je(),d=f(c),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){__p&&__p();function c(a){g(this,c),this.renderer=a,this.gl=a.gl,this._managedTextures=[]}c.prototype.bindTexture=function(){};c.prototype.getTexture=function(){};c.prototype.updateTexture=function(c,e){__p&&__p();var f=this.gl,g=!!c._glRenderTargets;if(!c.hasLoaded)return null;var h=this.renderer.boundTextures;if(e===void 0){e=0;for(var i=0;i<h.length;++i)if(h[i]===c){e=i;break}}h[e]=c;f.activeTexture(f.TEXTURE0+e);i=c._glTextures[this.renderer.CONTEXT_UID];if(!i){if(g){h=new d["default"](this.gl,c.width,c.height,c.scaleMode,c.resolution);h.resize(c.width,c.height);c._glRenderTargets[this.renderer.CONTEXT_UID]=h;i=h.texture}else i=new a.GLTexture(this.gl,null,null,null,null),i.bind(e),i.premultiplyAlpha=!0,i.upload(c.source);c._glTextures[this.renderer.CONTEXT_UID]=i;c.on("update",this.updateTexture,this);c.on("dispose",this.destroyTexture,this);this._managedTextures.push(c);c.isPowerOfTwo?(c.mipmap&&i.enableMipmap(),c.wrapMode===b.WRAP_MODES.CLAMP?i.enableWrapClamp():c.wrapMode===b.WRAP_MODES.REPEAT?i.enableWrapRepeat():i.enableWrapMirrorRepeat()):i.enableWrapClamp();c.scaleMode===b.SCALE_MODES.NEAREST?i.enableNearestScaling():i.enableLinearScaling()}else g?c._glRenderTargets[this.renderer.CONTEXT_UID].resize(c.width,c.height):i.upload(c.source);return i};c.prototype.destroyTexture=function(a,b){__p&&__p();a=a.baseTexture||a;if(!a.hasLoaded)return;var c=this.renderer.CONTEXT_UID,d=a._glTextures,f=a._glRenderTargets;if(d[c]){this.renderer.unbindTexture(a);d[c].destroy();a.off("update",this.updateTexture,this);a.off("dispose",this.destroyTexture,this);delete d[c];if(!b){d=this._managedTextures.indexOf(a);d!==-1&&e.removeItems(this._managedTextures,d,1)}}f&&f[c]&&(f[c].destroy(),delete f[c])};c.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];b._glTextures[this.renderer.CONTEXT_UID]&&delete b._glTextures[this.renderer.CONTEXT_UID]}};c.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];this.destroyTexture(b,!0);b.off("update",this.updateTexture,this);b.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return c}();jf["default"]=f}var mf=!1,nf=function(){mf||(mf=!0,lf());return kf.exports},of={},pf={exports:of};function qf(){__p&&__p();of.__esModule=!0;var a=K(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function b(a){e(this,b),this.renderer=a,this.count=0,this.checkCount=0,this.maxIdle=c["default"].GC_MAX_IDLE,this.checkCountMax=c["default"].GC_MAX_CHECK_COUNT,this.mode=c["default"].GC_MODE}b.prototype.update=function(){this.count++;if(this.mode===a.GC_MODES.MANUAL)return;this.checkCount++;this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())};b.prototype.run=function(){__p&&__p();var a=this.renderer.textureManager,b=a._managedTextures,c=!1;for(var d=0;d<b.length;d++){var e=b[d];!e._glRenderTargets&&this.count-e.touched>this.maxIdle&&(a.destroyTexture(e,!0),b[d]=null,c=!0)}if(c){e=0;for(var d=0;d<b.length;d++)b[d]!==null&&(b[e++]=b[d]);b.length=e}};b.prototype.unload=function(a){var b=this.renderer.textureManager;a._texture&&a._texture._glRenderTargets&&b.destroyTexture(a._texture,!0);for(var b=a.children.length-1;b>=0;b--)this.unload(a.children[b])};return b}();of["default"]=d}var rf=!1,sf=function(){rf||(rf=!0,qf());return pf.exports},tf={},uf={exports:tf};function vf(){__p&&__p();tf.__esModule=!0;tf["default"]=b;var a=K();function b(b){__p&&__p();var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c[a.BLEND_MODES.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.ADD]=[b.ONE,b.DST_ALPHA];c[a.BLEND_MODES.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR];c[a.BLEND_MODES.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR_DODGE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR_BURN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.EXCLUSION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.LUMINOSITY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.NORMAL_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.ADD_NPM]=[b.SRC_ALPHA,b.DST_ALPHA,b.ONE,b.DST_ALPHA];c[a.BLEND_MODES.SCREEN_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_COLOR,b.ONE,b.ONE_MINUS_SRC_COLOR];return c}}var wf=!1,xf=function(){wf||(wf=!0,vf());return uf.exports},yf={},zf={exports:yf};function Af(){__p&&__p();yf.__esModule=!0;var a=xf(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=0,f=1,g=2,h=3,i=4;c=function(){__p&&__p();function a(c){d(this,a),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=c,this.maxAttribs=c.getParameter(c.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=b["default"](c),this.nativeVaoExtension=c.getExtension("OES_vertex_array_object")||c.getExtension("MOZ_OES_vertex_array_object")||c.getExtension("WEBKIT_OES_vertex_array_object")}a.prototype.push=function(){var a=this.stack[this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var b=0;b<this.activeState.length;b++)a[b]=this.activeState[b]};a.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)};a.prototype.setState=function(a){this.setBlend(a[e]),this.setDepthTest(a[f]),this.setFrontFace(a[g]),this.setCullFace(a[h]),this.setBlendMode(a[i])};a.prototype.setBlend=function(a){a=a?1:0;if(this.activeState[e]===a)return;this.activeState[e]=a;this.gl[a?"enable":"disable"](this.gl.BLEND)};a.prototype.setBlendMode=function(a){if(a===this.activeState[i])return;this.activeState[i]=a;a=this.blendModes[a];a.length===2?this.gl.blendFunc(a[0],a[1]):this.gl.blendFuncSeparate(a[0],a[1],a[2],a[3])};a.prototype.setDepthTest=function(a){a=a?1:0;if(this.activeState[f]===a)return;this.activeState[f]=a;this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)};a.prototype.setCullFace=function(a){a=a?1:0;if(this.activeState[h]===a)return;this.activeState[h]=a;this.gl[a?"enable":"disable"](this.gl.CULL_FACE)};a.prototype.setFrontFace=function(a){a=a?1:0;if(this.activeState[g]===a)return;this.activeState[g]=a;this.gl.frontFace(this.gl[a?"CW":"CCW"])};a.prototype.resetAttributes=function(){for(var a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(var a=0;a<this.attribState.attribState.length;a++)this.attribState.attribState[a]=0;for(var a=1;a<this.maxAttribs;a++)this.gl.disableVertexAttribArray(a)};a.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var a=0;a<this.activeState.length;++a)this.activeState[a]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return a}();yf["default"]=c}var Bf=!1,Cf=function(){Bf||(Bf=!0,Af());return zf.exports},Df={},Ef={exports:Df};function Ff(){__p&&__p();Df.__esModule=!0;Df["default"]=b;var a=K();function b(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c[a.DRAW_MODES.POINTS]=b.POINTS;c[a.DRAW_MODES.LINES]=b.LINES;c[a.DRAW_MODES.LINE_LOOP]=b.LINE_LOOP;c[a.DRAW_MODES.LINE_STRIP]=b.LINE_STRIP;c[a.DRAW_MODES.TRIANGLES]=b.TRIANGLES;c[a.DRAW_MODES.TRIANGLE_STRIP]=b.TRIANGLE_STRIP;c[a.DRAW_MODES.TRIANGLE_FAN]=b.TRIANGLE_FAN;return c}}var Gf=!1,Hf=function(){Gf||(Gf=!0,Ff());return Ef.exports},If={},Jf={exports:If};function Kf(){If.__esModule=!0;If["default"]=a;function a(a){a=a.getContextAttributes();a.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}}var Lf=!1,Mf=function(){Lf||(Lf=!0,Kf());return Jf.exports},Nf={},Of={exports:Nf};function Pf(){__p&&__p();Nf.__esModule=!0;var a=id(),b=r(a);a=ze();var c=r(a);a=Ee();var d=r(a);a=hf();var e=r(a);a=Je();var f=r(a);a=ae();var g=r(a);a=nf();var i=r(a);a=mc();var j=r(a);a=sf();var k=r(a);a=Cf();var l=r(a);a=Hf();var m=r(a);a=Mf();var n=r(a);a=S();var o=h(),p=r(o),q=K();function r(a){return a&&a.__esModule?a:{"default":a}}function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function t(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function u(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var v=0;r=function(a){__p&&__p();u(h,a);function h(b,e,f){__p&&__p();s(this,h);b=t(this,a.call(this,"WebGL",b,e,f));b.legacy=b.options.legacy;b.legacy&&(p["default"].VertexArrayObject.FORCE_NATIVE=!0);b.type=q.RENDERER_TYPE.WEBGL;b.handleContextLost=b.handleContextLost.bind(b);b.handleContextRestored=b.handleContextRestored.bind(b);b.view.addEventListener("webglcontextlost",b.handleContextLost,!1);b.view.addEventListener("webglcontextrestored",b.handleContextRestored,!1);b._contextOptions={alpha:b.transparent,antialias:b.options.antialias,premultipliedAlpha:b.transparent&&b.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:b.options.preserveDrawingBuffer,powerPreference:b.options.powerPreference};b._backgroundColorRgba[3]=b.transparent?0:1;b.maskManager=new c["default"](b);b.stencilManager=new d["default"](b);b.emptyRenderer=new g["default"](b);b.currentRenderer=b.emptyRenderer;b.textureManager=null;b.filterManager=null;b.initPlugins();b.options.context&&n["default"](b.options.context);b.gl=b.options.context||p["default"].createContext(b.view,b._contextOptions);b.CONTEXT_UID=v++;b.state=new l["default"](b.gl);b.renderingToScreen=!0;b.boundTextures=null;b._activeShader=null;b._activeVao=null;b._activeRenderTarget=null;b._initContext();b.drawModes=m["default"](b.gl);b._nextTextureLocation=0;b.setBlendMode(0);return b}h.prototype._initContext=function(){__p&&__p();var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null;this._activeVao=null;this.boundTextures=new Array(b);this.emptyTextures=new Array(b);this.textureManager=new i["default"](this);this.filterManager=new e["default"](this);this.textureGC=new k["default"](this);this.state.resetToDefault();this.rootRenderTarget=new f["default"](a,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var c=new p["default"].GLTexture.fromData(a,null,1,1),d={_glTextures:{}};d._glTextures[this.CONTEXT_UID]={};for(var g=0;g<b;g++){var h=new j["default"]();h._glTextures[this.CONTEXT_UID]=c;this.boundTextures[g]=d;this.emptyTextures[g]=h;this.bindTexture(null,g)}this.emit("context",a);this.resize(this.screen.width,this.screen.height)};h.prototype.render=function(a,b,c,d,e){__p&&__p();this.renderingToScreen=!b;this.emit("prerender");if(!this.gl||this.gl.isContextLost())return;this._nextTextureLocation=0;b||(this._lastObjectRendered=a);if(!e){e=a.parent;a.parent=this._tempDisplayObjectParent;a.updateTransform();a.parent=e}this.bindRenderTexture(b,d);this.currentRenderer.start();(c!==void 0?c:this.clearBeforeRender)&&this._activeRenderTarget.clear();a.renderWebGL(this);this.currentRenderer.flush();this.textureGC.update();this.emit("postrender")};h.prototype.setObjectRenderer=function(a){if(this.currentRenderer===a)return;this.currentRenderer.stop();this.currentRenderer=a;this.currentRenderer.start()};h.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};h.prototype.resize=function(a,c){b["default"].prototype.resize.call(this,a,c),this.rootRenderTarget.resize(a,c),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};h.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};h.prototype.clear=function(a){this._activeRenderTarget.clear(a)};h.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};h.prototype.clearRenderTexture=function(a,b){a=a.baseTexture;a=a._glRenderTargets[this.CONTEXT_UID];a&&a.clear(b);return this};h.prototype.bindRenderTexture=function(a,b){__p&&__p();var c=void 0;if(a){var d=a.baseTexture;d._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(d,0);this.unbindTexture(d);c=d._glRenderTargets[this.CONTEXT_UID];c.setFrame(a.frame)}else c=this.rootRenderTarget;c.transform=b;this.bindRenderTarget(c);return this};h.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};h.prototype.bindShader=function(a,b){this._activeShader!==a&&(this._activeShader=a,a.bind(),b!==!1&&(a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)));return this};h.prototype.bindTexture=function(a,b,c){__p&&__p();a=a||this.emptyTextures[b];a=a.baseTexture||a;a.touched=this.textureGC.count;if(!c){for(var c=0;c<this.boundTextures.length;c++)if(this.boundTextures[c]===a)return c;b===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,b=this.boundTextures.length-this._nextTextureLocation-1)}else b=b||0;c=this.gl;var d=a._glTextures[this.CONTEXT_UID];!d?this.textureManager.updateTexture(a,b):(this.boundTextures[b]=a,c.activeTexture(c.TEXTURE0+b),c.bindTexture(c.TEXTURE_2D,d.texture));return b};h.prototype.unbindTexture=function(a){var b=this.gl;a=a.baseTexture||a;for(var c=0;c<this.boundTextures.length;c++)this.boundTextures[c]===a&&(this.boundTextures[c]=this.emptyTextures[c],b.activeTexture(b.TEXTURE0+c),b.bindTexture(b.TEXTURE_2D,this.emptyTextures[c]._glTextures[this.CONTEXT_UID].texture));return this};h.prototype.createVao=function(){return new p["default"].VertexArrayObject(this.gl,this.state.attribState)};h.prototype.bindVao=function(a){if(this._activeVao===a)return this;a?a.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=a;return this};h.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this.bindVao(null);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.emptyTextures[a];this.rootRenderTarget.activate();this.state.resetToDefault();return this};h.prototype.handleContextLost=function(a){a.preventDefault()};h.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()};h.prototype.destroy=function(b){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),a.prototype.destroy.call(this,b),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null};return h}(b["default"]);Nf["default"]=r;a.pluginTarget.mixin(r)}var Qf=!1,Rf=function(){Qf||(Qf=!0,Pf());return Of.exports},Sf={},Tf={exports:Sf};function Uf(){__p&&__p();Sf.__esModule=!0;Sf["default"]=d;d=Ye();var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function d(b,d){__p&&__p();var f="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",g=c;g=g.replace(/%count%/gi,d);g=g.replace(/%forloop%/gi,e(d));b=new a["default"](b,f,g);f=[];for(var g=0;g<d;g++)f[g]=g;b.bind();b.uniforms.uSamplers=f;return b}function e(a){var b="";b+="\n";b+="\n";for(var c=0;c<a;c++)c>0&&(b+="\nelse "),c<a-1&&(b+="if(textureId == "+c+".0)"),b+="\n{",b+="\n\tcolor = texture2D(uSamplers["+c+"], vTextureCoord);",b+="\n}";b+="\n";b+="\n";return b}}var Vf=!1,Wf=function(){Vf||(Vf=!0,Uf());return Tf.exports},Xf={},Yf={exports:Xf};function Zf(){__p&&__p();Xf.__esModule=!0;Xf["default"]=d;d=h();var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function d(b,d){__p&&__p();var f=!d;if(b===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(f){var g=document.createElement("canvas");g.width=1;g.height=1;d=a["default"].createContext(g)}g=d.createShader(d.FRAGMENT_SHADER);while(!0){var h=c.replace(/%forloop%/gi,e(b));d.shaderSource(g,h);d.compileShader(g);if(!d.getShaderParameter(g,d.COMPILE_STATUS))b=b/2|0;else break}f&&(d.getExtension("WEBGL_lose_context")&&d.getExtension("WEBGL_lose_context").loseContext());return b}function e(a){var b="";for(var c=0;c<a;++c)c>0&&(b+="\nelse "),c<a-1&&(b+="if(test == "+c+".0){}");return b}}var $f=!1,ag=function(){$f||($f=!0,Zf());return Yf.exports},bg={},cg={exports:bg};function dg(){__p&&__p();bg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.vertices=new ArrayBuffer(c),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}b.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null};return b}();bg["default"]=b}var eg=!1,fg=function(){eg||(eg=!0,dg());return cg.exports},gg={},hg={exports:gg};function ig(){__p&&__p();gg.__esModule=!0;var a=ae();a=n(a);var b=Rf();b=n(b);var c=Oe(),d=n(c);c=Wf();var e=n(c);c=ag();var f=n(c);c=fg();var g=n(c);c=Q();var i=n(c),j=S();c=h();var k=n(c);c=m();var l=n(c);function n(a){return a&&a.__esModule?a:{"default":a}}function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function p(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function q(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var r=0,s=0;n=function(a){__p&&__p();q(b,a);function b(c){__p&&__p();o(this,b);c=p(this,a.call(this,c));c.vertSize=5;c.vertByteSize=c.vertSize*4;c.size=i["default"].SPRITE_BATCH_SIZE;c.buffers=[];for(var e=1;e<=l["default"].nextPow2(c.size);e*=2)c.buffers.push(new g["default"](e*4*c.vertByteSize));c.indices=d["default"](c.size);c.shader=null;c.currentIndex=0;c.groups=[];for(var e=0;e<c.size;e++)c.groups[e]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};c.sprites=[];c.vertexBuffers=[];c.vaos=[];c.vaoMax=2;c.vertexCount=0;c.renderer.on("prerender",c.onPrerender,c);return c}b.prototype.onContextChange=function(){__p&&__p();var a=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),i["default"].SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=f["default"](this.MAX_TEXTURES,a));this.shader=e["default"](a,this.MAX_TEXTURES);this.indexBuffer=k["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.renderer.bindVao(null);var b=this.shader.attributes;for(var c=0;c<this.vaoMax;c++){var d=this.vertexBuffers[c]=k["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),g=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(d,b.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(d,b.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(d,b.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);b.aTextureId&&g.addAttribute(d,b.aTextureId,a.FLOAT,!1,this.vertByteSize,4*4);this.vaos[c]=g}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=new Array(this.MAX_TEXTURES)};b.prototype.onPrerender=function(){this.vertexCount=0};b.prototype.render=function(a){this.currentIndex>=this.size&&this.flush();if(!a._texture._uvs)return;this.sprites[this.currentIndex++]=a};b.prototype.flush=function(){__p&&__p();if(this.currentIndex===0)return;var a=this.renderer.gl,b=this.MAX_TEXTURES,c=l["default"].nextPow2(this.currentIndex);c=l["default"].log2(c);c=this.buffers[c];var d=this.sprites,e=this.groups,f=c.float32View,g=c.uint32View,h=this.boundTextures,m=this.renderer.boundTextures,n=this.renderer.textureGC.count,o=0,p=void 0,q=void 0,t=1,u=0,v=e[0],w=j.premultiplyBlendMode[d[0]._texture.baseTexture.premultipliedAlpha?1:0][d[0].blendMode];v.textureCount=0;v.start=0;v.blend=w;r++;var x=void 0;for(x=0;x<b;++x){var y=m[x];if(y._enabled===r){h[x]=this.renderer.emptyTextures[x];continue}h[x]=y;y._virtalBoundId=x;y._enabled=r}r++;for(x=0;x<this.currentIndex;++x){y=d[x];d[x]=null;p=y._texture.baseTexture;var z=j.premultiplyBlendMode[Number(p.premultipliedAlpha)][y.blendMode];w!==z&&(w=z,q=null,u=b,r++);if(q!==p){q=p;if(p._enabled!==r){u===b&&(r++,v.size=x-v.start,u=0,v=e[t++],v.blend=w,v.textureCount=0,v.start=x);p.touched=n;if(p._virtalBoundId===-1)for(var z=0;z<b;++z){var A=(z+s)%b,B=h[A];if(B._enabled!==r){s++;B._virtalBoundId=-1;p._virtalBoundId=A;h[A]=p;break}}p._enabled=r;v.textureCount++;v.ids[u]=p._virtalBoundId;v.textures[u++]=p}}B=y.vertexData;A=y._texture._uvs.uvsUint32;if(this.renderer.roundPixels){z=this.renderer.resolution;f[o]=(B[0]*z|0)/z;f[o+1]=(B[1]*z|0)/z;f[o+5]=(B[2]*z|0)/z;f[o+6]=(B[3]*z|0)/z;f[o+10]=(B[4]*z|0)/z;f[o+11]=(B[5]*z|0)/z;f[o+15]=(B[6]*z|0)/z;f[o+16]=(B[7]*z|0)/z}else f[o]=B[0],f[o+1]=B[1],f[o+5]=B[2],f[o+6]=B[3],f[o+10]=B[4],f[o+11]=B[5],f[o+15]=B[6],f[o+16]=B[7];g[o+2]=A[0];g[o+7]=A[1];g[o+12]=A[2];g[o+17]=A[3];z=Math.min(y.worldAlpha,1);B=z<1&&p.premultipliedAlpha?j.premultiplyTint(y._tintRGB,z):y._tintRGB+(z*255<<24);g[o+3]=g[o+8]=g[o+13]=g[o+18]=B;f[o+4]=f[o+9]=f[o+14]=f[o+19]=p._virtalBoundId;o+=20}v.size=x-v.start;if(!i["default"].CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;A=this.shader.attributes;y=this.vertexBuffers[this.vertexCount]=k["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW);z=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(y,A.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(y,A.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(y,A.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);A.aTextureId&&z.addAttribute(y,A.aTextureId,a.FLOAT,!1,this.vertByteSize,4*4);this.vaos[this.vertexCount]=z}this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!1);this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!0);for(x=0;x<b;++x)m[x]._virtalBoundId=-1;for(x=0;x<t;++x){B=e[x];w=B.textureCount;for(var h=0;h<w;h++)q=B.textures[h],m[B.ids[h]]!==q&&this.renderer.bindTexture(q,B.ids[h],!0),q._virtalBoundId=-1;this.renderer.state.setBlendMode(B.blend);a.drawElements(a.TRIANGLES,B.size*6,a.UNSIGNED_SHORT,B.start*6*2)}this.currentIndex=0};b.prototype.start=function(){this.renderer.bindShader(this.shader),i["default"].CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())};b.prototype.stop=function(){this.flush()};b.prototype.destroy=function(){__p&&__p();for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]&&this.vertexBuffers[b].destroy(),this.vaos[b]&&this.vaos[b].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);a.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.vertexBuffers=null;this.vaos=null;this.indexBuffer=null;this.indices=null;this.sprites=null;for(var b=0;b<this.buffers.length;++b)this.buffers[b].destroy()};return b}(a["default"]);gg["default"]=n;b["default"].registerPlugin("sprite",n)}var jg=!1,kg=function(){jg||(jg=!0,ig());return hg.exports},lg={},mg={exports:lg};function ng(){__p&&__p();lg.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=K(),c=S();function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:b.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0};b=function(){__p&&__p();function b(a){d(this,b),this.styleID=0,this.reset(),i(this,a,a)}b.prototype.clone=function(){var a={};i(a,this,e);return new b(a)};b.prototype.reset=function(){i(this,e,e)};b.prototype.toFontString=function(){var a=typeof this.fontSize==="number"?this.fontSize+"px":this.fontSize,b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(var c=b.length-1;c>=0;c--){var d=b[c].trim();/([\"\'])[^\'\"]+\1/.test(d)||(d='"'+d+'"');b[c]=d}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+a+" "+b.join(",")};a(b,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(a){a=g(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=g(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(a){h(this._fillGradientStops,a)||(this._fillGradientStops=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(a){this._leading!==a&&(this._leading=a,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=g(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(a){this._trim!==a&&(this._trim=a,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(a){this._whiteSpace!==a&&(this._whiteSpace=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}]);return b}();lg["default"]=b;function f(a){if(typeof a==="number")return c.hex2string(a);else typeof a==="string"&&(a.indexOf("0x")===0&&(a=a.replace("0x","#")));return a}function g(a){if(!Array.isArray(a))return f(a);else{for(var b=0;b<a.length;++b)a[b]=f(a[b]);return a}}function h(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}function i(a,b,c){for(var d in c)Array.isArray(b[d])?a[d]=b[d].slice():a[d]=b[d]}}var og=!1,pg=function(){og||(og=!0,ng());return mg.exports},qg={},rg={exports:qg};function sg(){__p&&__p();qg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){__p&&__p();function b(c,d,e,f,g,h,i,j,k){a(this,b),this.text=c,this.style=d,this.width=e,this.height=f,this.lines=g,this.lineWidths=h,this.lineHeight=i,this.maxLineWidth=j,this.fontProperties=k}b.measureText=function(c,d,e){__p&&__p();var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b._canvas;e=e||d.wordWrap;var f=d.toFontString(),g=b.measureFont(f),h=a.getContext("2d");h.font=f;var i=e?b.wordWrap(c,d,a):c,j=i.split(/(?:\r\n|\r|\n)/),k=new Array(j.length),l=0;for(var m=0;m<j.length;m++){var n=h.measureText(j[m]).width+(j[m].length-1)*d.letterSpacing;k[m]=n;l=Math.max(l,n)}var o=l+d.strokeThickness;d.dropShadow&&(o+=d.dropShadowDistance);var p=d.lineHeight||g.fontSize+d.strokeThickness,q=Math.max(p,g.fontSize+d.strokeThickness)+(j.length-1)*(p+d.leading);d.dropShadow&&(q+=d.dropShadowDistance);return new b(c,d,o,q,j,k,p+d.leading,l,g)};b.wordWrap=function(c,d){__p&&__p();var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b._canvas,e=a.getContext("2d"),f=0,g="",h="",i={},j=d.letterSpacing,k=d.whiteSpace,l=b.collapseSpaces(k),m=b.collapseNewlines(k),n=!l,o=d.wordWrapWidth+j,p=b.tokenize(c);for(var q=0;q<p.length;q++){var r=p[q];if(b.isNewline(r)){if(!m){h+=b.addLine(g);n=!l;g="";f=0;continue}r=" "}if(l){var s=b.isBreakingSpace(r),t=b.isBreakingSpace(g[g.length-1]);if(s&&t)continue}var u=b.getFromCache(r,j,i,e);if(u>o){g!==""&&(h+=b.addLine(g),g="",f=0);if(b.canBreakWords(r,d.breakWords)){var v=r.split("");for(var w=0;w<v.length;w++){var x=v[w],y=1;while(v[w+y]){var z=v[w+y],A=x[x.length-1];if(!b.canBreakChars(A,z,r,w,d.breakWords))x+=z;else break;y++}w+=x.length-1;var B=b.getFromCache(x,j,i,e);B+f>o&&(h+=b.addLine(g),n=!1,g="",f=0);g+=x;f+=B}}else{g.length>0&&(h+=b.addLine(g),g="",f=0);var C=q===p.length-1;h+=b.addLine(r,!C);n=!1;g="";f=0}}else u+f>o&&(n=!1,h+=b.addLine(g),g="",f=0),(g.length>0||!b.isBreakingSpace(r)||n)&&(g+=r,f+=u)}h+=b.addLine(g,!1);return h};b.addLine=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a=b.trimRight(a);a=c?a+"\n":a;return a};b.getFromCache=function(a,b,c,d){var e=c[a];if(e===void 0){b=a.length*b;e=d.measureText(a).width+b;c[a]=e}return e};b.collapseSpaces=function(a){return a==="normal"||a==="pre-line"};b.collapseNewlines=function(a){return a==="normal"};b.trimRight=function(a){if(typeof a!=="string")return"";for(var c=a.length-1;c>=0;c--){var d=a[c];if(!b.isBreakingSpace(d))break;a=a.slice(0,-1)}return a};b.isNewline=function(a){return typeof a!=="string"?!1:b._newlines.indexOf(a.charCodeAt(0))>=0};b.isBreakingSpace=function(a){return typeof a!=="string"?!1:b._breakingSpaces.indexOf(a.charCodeAt(0))>=0};b.tokenize=function(a){__p&&__p();var c=[],d="";if(typeof a!=="string")return c;for(var e=0;e<a.length;e++){var f=a[e];if(b.isBreakingSpace(f)||b.isNewline(f)){d!==""&&(c.push(d),d="");c.push(f);continue}d+=f}d!==""&&c.push(d);return c};b.canBreakWords=function(a,b){return b};b.canBreakChars=function(a,b,c,d,e){return!0};b.measureFont=function(c){__p&&__p();if(b._fonts[c])return b._fonts[c];var d={},a=b._canvas,e=b._context;e.font=c;var f=b.METRICS_STRING+b.BASELINE_SYMBOL,g=Math.ceil(e.measureText(f).width),h=Math.ceil(e.measureText(b.BASELINE_SYMBOL).width),i=2*h;h=h*b.BASELINE_MULTIPLIER|0;a.width=g;a.height=i;e.fillStyle="#f00";e.fillRect(0,0,g,i);e.font=c;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText(f,0,h);a=e.getImageData(0,0,g,i).data;f=a.length;e=g*4;var j;g=0;var k=!1;for(j=0;j<h;++j){for(var l=0;l<e;l+=4)if(a[g+l]!==255){k=!0;break}if(!k)g+=e;else break}d.ascent=h-j;g=f-e;k=!1;for(j=i;j>h;--j){for(var l=0;l<e;l+=4)if(a[g+l]!==255){k=!0;break}if(!k)g-=e;else break}d.descent=j-h;d.fontSize=d.ascent+d.descent;b._fonts[c]=d;return d};b.clearMetrics=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";a?delete b._fonts[a]:b._fonts={}};return b}();qg["default"]=b;var c=document.createElement("canvas");c.width=c.height=10;b._canvas=c;b._context=c.getContext("2d");b._fonts={};b.METRICS_STRING="|\xc9q";b.BASELINE_SYMBOL="M";b.BASELINE_MULTIPLIER=1.4;b._newlines=[10,13];b._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]}var tg=!1,ug=function(){tg||(tg=!0,sg());return rg.exports},vg={},wg={exports:vg};function xg(){__p&&__p();vg.__esModule=!0;vg["default"]=a;function a(a){__p&&__p();var b=a.width,c=a.height;a=a.getContext("2d");var d=a.getImageData(0,0,b,c);d=d.data;var e=d.length,f={top:null,left:null,right:null,bottom:null},g,h,i;for(g=0;g<e;g+=4)d[g+3]!==0&&(h=g/4%b,i=~~(g/4/b),f.top===null&&(f.top=i),f.left===null?f.left=h:h<f.left&&(f.left=h),f.right===null?f.right=h+1:f.right<h&&(f.right=h+1),f.bottom===null?f.bottom=i:f.bottom<i&&(f.bottom=i));b=f.right-f.left;c=f.bottom-f.top+1;h=a.getImageData(f.left,f.top,b,c);return{height:c,width:b,data:h}}}var yg=!1,zg=function(){yg||(yg=!0,xg());return wg.exports},Ag={},Bg={exports:Ag};function Cg(){__p&&__p();Ag.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Uc();b=l(b);var c=T(),d=l(c),e=P(),f=S(),g=K();c=Q();var h=l(c);c=pg();var i=l(c);c=ug();var j=l(c);c=zg();var k=l(c);function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function o(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var p={texture:!0,children:!1,baseTexture:!0};l=function(b){__p&&__p();o(c,b);function c(a,f,g){__p&&__p();m(this,c);g=g||document.createElement("canvas");g.width=3;g.height=3;var i=d["default"].fromCanvas(g,h["default"].SCALE_MODE,"text");i.orig=new e.Rectangle();i.trim=new e.Rectangle();i=n(this,b.call(this,i));d["default"].addToCache(i._texture,i._texture.baseTexture.textureCacheIds[0]);i.canvas=g;i.context=i.canvas.getContext("2d");i.resolution=h["default"].RESOLUTION;i._text=null;i._style=null;i._styleListener=null;i._font="";i.text=a;i.style=f;i.localStyleID=-1;return i}c.prototype.updateText=function(a){__p&&__p();var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(!this.dirty&&a)return;this._font=this._style.toFontString();a=this.context;var c=j["default"].measureText(this._text,this._style,this._style.wordWrap,this.canvas),d=c.width,e=c.height,f=c.lines,g=c.lineHeight,h=c.lineWidths,i=c.maxLineWidth;c=c.fontProperties;this.canvas.width=Math.ceil((Math.max(1,d)+b.padding*2)*this.resolution);this.canvas.height=Math.ceil((Math.max(1,e)+b.padding*2)*this.resolution);a.scale(this.resolution,this.resolution);a.clearRect(0,0,this.canvas.width,this.canvas.height);a.font=this._font;a.strokeStyle=b.stroke;a.lineWidth=b.strokeThickness;a.textBaseline=b.textBaseline;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;d=void 0;e=void 0;if(b.dropShadow){a.fillStyle=b.dropShadowColor;a.globalAlpha=b.dropShadowAlpha;a.shadowBlur=b.dropShadowBlur;b.dropShadowBlur>0&&(a.shadowColor=b.dropShadowColor);var k=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,l=Math.sin(b.dropShadowAngle)*b.dropShadowDistance;for(var m=0;m<f.length;m++)d=b.strokeThickness/2,e=b.strokeThickness/2+m*g+c.ascent,b.align==="right"?d+=i-h[m]:b.align==="center"&&(d+=(i-h[m])/2),b.fill&&(this.drawLetterSpacing(f[m],d+k+b.padding,e+l+b.padding),b.stroke&&b.strokeThickness&&(a.strokeStyle=b.dropShadowColor,this.drawLetterSpacing(f[m],d+k+b.padding,e+l+b.padding,!0),a.strokeStyle=b.stroke))}a.shadowBlur=0;a.globalAlpha=1;a.fillStyle=this._generateFillStyle(b,f);for(var m=0;m<f.length;m++)d=b.strokeThickness/2,e=b.strokeThickness/2+m*g+c.ascent,b.align==="right"?d+=i-h[m]:b.align==="center"&&(d+=(i-h[m])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(f[m],d+b.padding,e+b.padding,!0),b.fill&&this.drawLetterSpacing(f[m],d+b.padding,e+b.padding);this.updateTexture()};c.prototype.drawLetterSpacing=function(a,b,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,e=this._style,f=e.letterSpacing;if(f===0){d?this.context.strokeText(a,b,c):this.context.fillText(a,b,c);return}var g=String.prototype.split.call(a,""),h=b,i=0,j="";while(i<a.length)j=g[i++],d?this.context.strokeText(j,h,c):this.context.fillText(j,h,c),h+=this.context.measureText(j).width+f};c.prototype.updateTexture=function(){__p&&__p();var a=this.canvas;if(this._style.trim){var b=k["default"](a);a.width=b.width;a.height=b.height;this.context.putImageData(b.data,0,0)}b=this._texture;var c=this._style;c=c.trim?0:c.padding;var d=b.baseTexture;d.hasLoaded=!0;d.resolution=this.resolution;d.realWidth=a.width;d.realHeight=a.height;d.width=a.width/this.resolution;d.height=a.height/this.resolution;b.trim.width=b._frame.width=a.width/this.resolution;b.trim.height=b._frame.height=a.height/this.resolution;b.trim.x=-c;b.trim.y=-c;b.orig.width=b._frame.width-c*2;b.orig.height=b._frame.height-c*2;this._onTextureUpdate();d.emit("update",d);this.dirty=!1};c.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0),this.updateText(!0),b.prototype.renderWebGL.call(this,a)};c.prototype._renderCanvas=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0),this.updateText(!0),b.prototype._renderCanvas.call(this,a)};c.prototype.getLocalBounds=function(a){this.updateText(!0);return b.prototype.getLocalBounds.call(this,a)};c.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)};c.prototype._onStyleChange=function(){this.dirty=!0};c.prototype._generateFillStyle=function(a,b){__p&&__p();if(!Array.isArray(a.fill))return a.fill;if(navigator.isCocoonJS)return a.fill[0];var c=void 0,d=void 0,e=void 0,f=this.canvas.width/this.resolution,h=this.canvas.height/this.resolution,i=a.fill.slice(),j=a.fillGradientStops.slice();if(!j.length){var k=i.length+1;for(var l=1;l<k;++l)j.push(l/k)}i.unshift(a.fill[0]);j.unshift(0);i.push(a.fill[a.fill.length-1]);j.push(1);if(a.fillGradientType===g.TEXT_GRADIENT.LINEAR_VERTICAL){c=this.context.createLinearGradient(f/2,0,f/2,h);d=(i.length+1)*b.length;e=0;for(var l=0;l<b.length;l++){e+=1;for(var k=0;k<i.length;k++)typeof j[k]==="number"?a=j[k]/b.length+l/b.length:a=e/d,c.addColorStop(a,i[k]),e++}}else{c=this.context.createLinearGradient(0,h/2,f,h/2);d=i.length+1;e=1;for(var k=0;k<i.length;k++)typeof j[k]==="number"?a=j[k]:a=e/d,c.addColorStop(a,i[k]),e++}return c};c.prototype.destroy=function(a){typeof a==="boolean"&&(a={children:a}),a=Object.assign({},p,a),b.prototype.destroy.call(this,a),this.context=null,this.canvas=null,this._style=null};a(c,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var b=f.sign(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var b=f.sign(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"style",get:function(){return this._style},set:function(a){a=a||{},a instanceof i["default"]?this._style=a:this._style=new i["default"](a),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(a===""||a===null||a===void 0?" ":a);if(this._text===a)return;this._text=a;this.dirty=!0}}]);return c}(b["default"]);Ag["default"]=l}var Dg=!1,Eg=function(){Dg||(Dg=!0,Cg());return Bg.exports},Fg={},Gg={exports:Fg};function Hg(){__p&&__p();Fg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c,d,e,f,g,h,i,j,k){a(this,b),this.lineWidth=c,this.lineAlignment=k,this.nativeLines=i,this.lineColor=d,this.lineAlpha=e,this._lineTint=d,this.fillColor=f,this.fillAlpha=g,this._fillTint=f,this.fill=h,this.holes=[],this.shape=j,this.type=j.type}b.prototype.clone=function(){return new b(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)};b.prototype.addHole=function(a){this.holes.push(a)};b.prototype.destroy=function(){this.shape=null,this.holes=null};return b}();Fg["default"]=b}var Ig=!1,Jg=function(){Ig||(Ig=!0,Hg());return Gg.exports},Kg={},Lg={exports:Kg};function Mg(){Kg.__esModule=!0;Kg["default"]=a;function a(a,b,c,d,e,f,g,h,i){var j=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],k,l,m,n,o;j.push(a,b);for(var p=1,q=0;p<=i;++p)q=p/i,k=1-q,l=k*k,m=l*k,n=q*q,o=n*q,j.push(m*a+3*l*q*c+3*k*n*e+o*g,m*b+3*l*q*d+3*k*n*f+o*h);return j}}var Ng=!1,Og=function(){Ng||(Ng=!0,Mg());return Lg.exports},Pg={},Qg={exports:Pg};function Rg(){__p&&__p();Pg.__esModule=!0;var a=cc();a=m(a);var b=dd(),c=m(b);b=T();var d=m(b);b=Jg();var e=m(b);b=Uc();var f=m(b),g=P(),h=S(),i=K();b=Za();var j=m(b);b=Og();var k=m(b);b=Hd();var l=m(b);function m(a){return a&&a.__esModule?a:{"default":a}}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function o(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function p(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var q=void 0,r=new g.Matrix(),s=new g.Point(),t=new Float32Array(4),u=new Float32Array(4);m=function(a){__p&&__p();p(b,a);function b(){__p&&__p();var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;n(this,b);var d=o(this,a.call(this));d.fillAlpha=1;d.lineWidth=0;d.nativeLines=c;d.lineColor=0;d.lineAlignment=.5;d.graphicsData=[];d.tint=16777215;d._prevTint=16777215;d.blendMode=i.BLEND_MODES.NORMAL;d.currentPath=null;d._webGL={};d.isMask=!1;d.boundsPadding=0;d._localBounds=new j["default"]();d.dirty=0;d.fastRectDirty=-1;d.clearDirty=0;d.boundsDirty=-1;d.cachedSpriteDirty=!1;d._spriteRect=null;d._fastRect=!1;return d}b.prototype.clone=function(){__p&&__p();var a=new b();a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.lineAlignment=this.lineAlignment;a.tint=this.tint;a.blendMode=this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;for(var c=0;c<this.graphicsData.length;++c)a.graphicsData.push(this.graphicsData[c].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();return a};b.prototype._quadraticCurveLength=function(a,b,c,d,e,f){__p&&__p();e=a-(2*c+e);f=b-(2*d+f);c=2*((c-2)*a);a=2*((d-2)*b);d=4*(e*e+f*f);b=4*(e*c+f*a);e=c*c+a*a;f=2*Math.sqrt(d+b+e);c=Math.sqrt(d);a=2*d*c;var g=2*Math.sqrt(e),h=b/c;return(a*f+c*b*(f-g)+(4*e*d-b*b)*Math.log((2*c+h+f)/(h+g)))/(4*a)};b.prototype._bezierCurveLength=function(a,b,c,d,e,f,g,h){var i=10,j=0,k,l,m,n,o,p,q,r=a,s=b;for(var t=1;t<=i;++t)k=t/i,l=k*k,m=l*k,n=1-k,o=n*n,p=o*n,q=p*a+3*o*k*c+3*n*l*e+m*g,p=p*b+3*o*k*d+3*n*l*f+m*h,o=r-q,k=s-p,r=q,s=p,j+=Math.sqrt(o*o+k*k);return j};b.prototype._segmentsCount=function(a){a=Math.ceil(a/b.CURVES.maxLength);a<b.CURVES.minSegments?a=b.CURVES.minSegments:a>b.CURVES.maxSegments&&(a=b.CURVES.maxSegments);return a};b.prototype.lineStyle=function(){__p&&__p();var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;this.lineWidth=a;this.lineColor=b;this.lineAlpha=c;this.lineAlignment=d;if(this.currentPath)if(this.currentPath.shape.points.length){var e=new g.Polygon(this.currentPath.shape.points.slice(-2));e.closed=!1;this.drawShape(e)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this};b.prototype.moveTo=function(a,b){a=new g.Polygon([a,b]);a.closed=!1;this.drawShape(a);return this};b.prototype.lineTo=function(a,b){this.currentPath.shape.points.push(a,b);this.dirty++;return this};b.prototype.quadraticCurveTo=function(a,c,d,e){__p&&__p();this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var f=this.currentPath.shape.points,g,h;f.length===0&&this.moveTo(0,0);var i=f[f.length-2],j=f[f.length-1],k=b.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(i,j,a,c,d,e)):20;for(var l=1;l<=k;++l){var m=l/k;g=i+(a-i)*m;h=j+(c-j)*m;f.push(g+(a+(d-a)*m-g)*m,h+(c+(e-c)*m-h)*m)}this.dirty++;return this};b.prototype.bezierCurveTo=function(a,c,d,e,f,g){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var h=this.currentPath.shape.points,i=h[h.length-2],j=h[h.length-1];h.length-=2;var l=b.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(i,j,a,c,d,e,f,g)):20;k["default"](i,j,a,c,d,e,f,g,l,h);this.dirty++;return this};b.prototype.arcTo=function(a,b,c,d,e){__p&&__p();this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var f=this.currentPath.shape.points,g=f[f.length-2],h=f[f.length-1];h=h-b;g=g-a;d=d-b;c=c-a;var i=Math.abs(h*c-g*d);if(i<1e-8||e===0)(f[f.length-2]!==a||f[f.length-1]!==b)&&f.push(a,b);else{f=h*h+g*g;var j=d*d+c*c,k=h*d+g*c,l=e*Math.sqrt(f)/i;i=e*Math.sqrt(j)/i;f=l*k/f;k=i*k/j;j=l*c+i*g;var m=l*d+i*h,n=g*(i+f);i=h*(i+f);f=c*(l+k);l=d*(l+k);k=Math.atan2(i-m,n-j);i=Math.atan2(l-m,f-j);this.arc(j+a,m+b,e,k,i,g*d>c*h)}this.dirty++;return this};b.prototype.arc=function(a,c,d,e,f){__p&&__p();var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e===f)return this;!g&&f<=e?f+=i.PI_2:g&&e<=f&&(e+=i.PI_2);var h=f-e,j=b.CURVES.adaptive?this._segmentsCount(Math.abs(h)*d):Math.ceil(Math.abs(h)/i.PI_2)*40;if(h===0)return this;var k=a+Math.cos(e)*d,l=c+Math.sin(e)*d,m=this.currentPath?this.currentPath.shape.points:null;m?(m[m.length-2]!==k||m[m.length-1]!==l)&&m.push(k,l):(this.moveTo(k,l),m=this.currentPath.shape.points);var n=h/(j*2),o=n*2,p=Math.cos(n),q=Math.sin(n),r=j-1,s=r%1/r;for(var t=0;t<=r;++t){var u=t+s*t,v=n+e+o*u,w=Math.cos(v),x=-Math.sin(v);m.push((p*w+q*x)*d+a,(p*-x+q*w)*d+c)}this.dirty++;return this};b.prototype.beginFill=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.filling=!0;this.fillColor=a;this.fillAlpha=b;this.currentPath&&(this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha));return this};b.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.prototype.drawRect=function(a,b,c,d){this.drawShape(new g.Rectangle(a,b,c,d));return this};b.prototype.drawRoundedRect=function(a,b,c,d,e){this.drawShape(new g.RoundedRectangle(a,b,c,d,e));return this};b.prototype.drawCircle=function(a,b,c){this.drawShape(new g.Circle(a,b,c));return this};b.prototype.drawEllipse=function(a,b,c,d){this.drawShape(new g.Ellipse(a,b,c,d));return this};b.prototype.drawPolygon=function(a){__p&&__p();var b=a,c=!0;b instanceof g.Polygon&&(c=b.closed,b=b.points);if(!Array.isArray(b)){b=new Array(arguments.length);for(var d=0;d<b.length;++d)b[d]=arguments[d]}var e=new g.Polygon(b);e.closed=c;this.drawShape(e);return this};b.prototype.drawStar=function(a,b,c,d,e){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;e=e||d/2;var g=-1*Math.PI/2+f,h=c*2,j=i.PI_2/h,k=[];for(var l=0;l<h;l++){var m=l%2?e:d,n=l*j+g;k.push(a+m*Math.cos(n),b+m*Math.sin(n))}return this.drawPolygon(k)};b.prototype.clear=function(){(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0);this.currentPath=null;this._spriteRect=null;return this};b.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===i.SHAPES.RECT&&!this.graphicsData[0].lineWidth};b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};b.prototype._renderSpriteRect=function(a){__p&&__p();var b=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new f["default"](new d["default"](d["default"].WHITE)));var c=this._spriteRect;if(this.tint===16777215)c.tint=this.graphicsData[0].fillColor;else{var e=t,g=u;h.hex2rgb(this.graphicsData[0].fillColor,e);h.hex2rgb(this.tint,g);e[0]*=g[0];e[1]*=g[1];e[2]*=g[2];c.tint=h.rgb2hex(e)}c.alpha=this.graphicsData[0].fillAlpha;c.worldAlpha=this.worldAlpha*c.alpha;c.blendMode=this.blendMode;c._texture._frame.width=b.width;c._texture._frame.height=b.height;c.transform.worldTransform=this.transform.worldTransform;c.anchor.set(-b.x/b.width,-b.y/b.height);c._onAnchorUpdate();c._renderWebGL(a)};b.prototype._renderCanvas=function(a){if(this.isMask===!0)return;a.plugins.graphics.render(this)};b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};b.prototype.containsPoint=function(a){__p&&__p();this.worldTransform.applyInverse(a,s);a=this.graphicsData;for(var b=0;b<a.length;++b){var c=a[b];if(!c.fill)continue;if(c.shape&&c.shape.contains(s.x,s.y)){if(c.holes)for(var d=0;d<c.holes.length;d++){var e=c.holes[d];if(e.contains(s.x,s.y))return!1}return!0}}return!1};b.prototype.updateLocalBounds=function(){__p&&__p();var a=Infinity,b=-Infinity,c=Infinity,d=-Infinity;if(this.graphicsData.length){var e=0,f=0,g,h=0;for(var j=0;j<this.graphicsData.length;j++){var k=this.graphicsData[j],l=k.type,m=k.lineWidth;k=k.shape;if(l===i.SHAPES.RECT||l===i.SHAPES.RREC)e=k.x-m/2,f=k.y-m/2,g=k.width+m,h=k.height+m,a=e<a?e:a,b=e+g>b?e+g:b,c=f<c?f:c,d=f+h>d?f+h:d;else if(l===i.SHAPES.CIRC)e=k.x,f=k.y,g=k.radius+m/2,h=k.radius+m/2,a=e-g<a?e-g:a,b=e+g>b?e+g:b,c=f-h<c?f-h:c,d=f+h>d?f+h:d;else if(l===i.SHAPES.ELIP)e=k.x,f=k.y,g=k.width+m/2,h=k.height+m/2,a=e-g<a?e-g:a,b=e+g>b?e+g:b,c=f-h<c?f-h:c,d=f+h>d?f+h:d;else{l=k.points;k=0;var n=0,o=0,p=0,q,r,s;for(var t=0;t+2<l.length;t+=2){e=l[t];f=l[t+1];k=l[t+2];n=l[t+3];o=Math.abs(k-e);p=Math.abs(n-f);h=m;g=Math.sqrt(o*o+p*p);if(g<1e-9)continue;q=(h/g*p+o)/2;g=(h/g*o+p)/2;r=(k+e)/2;s=(n+f)/2;a=r-q<a?r-q:a;b=r+q>b?r+q:b;c=s-g<c?s-g:c;d=s+g>d?s+g:d}}}}else a=0,b=0,c=0,d=0;r=this.boundsPadding;this._localBounds.minX=a-r;this._localBounds.maxX=b+r;this._localBounds.minY=c-r;this._localBounds.maxY=d+r};b.prototype.drawShape=function(a){this.currentPath&&(this.currentPath.shape.points.length<=2&&this.graphicsData.pop());this.currentPath=null;a=new e["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,a,this.lineAlignment);this.graphicsData.push(a);a.type===i.SHAPES.POLY&&(a.shape.closed=a.shape.closed||this.filling,this.currentPath=a);this.dirty++;return a};b.prototype.generateCanvasTexture=function(a){__p&&__p();var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,e=this.getLocalBounds(),f=c["default"].create(e.width,e.height,a,b);q||(q=new l["default"]());this.transform.updateLocalTransform();this.transform.localTransform.copy(r);r.invert();r.tx-=e.x;r.ty-=e.y;q.render(this,f,!0,r);var g=d["default"].fromCanvas(f.baseTexture._canvasRenderTarget.canvas,a,"graphics");g.baseTexture.resolution=b;g.baseTexture.update();return g};b.prototype.closePath=function(){var a=this.currentPath;a&&a.shape&&a.shape.close();return this};b.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};b.prototype.destroy=function(b){__p&&__p();a.prototype.destroy.call(this,b);for(var b=0;b<this.graphicsData.length;++b)this.graphicsData[b].destroy();for(var c in this._webGL)for(var b=0;b<this._webGL[c].data.length;++b)this._webGL[c].data[b].destroy();this._spriteRect&&this._spriteRect.destroy();this.graphicsData=null;this.currentPath=null;this._webGL=null;this._localBounds=null};return b}(a["default"]);Pg["default"]=m;m._SPRITE_TEXTURE=null;m.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}}var Sg=!1,Tg=function(){Sg||(Sg=!0,Rg());return Qg.exports},Ug={},Vg={exports:Ug};function Wg(){__p&&__p();Ug.__esModule=!0;var a=h(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){function a(c,e,f){d(this,a),this.gl=c,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=b["default"].GLBuffer.createVertexBuffer(c),this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(c),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new b["default"].VertexArrayObject(c,f).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,c.FLOAT,!1,4*6,0).addAttribute(this.buffer,e.attributes.aColor,c.FLOAT,!1,4*6,2*4)}a.prototype.reset=function(){this.points.length=0,this.indices.length=0};a.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1};a.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null};return a}();Ug["default"]=c}var Xg=!1,Yg=function(){Xg||(Xg=!0,Wg());return Vg.exports},Zg={},$g={exports:Zg};function ah(){__p&&__p();Zg.__esModule=!0;var a=Ye();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e){c(this,b);return d(this,a.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return b}(b["default"]);Zg["default"]=a}var bh=!1,ch=function(){bh||(bh=!0,ah());return $g.exports},dh={},eh={exports:dh};function fh(){__p&&__p();dh.__esModule=!0;dh["default"]=function(a,b,e){a.nativeLines?d(a,e):c(a,b)};var a=P(),b=S();function c(c,d){__p&&__p();var e=c.points;if(e.length===0)return;var f=new a.Point(e[0],e[1]),g=new a.Point(e[e.length-2],e[e.length-1]);if(f.x===g.x&&f.y===g.y){e=e.slice();e.pop();e.pop();g=new a.Point(e[e.length-2],e[e.length-1]);var h=g.x+(f.x-g.x)*.5;f=g.y+(f.y-g.y)*.5;e.unshift(h,f);e.push(h,f)}g=d.points;h=d.indices;f=e.length/2;d=e.length;var i=g.length/6,j=c.lineWidth/2,k=b.hex2rgb(c.lineColor),l=c.lineAlpha,m=k[0]*l,n=k[1]*l;k=k[2]*l;var o=e[0],p=e[1],q=e[2],r=e[3],s=0,t=0,u=-(p-r),v=o-q,w=0,x=0,y=0,z=0,A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;c=c.lineAlignment;var B=(1-c)*2;c=c*2;g.push(o-u*B,p-v*B,m,n,k,l);g.push(o+u*c,p+v*c,m,n,k,l);for(var C=1;C<f-1;++C){o=e[(C-1)*2];p=e[(C-1)*2+1];q=e[C*2];r=e[C*2+1];s=e[(C+1)*2];t=e[(C+1)*2+1];u=-(p-r);v=o-q;A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;w=-(r-t);x=q-s;A=Math.sqrt(w*w+x*x);w/=A;x/=A;w*=j;x*=j;var D=-v+p-(-v+r),E=-u+q-(-u+o),F=(-u+o)*(-v+r)-(-u+q)*(-v+p),G=-x+t-(-x+r),H=-w+q-(-w+s),I=(-w+s)*(-x+r)-(-w+q)*(-x+t),J=D*H-G*E;if(Math.abs(J)<.1){J+=10.1;g.push(q-u*B,r-v*B,m,n,k,l);g.push(q+u*c,r+v*c,m,n,k,l);continue}E=(E*I-H*F)/J;H=(G*F-D*I)/J;G=(E-q)*(E-q)+(H-r)*(H-r);G>196*j*j?(y=u-w,z=v-x,A=Math.sqrt(y*y+z*z),y/=A,z/=A,y*=j,z*=j,g.push(q-y*B,r-z*B),g.push(m,n,k,l),g.push(q+y*c,r+z*c),g.push(m,n,k,l),g.push(q-y*c*B,r-z*B),g.push(m,n,k,l),d++):(g.push(q+(E-q)*B,r+(H-r)*B),g.push(m,n,k,l),g.push(q-(E-q)*c,r-(H-r)*c),g.push(m,n,k,l))}o=e[(f-2)*2];p=e[(f-2)*2+1];q=e[(f-1)*2];r=e[(f-1)*2+1];u=-(p-r);v=o-q;A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;g.push(q-u*B,r-v*B);g.push(m,n,k,l);g.push(q+u*c,r+v*c);g.push(m,n,k,l);h.push(i);for(var F=0;F<d;++F)h.push(i++);h.push(i-1)}function d(a,c){__p&&__p();var d=0,e=a.points;if(e.length===0)return;c=c.points;var f=e.length/2,g=b.hex2rgb(a.lineColor);a=a.lineAlpha;var h=g[0]*a,i=g[1]*a;g=g[2]*a;for(d=1;d<f;d++){var j=e[(d-1)*2],k=e[(d-1)*2+1],l=e[d*2],m=e[d*2+1];c.push(j,k);c.push(h,i,g,a);c.push(l,m);c.push(h,i,g,a)}}}var gh=!1,hh=function(){gh||(gh=!0,fh());return eh.exports},ih={},jh={exports:ih};function kh(){__p&&__p();ih.__esModule=!0;ih["default"]=e;e=hh();var a=d(e),b=S();e=l();var c=d(e);function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){__p&&__p();d.points=d.shape.points.slice();var g=d.points;if(d.fill&&g.length>=6){var h=[],i=d.holes;for(var j=0;j<i.length;j++){var k=i[j];h.push(g.length/2);g=g.concat(k.points)}k=e.points;i=e.indices;j=g.length/2;var l=b.hex2rgb(d.fillColor),m=d.fillAlpha,n=l[0]*m,o=l[1]*m;l=l[2]*m;h=c["default"](g,h,2);if(!h)return;var p=k.length/6;for(var q=0;q<h.length;q+=3)i.push(h[q]+p),i.push(h[q]+p),i.push(h[q+1]+p),i.push(h[q+2]+p),i.push(h[q+2]+p);for(var q=0;q<j;q++)k.push(g[q*2],g[q*2+1],n,o,l,m)}d.lineWidth>0&&a["default"](d,e,f)}}var lh=!1,mh=function(){lh||(lh=!0,kh());return jh.exports},nh={},oh={exports:nh};function ph(){__p&&__p();nh.__esModule=!0;nh["default"]=d;d=hh();var a=c(d),b=S();function c(a){return a&&a.__esModule?a:{"default":a}}function d(c,d,e){__p&&__p();var f=c.shape,g=f.x,h=f.y,i=f.width;f=f.height;if(c.fill){var j=b.hex2rgb(c.fillColor),k=c.fillAlpha,l=j[0]*k,m=j[1]*k;j=j[2]*k;var n=d.points,o=d.indices,p=n.length/6;n.push(g,h);n.push(l,m,j,k);n.push(g+i,h);n.push(l,m,j,k);n.push(g,h+f);n.push(l,m,j,k);n.push(g+i,h+f);n.push(l,m,j,k);o.push(p,p,p+1,p+2,p+3,p+3)}if(c.lineWidth){n=c.points;c.points=[g,h,g+i,h,g+i,h+f,g,h+f,g,h];a["default"](c,d,e);c.points=n}}}var qh=!1,rh=function(){qh||(qh=!0,ph());return oh.exports},sh={},th={exports:sh};function uh(){__p&&__p();sh.__esModule=!0;sh["default"]=e;e=l();var a=d(e);e=hh();var b=d(e),c=S();function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){__p&&__p();var h=d.shape,i=h.x,j=h.y,k=h.width,l=h.height;h=h.radius;var m=[];m.push(i,j+h);g(i,j+l-h,i,j+l,i+h,j+l,m);g(i+k-h,j+l,i+k,j+l,i+k,j+l-h,m);g(i+k,j+h,i+k,j,i+k-h,j,m);g(i+h,j,i,j,i,j+h+1e-10,m);if(d.fill){l=c.hex2rgb(d.fillColor);k=d.fillAlpha;i=l[0]*k;j=l[1]*k;h=l[2]*k;l=e.points;var n=e.indices,o=l.length/6,p=a["default"](m,null,2);for(var q=0,r=p.length;q<r;q+=3)n.push(p[q]+o),n.push(p[q]+o),n.push(p[q+1]+o),n.push(p[q+2]+o),n.push(p[q+2]+o);for(var q=0,n=m.length;q<n;q++)l.push(m[q],m[++q],i,j,h,k)}if(d.lineWidth){r=d.points;d.points=m;b["default"](d,e,f);d.points=r}}function f(a,b,c){b=b-a;return a+b*c}function g(a,b,c,d,e,g){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],i=20,j=h,k=0,l=0,m=0,n=0,o=0,p;for(var q=0,r=0;q<=i;++q)r=q/i,k=f(a,c,r),l=f(b,d,r),m=f(c,e,r),n=f(d,g,r),o=f(k,m,r),p=f(l,n,r),j.push(o,p);return j}}var vh=!1,wh=function(){vh||(vh=!0,uh());return th.exports},xh={},yh={exports:xh};function zh(){__p&&__p();xh.__esModule=!0;xh["default"]=e;e=hh();var a=d(e),b=K(),c=S();function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){__p&&__p();var g=d.shape,h=g.x,i=g.y,j=void 0,k=void 0;d.type===b.SHAPES.CIRC?(j=g.radius,k=g.radius):(j=g.width,k=g.height);if(j===0||k===0)return;g=Math.floor(30*Math.sqrt(g.radius))||Math.floor(15*Math.sqrt(g.width+g.height));var l=Math.PI*2/g;if(d.fill){var m=c.hex2rgb(d.fillColor),n=d.fillAlpha,o=m[0]*n,p=m[1]*n;m=m[2]*n;var q=e.points,r=e.indices,s=q.length/6;r.push(s);for(var t=0;t<g+1;t++)q.push(h,i,o,p,m,n),q.push(h+Math.sin(l*t)*j,i+Math.cos(l*t)*k,o,p,m,n),r.push(s++,s++);r.push(s-1)}if(d.lineWidth){n=d.points;d.points=[];for(var m=0;m<g+1;m++)d.points.push(h+Math.sin(l*-m)*j,i+Math.cos(l*-m)*k);a["default"](d,e,f);d.points=n}}}var Ah=!1,Bh=function(){Ah||(Ah=!0,zh());return yh.exports},Ch={},Dh={exports:Ch};function Eh(){__p&&__p();Ch.__esModule=!0;var a=S(),b=K(),c=ae(),d=l(c);c=Rf();c=l(c);var e=Yg(),f=l(e);e=ch();var g=l(e);e=mh();var h=l(e);e=rh();var i=l(e);e=wh();var j=l(e);e=Bh();var k=l(e);function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function o(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}l=function(c){__p&&__p();o(e,c);function e(a){m(this,e);var b=n(this,c.call(this,a));b.graphicsDataPool=[];b.primitiveShader=null;b.gl=a.gl;b.CONTEXT_UID=0;return b}e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new g["default"](this.gl)};e.prototype.destroy=function(){d["default"].prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};e.prototype.render=function(b){__p&&__p();var c=this.renderer,d=c.gl,e=void 0,f=b._webGL[this.CONTEXT_UID];(!f||b.dirty!==f.dirty)&&(this.updateGraphics(b),f=b._webGL[this.CONTEXT_UID]);var g=this.primitiveShader;c.bindShader(g);c.state.setBlendMode(b.blendMode);for(var g=0,h=f.data.length;g<h;g++){e=f.data[g];var i=e.shader;c.bindShader(i);i.uniforms.translationMatrix=b.transform.worldTransform.toArray(!0);i.uniforms.tint=a.hex2rgb(b.tint);i.uniforms.alpha=b.worldAlpha;c.bindVao(e.vao);e.nativeLines?d.drawArrays(d.LINES,0,e.points.length/6):e.vao.draw(d.TRIANGLE_STRIP,e.indices.length)}};e.prototype.updateGraphics=function(a){__p&&__p();var c=this.renderer.gl,d=a._webGL[this.CONTEXT_UID];d||(d=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:c,clearDirty:-1,dirty:-1});d.dirty=a.dirty;if(a.clearDirty!==d.clearDirty){d.clearDirty=a.clearDirty;for(var c=0;c<d.data.length;c++)this.graphicsDataPool.push(d.data[c]);d.data.length=0;d.lastIndex=0}c=void 0;var e=void 0;for(var f=d.lastIndex;f<a.graphicsData.length;f++){var g=a.graphicsData[f];c=this.getWebGLData(d,0);g.nativeLines&&g.lineWidth&&(e=this.getWebGLData(d,0,!0),d.lastIndex++);g.type===b.SHAPES.POLY&&h["default"](g,c,e);g.type===b.SHAPES.RECT?i["default"](g,c,e):g.type===b.SHAPES.CIRC||g.type===b.SHAPES.ELIP?k["default"](g,c,e):g.type===b.SHAPES.RREC&&j["default"](g,c,e);d.lastIndex++}this.renderer.bindVao(null);for(var g=0;g<d.data.length;g++)c=d.data[g],c.dirty&&c.upload()};e.prototype.getWebGLData=function(a,b,c){var d=a.data[a.data.length-1];(!d||d.nativeLines!==c||d.points.length>32e4)&&(d=this.graphicsDataPool.pop()||new f["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.nativeLines=c,d.reset(b),a.data.push(d));d.dirty=!0;return d};return e}(d["default"]);Ch["default"]=l;c["default"].registerPlugin("graphics",l)}var Fh=!1,Gh=function(){Fh||(Fh=!0,Eh());return Dh.exports},Hh={},Ih={exports:Hh};function Jh(){__p&&__p();Hh.__esModule=!0;var a=Hd();c=c(a);var b=K();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}a=function(){__p&&__p();function a(b){d(this,a),this.renderer=b}a.prototype.render=function(a){__p&&__p();var c=this.renderer,d=c.context,e=a.worldAlpha,f=a.transform.worldTransform,g=c.resolution;this._prevTint!==this.tint&&(this.dirty=!0);d.setTransform(f.a*g,f.b*g,f.c*g,f.d*g,f.tx*g,f.ty*g);a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1);c.setBlendMode(a.blendMode);for(var f=0;f<a.graphicsData.length;f++){g=a.graphicsData[f];c=g.shape;var h=g._fillTint,i=g._lineTint;d.lineWidth=g.lineWidth;if(g.type===b.SHAPES.POLY){d.beginPath();this.renderPolygon(c.points,c.closed,d);for(var j=0;j<g.holes.length;j++)this.renderPolygon(g.holes[j].points,!0,d);g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}else if(g.type===b.SHAPES.RECT)(g.fillColor||g.fillColor===0)&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fillRect(c.x,c.y,c.width,c.height)),g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.strokeRect(c.x,c.y,c.width,c.height));else if(g.type===b.SHAPES.CIRC)d.beginPath(),d.arc(c.x,c.y,c.radius,0,2*Math.PI),d.closePath(),g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill()),g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke());else if(g.type===b.SHAPES.ELIP){j=c.width*2;var k=c.height*2,l=c.x-j/2,m=c.y-k/2;d.beginPath();var n=.5522848,o=j/2*n;n=k/2*n;var p=l+j,q=m+k;j=l+j/2;k=m+k/2;d.moveTo(l,k);d.bezierCurveTo(l,k-n,j-o,m,j,m);d.bezierCurveTo(j+o,m,p,k-n,p,k);d.bezierCurveTo(p,k+n,j+o,q,j,q);d.bezierCurveTo(j-o,q,l,k+n,l,k);d.closePath();g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}else if(g.type===b.SHAPES.RREC){m=c.x;p=c.y;j=c.width;o=c.height;q=c.radius;n=Math.min(j,o)/2|0;q=q>n?n:q;d.beginPath();d.moveTo(m,p+q);d.lineTo(m,p+o-q);d.quadraticCurveTo(m,p+o,m+q,p+o);d.lineTo(m+j-q,p+o);d.quadraticCurveTo(m+j,p+o,m+j,p+o-q);d.lineTo(m+j,p+q);d.quadraticCurveTo(m+j,p,m+j-q,p);d.lineTo(m+q,p);d.quadraticCurveTo(m,p,m,p+q);d.closePath();(g.fillColor||g.fillColor===0)&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}}};a.prototype.updateGraphicsTint=function(a){a._prevTint=a.tint;var b=(a.tint>>16&255)/255,c=(a.tint>>8&255)/255,d=(a.tint&255)/255;for(var e=0;e<a.graphicsData.length;++e){var f=a.graphicsData[e],g=f.fillColor|0,h=f.lineColor|0;f._fillTint=((g>>16&255)/255*b*255<<16)+((g>>8&255)/255*c*255<<8)+(g&255)/255*d*255;f._lineTint=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*c*255<<8)+(h&255)/255*d*255}};a.prototype.renderPolygon=function(a,b,c){c.moveTo(a[0],a[1]);for(var d=1;d<a.length/2;++d)c.lineTo(a[d*2],a[d*2+1]);b&&c.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();Hh["default"]=a;c["default"].registerPlugin("graphics",a)}var Kh=!1,Lh=function(){Kh||(Kh=!0,Jh());return Ih.exports},Mh={},Nh={exports:Mh};function Oh(){__p&&__p();Mh.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=S();function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){__p&&__p();a(e,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function e(a,b){__p&&__p();var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;d(this,e);this.baseTexture=a;this.textures={};this.data=b;this.resolution=this._updateResolution(c||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}e.prototype._updateResolution=function(a){var b=this.data.meta.scale;a=c.getResolutionOfUrl(a,null);a===null&&(a=b!==void 0?parseFloat(b):1);a!==1&&(this.baseTexture.resolution=a,this.baseTexture.update());return a};e.prototype.parse=function(a){this._batchIndex=0,this._callback=a,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()};e.prototype._processFrames=function(a){__p&&__p();var c=a,d=e.BATCH_SIZE,f=this.baseTexture.sourceScale;while(c-a<d&&c<this._frameKeys.length){var g=this._frameKeys[c],h=this._frames[g],i=h.frame;if(i){var j=null,k=null,l=h.trimmed!==!1&&h.sourceSize?h.sourceSize:h.frame;l=new b.Rectangle(0,0,Math.floor(l.w*f)/this.resolution,Math.floor(l.h*f)/this.resolution);h.rotated?j=new b.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.h*f)/this.resolution,Math.floor(i.w*f)/this.resolution):j=new b.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution);h.trimmed!==!1&&h.spriteSourceSize&&(k=new b.Rectangle(Math.floor(h.spriteSourceSize.x*f)/this.resolution,Math.floor(h.spriteSourceSize.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution));this.textures[g]=new b.Texture(this.baseTexture,j,l,k,h.rotated?2:0);b.Texture.addToCache(this.textures[g],g)}c++}};e.prototype._parseComplete=function(){var a=this._callback;this._callback=null;this._batchIndex=0;a.call(this,this.textures)};e.prototype._nextBatch=function(){var a=this;this._processFrames(this._batchIndex*e.BATCH_SIZE);this._batchIndex++;setTimeout(function(){a._batchIndex*e.BATCH_SIZE<a._frameKeys.length?a._nextBatch():a._parseComplete()},0)};e.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var b in this.textures)this.textures[b].destroy();this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;a&&this.baseTexture.destroy();this.baseTexture=null};return e}();Mh["default"]=e}var Ph=!1,Qh=function(){Ph||(Ph=!0,Oh());return Nh.exports},Rh={},Sh={exports:Rh};function Th(){__p&&__p();Rh.__esModule=!0;Rh.autoDetectRenderer=f;f=S();var a=e(f);e=Hd();var b=d(e);f=Rf();var c=d(f);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(d,e,f,g){var h=d&&d.forceCanvas;g!==void 0&&(h=g);return!h&&a.isWebGLSupported()?new c["default"](d,e,f):new b["default"](d,e,f)}}var Uh=!1,Vh=function(){Uh||(Uh=!0,Th());return Sh.exports},Wh={},Xh={exports:Wh};function Yh(){__p&&__p();Wh.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Vh(),c=cc(),d=h(c),e=Bc();c=Q();var f=h(c),g=K();function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}h=function(){__p&&__p();function c(a,g,h,j,k){i(this,c),typeof a==="number"&&(a=Object.assign({width:a,height:g||f["default"].RENDER_OPTIONS.height,forceCanvas:!!j,sharedTicker:!!k},h)),this._options=a=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},a),this.renderer=b.autoDetectRenderer(a),this.stage=new d["default"](),this._ticker=null,this.ticker=a.sharedTicker?e.shared:new e.Ticker(),a.autoStart&&this.start()}c.prototype.render=function(){this.renderer.render(this.stage)};c.prototype.stop=function(){this._ticker.stop()};c.prototype.start=function(){this._ticker.start()};c.prototype.destroy=function(a,b){__p&&__p();if(this._ticker){var c=this._ticker;this.ticker=null;c.destroy()}this.stage.destroy(b);this.stage=null;this.renderer.destroy(a);this.renderer=null;this._options=null};a(c,[{key:"ticker",set:function(a){this._ticker&&this._ticker.remove(this.render,this),this._ticker=a,a&&a.add(this.render,this,g.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]);return c}();Wh["default"]=h}var Zh=!1,$h=function(){Zh||(Zh=!0,Yh());return Xh.exports},U={},ai={exports:U};function bi(){__p&&__p();U.__esModule=!0;U.autoDetectRenderer=U.Application=U.Filter=U.SpriteMaskFilter=U.Quad=U.RenderTarget=U.ObjectRenderer=U.WebGLManager=U.Shader=U.CanvasRenderTarget=U.TextureUvs=U.VideoBaseTexture=U.BaseRenderTexture=U.RenderTexture=U.BaseTexture=U.TextureMatrix=U.Texture=U.Spritesheet=U.CanvasGraphicsRenderer=U.GraphicsRenderer=U.GraphicsData=U.Graphics=U.TextMetrics=U.TextStyle=U.Text=U.SpriteRenderer=U.CanvasTinter=U.CanvasSpriteRenderer=U.Sprite=U.TransformBase=U.TransformStatic=U.Transform=U.Container=U.DisplayObject=U.Bounds=U.glCore=U.WebGLRenderer=U.CanvasRenderer=U.ticker=U.utils=U.settings=void 0;var a=K();Object.keys(a).forEach(function(b){if(b==="default"||b==="__esModule")return;Object.defineProperty(U,b,{enumerable:!0,get:function(){return a[b]}})});var b=P();Object.keys(b).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty(U,a,{enumerable:!0,get:function(){return b[a]}})});var c=h();Object.defineProperty(U,"glCore",{enumerable:!0,get:function(){return N(c)["default"]}});var d=Za();Object.defineProperty(U,"Bounds",{enumerable:!0,get:function(){return N(d)["default"]}});var e=Gb();Object.defineProperty(U,"DisplayObject",{enumerable:!0,get:function(){return N(e)["default"]}});var f=cc();Object.defineProperty(U,"Container",{enumerable:!0,get:function(){return N(f)["default"]}});var g=Bb();Object.defineProperty(U,"Transform",{enumerable:!0,get:function(){return N(g)["default"]}});var i=wb();Object.defineProperty(U,"TransformStatic",{enumerable:!0,get:function(){return N(i)["default"]}});var j=rb();Object.defineProperty(U,"TransformBase",{enumerable:!0,get:function(){return N(j)["default"]}});var k=Uc();Object.defineProperty(U,"Sprite",{enumerable:!0,get:function(){return N(k)["default"]}});var l=Rd();Object.defineProperty(U,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return N(l)["default"]}});var m=Md();Object.defineProperty(U,"CanvasTinter",{enumerable:!0,get:function(){return N(m)["default"]}});var n=kg();Object.defineProperty(U,"SpriteRenderer",{enumerable:!0,get:function(){return N(n)["default"]}});var o=Eg();Object.defineProperty(U,"Text",{enumerable:!0,get:function(){return N(o)["default"]}});var p=pg();Object.defineProperty(U,"TextStyle",{enumerable:!0,get:function(){return N(p)["default"]}});var q=ug();Object.defineProperty(U,"TextMetrics",{enumerable:!0,get:function(){return N(q)["default"]}});var r=Tg();Object.defineProperty(U,"Graphics",{enumerable:!0,get:function(){return N(r)["default"]}});var s=Jg();Object.defineProperty(U,"GraphicsData",{enumerable:!0,get:function(){return N(s)["default"]}});var t=Gh();Object.defineProperty(U,"GraphicsRenderer",{enumerable:!0,get:function(){return N(t)["default"]}});var u=Lh();Object.defineProperty(U,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return N(u)["default"]}});var v=Qh();Object.defineProperty(U,"Spritesheet",{enumerable:!0,get:function(){return N(v)["default"]}});var w=T();Object.defineProperty(U,"Texture",{enumerable:!0,get:function(){return N(w)["default"]}});var x=pe();Object.defineProperty(U,"TextureMatrix",{enumerable:!0,get:function(){return N(x)["default"]}});var y=mc();Object.defineProperty(U,"BaseTexture",{enumerable:!0,get:function(){return N(y)["default"]}});var z=dd();Object.defineProperty(U,"RenderTexture",{enumerable:!0,get:function(){return N(z)["default"]}});var A=Zc();Object.defineProperty(U,"BaseRenderTexture",{enumerable:!0,get:function(){return N(A)["default"]}});var B=Gc();Object.defineProperty(U,"VideoBaseTexture",{enumerable:!0,get:function(){return N(B)["default"]}});var C=Lc();Object.defineProperty(U,"TextureUvs",{enumerable:!0,get:function(){return N(C)["default"]}});var D=sd();Object.defineProperty(U,"CanvasRenderTarget",{enumerable:!0,get:function(){return N(D)["default"]}});var E=Ye();Object.defineProperty(U,"Shader",{enumerable:!0,get:function(){return N(E)["default"]}});var F=Wd();Object.defineProperty(U,"WebGLManager",{enumerable:!0,get:function(){return N(F)["default"]}});var G=ae();Object.defineProperty(U,"ObjectRenderer",{enumerable:!0,get:function(){return N(G)["default"]}});var H=Je();Object.defineProperty(U,"RenderTarget",{enumerable:!0,get:function(){return N(H)["default"]}});var I=Te();Object.defineProperty(U,"Quad",{enumerable:!0,get:function(){return N(I)["default"]}});var J=ue();Object.defineProperty(U,"SpriteMaskFilter",{enumerable:!0,get:function(){return N(J)["default"]}});var aa=ke();Object.defineProperty(U,"Filter",{enumerable:!0,get:function(){return N(aa)["default"]}});var ba=$h();Object.defineProperty(U,"Application",{enumerable:!0,get:function(){return N(ba)["default"]}});var ca=Vh();Object.defineProperty(U,"autoDetectRenderer",{enumerable:!0,get:function(){return ca.autoDetectRenderer}});var da=S();da=M(da);var L=Bc();M=M(L);L=Q();L=N(L);var ea=Hd();ea=N(ea);var fa=Rf();fa=N(fa);function M(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function N(a){return a&&a.__esModule?a:{"default":a}}U.settings=L["default"];U.utils=da;U.ticker=M;U.CanvasRenderer=ea["default"];U.WebGLRenderer=fa["default"]}var ci=!1,V=function(){ci||(ci=!0,bi());return ai.exports},di={},ei={exports:di};function fi(){__p&&__p();di.__esModule=!0;di["default"]=c;var a={};function b(b){if(a[b])return;var c=new Error().stack;typeof c==="undefined"||(c=c.split("\n").splice(3).join("\n"),console.groupCollapsed&&(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",b),console.groupEnd()));a[b]=!0}function c(a){__p&&__p();var c=a.mesh,d=a.particles,e=a.extras,f=a.filters,g=a.prepare,h=a.loaders,i=a.interaction;Object.defineProperties(a,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){b("You do not need to use a PIXI Stage any more, you can simply render any container.");return a.Container}},DisplayObjectContainer:{get:function(){b("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return a.Container}},Strip:{get:function(){b("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return c.Mesh}},Rope:{get:function(){b("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return c.Rope}},ParticleContainer:{get:function(){b("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return d.ParticleContainer}},MovieClip:{get:function(){b("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return e.AnimatedSprite}},TilingSprite:{get:function(){b("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return e.TilingSprite}},BitmapText:{get:function(){b("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return e.BitmapText}},blendModes:{get:function(){b("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return a.BLEND_MODES}},scaleModes:{get:function(){b("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return a.SCALE_MODES}},BaseTextureCache:{get:function(){b("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return a.utils.BaseTextureCache}},TextureCache:{get:function(){b("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return a.utils.TextureCache}},math:{get:function(){b("The math namespace is deprecated, please access members already accessible on PIXI.");return a}},AbstractFilter:{get:function(){b("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.Filter}},TransformManual:{get:function(){b("TransformManual has been renamed to TransformBase, please update your pixi-spine");return a.TransformBase}},TARGET_FPMS:{get:function(){b("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return a.settings.TARGET_FPMS},set:function(c){b("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS=c}},FILTER_RESOLUTION:{get:function(){b("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return a.settings.FILTER_RESOLUTION},set:function(c){b("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION=c}},RESOLUTION:{get:function(){b("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return a.settings.RESOLUTION},set:function(c){b("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION=c}},MIPMAP_TEXTURES:{get:function(){b("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return a.settings.MIPMAP_TEXTURES},set:function(c){b("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES=c}},SPRITE_BATCH_SIZE:{get:function(){b("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return a.settings.SPRITE_BATCH_SIZE},set:function(c){b("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE=c}},SPRITE_MAX_TEXTURES:{get:function(){b("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return a.settings.SPRITE_MAX_TEXTURES},set:function(c){b("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES=c}},RETINA_PREFIX:{get:function(){b("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return a.settings.RETINA_PREFIX},set:function(c){b("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX=c}},DEFAULT_RENDER_OPTIONS:{get:function(){b("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return a.settings.RENDER_OPTIONS}}});var j=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],k=function(d){var c=j[d];Object.defineProperty(a[c.parent],"DEFAULT",{get:function(){b("PIXI."+c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target));return a.settings[c.target]},set:function(d){b("PIXI."+c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target)),a.settings[c.target]=d}})};for(var l=0;l<j.length;l++)k(l);Object.defineProperties(a.settings,{PRECISION:{get:function(){b("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return a.settings.PRECISION_FRAGMENT},set:function(c){b("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),a.settings.PRECISION_FRAGMENT=c}}});e.AnimatedSprite&&Object.defineProperties(e,{MovieClip:{get:function(){b("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return e.AnimatedSprite}}});e&&Object.defineProperties(e,{TextureTransform:{get:function(){b("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.");return a.TextureMatrix}}});a.DisplayObject.prototype.generateTexture=function(a,c,d){b("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return a.generateTexture(this,c,d)};a.Graphics.prototype.generateTexture=function(a,c){b("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(a,c)};a.GroupD8.isSwapWidthHeight=function(c){b("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical");return a.GroupD8.isVertical(c)};a.RenderTexture.prototype.render=function(a,c,d,e){this.legacyRenderer.render(a,this,d,c,!e),b("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};a.RenderTexture.prototype.getImage=function(a){b("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(a)};a.RenderTexture.prototype.getBase64=function(a){b("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(a)};a.RenderTexture.prototype.getCanvas=function(a){b("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(a)};a.RenderTexture.prototype.getPixels=function(a){b("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(a)};a.Sprite.prototype.setTexture=function(a){this.texture=a,b("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};e.BitmapText&&(e.BitmapText.prototype.setText=function(a){this.text=a,b("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});a.Text.prototype.setText=function(a){this.text=a,b("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};a.Text.calculateFontProperties=function(c){b("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return a.TextMetrics.measureFont(c)};Object.defineProperties(a.Text,{fontPropertiesCache:{get:function(){b("Text.fontPropertiesCache is deprecated");return a.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){b("Text.fontPropertiesCanvas is deprecated");return a.TextMetrics._canvas}},fontPropertiesContext:{get:function(){b("Text.fontPropertiesContext is deprecated");return a.TextMetrics._context}}});a.Text.prototype.setStyle=function(a){this.style=a,b("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};a.Text.prototype.determineFontProperties=function(c){b("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return a.TextMetrics.measureFont(c)};a.Text.getFontStyle=function(c){b("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");c=c||{};c instanceof a.TextStyle||(c=new a.TextStyle(c));return c.toFontString()};Object.defineProperties(a.TextStyle.prototype,{font:{get:function(){b("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var a=typeof this._fontSize==="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+a+" "+this._fontFamily},set:function(c){__p&&__p();b("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");c.indexOf("italic")>1?this._fontStyle="italic":c.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal";c.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";c=c.split(" ");var d=-1;this._fontSize=26;for(var a=0;a<c.length;++a)if(c[a].match(/(px|pt|em|%)/)){d=a;this._fontSize=c[a];break}this._fontWeight="normal";for(var a=0;a<d;++a)if(c[a].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=c[a];break}if(d>-1&&d<c.length-1){this._fontFamily="";for(var a=d+1;a<c.length;++a)this._fontFamily+=c[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});a.Texture.prototype.setFrame=function(a){this.frame=a,b("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};a.Texture.addTextureToCache=function(c,d){a.Texture.addToCache(c,d),b("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")};a.Texture.removeTextureFromCache=function(c){b("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache");a.BaseTexture.removeFromCache(c);return a.Texture.removeFromCache(c)};Object.defineProperties(f,{AbstractFilter:{get:function(){b("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.AbstractFilter}},SpriteMaskFilter:{get:function(){b("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return a.SpriteMaskFilter}},VoidFilter:{get:function(){b("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter");return f.AlphaFilter}}});a.utils.uuid=function(){b("utils.uuid() is deprecated, please use utils.uid() from now on.");return a.utils.uid()};a.utils.canUseNewCanvasBlendModes=function(){b("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return a.CanvasTinter.canUseMultiply};var m=!0;Object.defineProperty(a.utils,"_saidHello",{set:function(a){a&&(b("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),m=a},get:function(){return m}});g.BasePrepare&&(g.BasePrepare.prototype.register=function(a,c){b("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");a&&this.registerFindHook(a);c&&this.registerUploadHook(c);return this});g.canvas&&Object.defineProperty(g.canvas,"UPLOADS_PER_FRAME",{set:function(){b("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){b("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});g.webgl&&Object.defineProperty(g.webgl,"UPLOADS_PER_FRAME",{set:function(){b("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){b("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});if(h.Loader){var n=h.Resource;k=h.Loader;Object.defineProperties(n.prototype,{isJson:{get:function(){b("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===n.TYPE.JSON}},isXml:{get:function(){b("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===n.TYPE.XML}},isImage:{get:function(){b("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");return this.type===n.TYPE.IMAGE}},isAudio:{get:function(){b("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===n.TYPE.AUDIO}},isVideo:{get:function(){b("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===n.TYPE.VIDEO}}});Object.defineProperties(k.prototype,{before:{get:function(){b("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function(){b("The after() method is deprecated, please use use().");return this.use}}})}i.interactiveTarget&&Object.defineProperty(i.interactiveTarget,"defaultCursor",{set:function(a){b("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=a},get:function(){b("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor}});i.InteractionManager&&(Object.defineProperty(i.InteractionManager,"defaultCursorStyle",{set:function(a){b("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles["default"]=a},get:function(){b("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles["default"]}}),Object.defineProperty(i.InteractionManager,"currentCursorStyle",{set:function(a){b("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=a},get:function(){b("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");return this.currentCursorMode}}))}}var gi=!1,hi=function(){gi||(gi=!0,fi());return ei.exports},ii={},ji={exports:ii};function ki(){ii.__esModule=!0,ii["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}}var li=!1,mi=function(){li||(li=!0,ki());return ji.exports},ni={},oi={exports:ni};function pi(){__p&&__p();ni.__esModule=!0;var a=V(),b=e(a);e=j();var c=d(e);a=mi();e=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}b.utils.mixins.delayMixin(b.DisplayObject.prototype,e["default"]);var g=9,h=100,i=0,k=0,l=2,m=1,n=-1e3,o=-1e3,p=2;d=function(){__p&&__p();function a(b){__p&&__p();f(this,a);(c["default"].tablet||c["default"].phone)&&!navigator.isCocoonJS&&this.createTouchHook();var d=document.createElement("div");d.style.width=h+"px";d.style.height=h+"px";d.style.position="absolute";d.style.top=i+"px";d.style.left=k+"px";d.style.zIndex=l;this.div=d;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=b;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isActive=!1;this.isMobileAccessabillity=!1;window.addEventListener("keydown",this._onKeyDown,!1)}a.prototype.createTouchHook=function(){__p&&__p();var a=this,b=document.createElement("button");b.style.width=m+"px";b.style.height=m+"px";b.style.position="absolute";b.style.top=n+"px";b.style.left=o+"px";b.style.zIndex=p;b.style.backgroundColor="#FF0000";b.title="HOOK DIV";b.addEventListener("focus",function(){a.isMobileAccessabillity=!0,a.activate(),document.body.removeChild(b)});document.body.appendChild(b)};a.prototype.activate=function(){if(this.isActive)return;this.isActive=!0;window.document.addEventListener("mousemove",this._onMouseMove,!0);window.removeEventListener("keydown",this._onKeyDown,!1);this.renderer.on("postrender",this.update,this);this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div)};a.prototype.deactivate=function(){if(!this.isActive||this.isMobileAccessabillity)return;this.isActive=!1;window.document.removeEventListener("mousemove",this._onMouseMove);window.addEventListener("keydown",this._onKeyDown,!1);this.renderer.off("postrender",this.update);this.div.parentNode&&this.div.parentNode.removeChild(this.div)};a.prototype.updateAccessibleObjects=function(a){if(!a.visible)return;a.accessible&&a.interactive&&(a._accessibleActive||this.addChild(a),a.renderId=this.renderId);a=a.children;for(var b=0;b<a.length;b++)this.updateAccessibleObjects(a[b])};a.prototype.update=function(){__p&&__p();if(!this.renderer.renderingToScreen)return;this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),c=a.width/this.renderer.width,d=a.height/this.renderer.height,e=this.div;e.style.left=a.left+"px";e.style.top=a.top+"px";e.style.width=this.renderer.width+"px";e.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var f=this.children[a];if(f.renderId!==this.renderId)f._accessibleActive=!1,b.utils.removeItems(this.children,a,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,a--,this.children.length===0&&this.deactivate();else{e=f._accessibleDiv;var g=f.hitArea,h=f.worldTransform;f.hitArea?(e.style.left=(h.tx+g.x*h.a)*c+"px",e.style.top=(h.ty+g.y*h.d)*d+"px",e.style.width=g.width*h.a*c+"px",e.style.height=g.height*h.d*d+"px"):(g=f.getBounds(),this.capHitArea(g),e.style.left=g.x*c+"px",e.style.top=g.y*d+"px",e.style.width=g.width*c+"px",e.style.height=g.height*d+"px",e.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(e.title=f.accessibleTitle),e.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&e.setAttribute("aria-label",f.accessibleHint))}}this.renderId++};a.prototype.capHitArea=function(a){a.x<0&&(a.width+=a.x,a.x=0),a.y<0&&(a.height+=a.y,a.y=0),a.x+a.width>this.renderer.width&&(a.width=this.renderer.width-a.x),a.y+a.height>this.renderer.height&&(a.height=this.renderer.height-a.y)};a.prototype.addChild=function(a){__p&&__p();var b=this.pool.pop();b||(b=document.createElement("button"),b.style.width=h+"px",b.style.height=h+"px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=l,b.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?b.setAttribute("aria-live","off"):b.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?b.setAttribute("aria-relevant","additions"):b.setAttribute("aria-relevant","text"),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this)));a.accessibleTitle&&a.accessibleTitle!==null?b.title=a.accessibleTitle:(!a.accessibleHint||a.accessibleHint===null)&&(b.title="displayObject "+a.tabIndex);a.accessibleHint&&a.accessibleHint!==null&&b.setAttribute("aria-label",a.accessibleHint);a._accessibleActive=!0;a._accessibleDiv=b;b.displayObject=a;this.children.push(a);this.div.appendChild(a._accessibleDiv);a._accessibleDiv.tabIndex=a.tabIndex};a.prototype._onClick=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"click",b.eventData)};a.prototype._onFocus=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","assertive");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseover",b.eventData)};a.prototype._onFocusOut=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","polite");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseout",b.eventData)};a.prototype._onKeyDown=function(a){if(a.keyCode!==g)return;this.activate()};a.prototype._onMouseMove=function(a){if(a.movementX===0&&a.movementY===0)return;this.deactivate()};a.prototype.destroy=function(){this.div=null;for(var a=0;a<this.children.length;a++)this.children[a].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.pool=null;this.children=null;this.renderer=null};return a}();ni["default"]=d;b.WebGLRenderer.registerPlugin("accessibility",d);b.CanvasRenderer.registerPlugin("accessibility",d)}var qi=!1,ri=function(){qi||(qi=!0,pi());return oi.exports},si={},ti={exports:si};function ui(){si.__esModule=!0;var a=mi();Object.defineProperty(si,"accessibleTarget",{enumerable:!0,get:function(){return c(a)["default"]}});var b=ri();Object.defineProperty(si,"AccessibilityManager",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var vi=!1,wi=function(){vi||(vi=!0,ui());return ti.exports},xi={},yi={exports:xi};function zi(){__p&&__p();xi.__esModule=!0;var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=new b.Rectangle(),f=4;c=function(){__p&&__p();function a(b){d(this,a),this.renderer=b,b.extract=this}a.prototype.image=function(a){var b=new Image();b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){__p&&__p();var c=this.renderer,d=void 0,g=void 0,h=void 0,i=!1,j=void 0,k=!1;a&&(a instanceof b.RenderTexture?j=a:(j=this.renderer.generateTexture(a),k=!0));j?(d=j.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],g=d.resolution,h=j.frame,i=!1):(d=this.renderer.rootRenderTarget,g=d.resolution,i=!0,h=e,h.width=d.size.width,h.height=d.size.height);a=h.width*g;var l=h.height*g,m=new b.CanvasRenderTarget(a,l);if(d){c.bindRenderTarget(d);d=new Uint8Array(f*a*l);c=c.gl;c.readPixels(h.x*g,h.y*g,a,l,c.RGBA,c.UNSIGNED_BYTE,d);h=m.context.getImageData(0,0,a,l);h.data.set(d);m.context.putImageData(h,0,0);i&&(m.context.scale(1,-1),m.context.drawImage(m.canvas,0,-l))}k&&j.destroy(!0);return m.canvas};a.prototype.pixels=function(a){__p&&__p();var c=this.renderer,d=void 0,g=void 0,h=void 0,i=void 0,j=!1;a&&(a instanceof b.RenderTexture?i=a:(i=this.renderer.generateTexture(a),j=!0));i?(d=i.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],g=d.resolution,h=i.frame):(d=this.renderer.rootRenderTarget,g=d.resolution,h=e,h.width=d.size.width,h.height=d.size.height);a=h.width*g;var k=h.height*g,l=new Uint8Array(f*a*k);if(d){c.bindRenderTarget(d);d=c.gl;d.readPixels(h.x*g,h.y*g,a,k,d.RGBA,d.UNSIGNED_BYTE,l)}j&&i.destroy(!0);return l};a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};return a}();xi["default"]=c;b.WebGLRenderer.registerPlugin("extract",c)}var Ai=!1,Bi=function(){Ai||(Ai=!0,zi());return yi.exports},Ci={},Di={exports:Ci};function Ei(){__p&&__p();Ci.__esModule=!0;var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=new b.Rectangle();c=function(){__p&&__p();function a(b){d(this,a),this.renderer=b,b.extract=this}a.prototype.image=function(a){var b=new Image();b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,d=void 0,f=void 0,g=void 0,h=void 0;a&&(a instanceof b.RenderTexture?h=a:h=c.generateTexture(a));h?(d=h.baseTexture._canvasRenderTarget.context,f=h.baseTexture._canvasRenderTarget.resolution,g=h.frame):(d=c.rootContext,g=e,g.width=this.renderer.width,g.height=this.renderer.height);a=g.width*f;h=g.height*f;c=new b.CanvasRenderTarget(a,h);d=d.getImageData(g.x*f,g.y*f,a,h);c.context.putImageData(d,0,0);return c.canvas};a.prototype.pixels=function(a){var c=this.renderer,d=void 0,f=void 0;a&&(a instanceof b.RenderTexture?f=a:f=c.generateTexture(a));f?(a=f.baseTexture._canvasRenderTarget.context,d=f.baseTexture._canvasRenderTarget.resolution,f=f.frame):(a=c.rootContext,f=e,f.width=c.width,f.height=c.height);return a.getImageData(0,0,f.width*d,f.height*d).data};a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};return a}();Ci["default"]=c;b.CanvasRenderer.registerPlugin("extract",c)}var Fi=!1,Gi=function(){Fi||(Fi=!0,Ei());return Di.exports},Hi={},Ii={exports:Hi};function Ji(){Hi.__esModule=!0;var a=Bi();Object.defineProperty(Hi,"webgl",{enumerable:!0,get:function(){return c(a)["default"]}});var b=Gi();Object.defineProperty(Hi,"canvas",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var Ki=!1,Li=function(){Ki||(Ki=!0,Ji());return Ii.exports},Mi={},Ni={exports:Mi};function Oi(){__p&&__p();Mi.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(b){__p&&__p();g(d,b);function d(a,g){__p&&__p();e(this,d);var h=f(this,b.call(this,a[0]instanceof c.Texture?a[0]:a[0].texture));h._textures=null;h._durations=null;h.textures=a;h._autoUpdate=g!==!1;h.animationSpeed=1;h.loop=!0;h.onComplete=null;h.onFrameChange=null;h.onLoop=null;h._currentTime=0;h.playing=!1;return h}d.prototype.stop=function(){if(!this.playing)return;this.playing=!1;this._autoUpdate&&c.ticker.shared.remove(this.update,this)};d.prototype.play=function(){if(this.playing)return;this.playing=!0;this._autoUpdate&&c.ticker.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH)};d.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture()};d.prototype.gotoAndPlay=function(a){var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture();this.play()};d.prototype.update=function(a){__p&&__p();var b=this.animationSpeed*a,c=this.currentFrame;if(this._durations!==null){var d=this._currentTime%1*this._durations[this.currentFrame];d+=b/60*1e3;while(d<0)this._currentTime--,d+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);this._currentTime=Math.floor(this._currentTime);while(d>=this._durations[this.currentFrame])d-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=b;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c?this.onLoop():this.animationSpeed<0&&this.currentFrame>c&&this.onLoop()),this.updateTexture())};d.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)};d.prototype.destroy=function(a){this.stop(),b.prototype.destroy.call(this,a)};d.fromFrames=function(a){var b=[];for(var e=0;e<a.length;++e)b.push(c.Texture.fromFrame(a[e]));return new d(b)};d.fromImages=function(a){var b=[];for(var e=0;e<a.length;++e)b.push(c.Texture.fromImage(a[e]));return new d(b)};a(d,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(a){if(a[0]instanceof c.Texture)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this.gotoAndStop(0);this.updateTexture()}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;a<0&&(a+=this._textures.length);return a}}]);return d}(c.Sprite);Mi["default"]=d}var Pi=!1,Qi=function(){Pi||(Pi=!0,Oi());return Ni.exports},Ri={},Si={exports:Ri};function Ti(){__p&&__p();Ri.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=f(b);f=Md();var d=e(f);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var j=new c.Point();b=function(b){__p&&__p();i(e,b);function e(a){__p&&__p();var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;g(this,e);var i=h(this,b.call(this,a));i.tileTransform=new c.TransformStatic();i._width=d;i._height=f;i._canvasPattern=null;i.uvTransform=a.transform||new c.TextureMatrix(a);i.pluginName="tilingSprite";i.uvRespectAnchor=!1;return i}e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215};e.prototype._renderWebGL=function(a){var b=this._texture;if(!b||!b.valid)return;this.tileTransform.updateLocalTransform();this.uvTransform.update();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function(a){__p&&__p();var b=this._texture;if(!b.baseTexture.hasLoaded)return;var e=a.context,f=this.worldTransform,g=a.resolution,h=b.baseTexture,i=h.resolution,j=this.tilePosition.x/this.tileScale.x%b._frame.width*i,k=this.tilePosition.y/this.tileScale.y%b._frame.height*i;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new c.CanvasRenderTarget(b._frame.width,b._frame.height,i);this.tint!==16777215?(this.tintedTexture=d["default"].getTintedTexture(this,this.tint),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(h.source,-b._frame.x*i,-b._frame.y*i);this.cachedTint=this.tint;this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}e.globalAlpha=this.worldAlpha;e.setTransform(f.a*g,f.b*g,f.c*g,f.d*g,f.tx*g,f.ty*g);a.setBlendMode(this.blendMode);e.fillStyle=this._canvasPattern;e.scale(this.tileScale.x/i,this.tileScale.y/i);h=this.anchor.x*-this._width;b=this.anchor.y*-this._height;this.uvRespectAnchor?(e.translate(j,k),e.fillRect(-j+h,-k+b,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)):(e.translate(j+h,k+b),e.fillRect(-j,-k,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i))};e.prototype._calculateBounds=function(){var a=this._width*-this._anchor._x,b=this._height*-this._anchor._y,c=this._width*(1-this._anchor._x),d=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,a,b,c,d)};e.prototype.getLocalBounds=function(a){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._y);a||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle()),a=this._localBoundsRect);return this._bounds.getRectangle(a)}return b.prototype.getLocalBounds.call(this,a)};e.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,j);a=this._width;var b=this._height,c=-a*this.anchor._x;if(j.x>=c&&j.x<c+a){c=-b*this.anchor._y;if(j.y>=c&&j.y<c+b)return!0}return!1};e.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.tileTransform=null,this.uvTransform=null};e.from=function(a,b,d){return new e(c.Texture.from(a),b,d)};e.fromFrame=function(a,b,d){var f=c.utils.TextureCache[a];if(!f)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new e(f,b,d)};e.fromImage=function(a,b,d,f,g){return new e(c.Texture.fromImage(a,f,g),b,d)};a(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copy(a)}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return e}(c.Sprite);Ri["default"]=b}var Ui=!1,Vi=function(){Ui||(Ui=!0,Ti());return Si.exports},Wi={},Xi={exports:Wi};function Yi(){__p&&__p();Wi.__esModule=!0;var a=V(),b=d(a),c=K();function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=new b.Matrix();d=function(a){__p&&__p();g(d,a);function d(b){e(this,d);b=f(this,a.call(this,b));b.shader=null;b.simpleShader=null;b.quad=null;return b}d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");this.renderer.bindVao(null);this.quad=new b.Quad(a,this.renderer.state.attribState);this.quad.initVao(this.shader)};d.prototype.render=function(a){__p&&__p();var d=this.renderer,e=this.quad;d.bindVao(e.vao);var f=e.vertices;f[0]=f[6]=a._width*-a.anchor.x;f[1]=f[3]=a._height*-a.anchor.y;f[2]=f[4]=a._width*(1-a.anchor.x);f[5]=f[7]=a._height*(1-a.anchor.y);a.uvRespectAnchor&&(f=e.uvs,f[0]=f[6]=-a.anchor.x,f[1]=f[3]=-a.anchor.y,f[2]=f[4]=1-a.anchor.x,f[5]=f[7]=1-a.anchor.y);e.upload();f=a._texture;var g=f.baseTexture,i=a.tileTransform.localTransform,j=a.uvTransform,k=g.isPowerOfTwo&&f.frame.width===g.width&&f.frame.height===g.height;k&&(!g._glTextures[d.CONTEXT_UID]?g.wrapMode===c.WRAP_MODES.CLAMP&&(g.wrapMode=c.WRAP_MODES.REPEAT):k=g.wrapMode!==c.WRAP_MODES.CLAMP);var l=k?this.simpleShader:this.shader;d.bindShader(l);var m=f.width,n=f.height,o=a._width,p=a._height;h.set(i.a*m/o,i.b*m/p,i.c*n/o,i.d*n/p,i.tx/o,i.ty/p);h.invert();k?h.prepend(j.mapCoord):(l.uniforms.uMapCoord=j.mapCoord.toArray(!0),l.uniforms.uClampFrame=j.uClampFrame,l.uniforms.uClampOffset=j.uClampOffset);l.uniforms.uTransform=h.toArray(!0);l.uniforms.uColor=b.utils.premultiplyTintToRgba(a.tint,a.worldAlpha,l.uniforms.uColor,g.premultipliedAlpha);l.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);l.uniforms.uSampler=d.bindTexture(f);d.setBlendMode(b.utils.correctBlendMode(a.blendMode,g.premultipliedAlpha));e.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return d}(b.ObjectRenderer);Wi["default"]=d;b.WebGLRenderer.registerPlugin("tilingSprite",d)}var Zi=!1,$i=function(){Zi||(Zi=!0,Yi());return Xi.exports},aj={},bj={exports:aj};function cj(){__p&&__p();aj.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=ia();var d=g(h),e=S();b=Q();var f=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h=function(b){__p&&__p();k(g,b);function g(a){__p&&__p();var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,g);var e=j(this,b.call(this));e._textWidth=0;e._textHeight=0;e._glyphs=[];e._font={tint:c.tint!==void 0?c.tint:16777215,align:c.align||"left",name:null,size:0};e.font=c.font;e._text=a;e._maxWidth=0;e._maxLineHeight=0;e._letterSpacing=0;e._anchor=new d["default"](function(){e.dirty=!0},e,0,0);e.dirty=!1;e.updateText();return e}g.prototype.updateText=function(){__p&&__p();var a=g.fonts[this._font.name],b=this._font.size/a.size,d=new c.Point(),e=[],f=[],h=this.text.replace(/(?:\r\n|\r)/g,"\n"),i=h.length,j=this._maxWidth*a.size/this._font.size,k=null,l=0,m=0,n=0,o=-1,p=0,q=0,r=0;for(var s=0;s<i;s++){var t=h.charCodeAt(s),u=h.charAt(s);/(?:\s)/.test(u)&&(o=s,p=l);if(u==="\r"||u==="\n"){f.push(l);m=Math.max(m,l);++n;++q;d.x=0;d.y+=a.lineHeight;k=null;continue}u=a.chars[t];if(!u)continue;k&&u.kerning[k]&&(d.x+=u.kerning[k]);e.push({texture:u.texture,line:n,charCode:t,position:new c.Point(d.x+u.xOffset+this._letterSpacing/2,d.y+u.yOffset)});d.x+=u.xAdvance+this._letterSpacing;l=d.x;r=Math.max(r,u.yOffset+u.texture.height);k=t;o!==-1&&j>0&&d.x>j&&(++q,c.utils.removeItems(e,1+o-q,1+s-o),s=o,o=-1,f.push(p),m=Math.max(m,p),n++,d.x=0,d.y+=a.lineHeight,k=null)}u=h.charAt(h.length-1);u!=="\r"&&u!=="\n"&&(/(?:\s)/.test(u)&&(l=p),f.push(l),m=Math.max(m,l));t=[];for(var s=0;s<=n;s++){o=0;this._font.align==="right"?o=m-f[s]:this._font.align==="center"&&(o=(m-f[s])/2);t.push(o)}j=e.length;k=this.tint;for(var q=0;q<j;q++){i=this._glyphs[q];i?i.texture=e[q].texture:(i=new c.Sprite(e[q].texture),this._glyphs.push(i));i.position.x=(e[q].position.x+t[e[q].line])*b;i.position.y=e[q].position.y*b;i.scale.x=i.scale.y=b;i.tint=k;i.parent||this.addChild(i)}for(var h=j;h<this._glyphs.length;++h)this.removeChild(this._glyphs[h]);this._textWidth=m*b;this._textHeight=(d.y+a.lineHeight)*b;if(this.anchor.x!==0||this.anchor.y!==0)for(var u=0;u<j;u++)this._glyphs[u].x-=this._textWidth*this.anchor.x,this._glyphs[u].y-=this._textHeight*this.anchor.y;this._maxLineHeight=r*b};g.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()};g.prototype.getLocalBounds=function(){this.validate();return b.prototype.getLocalBounds.call(this)};g.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};g.registerFont=function(a,b){__p&&__p();var d={},h=a.getElementsByTagName("info")[0],i=a.getElementsByTagName("common")[0],j=a.getElementsByTagName("page"),k=e.getResolutionOfUrl(j[0].getAttribute("file"),f["default"].RESOLUTION),l={};d.font=h.getAttribute("face");d.size=parseInt(h.getAttribute("size"),10);d.lineHeight=parseInt(i.getAttribute("lineHeight"),10)/k;d.chars={};b instanceof c.Texture&&(b=[b]);for(var h=0;h<j.length;h++){i=j[h].getAttribute("id");var m=j[h].getAttribute("file");l[i]=b instanceof Array?b[h]:b[m]}i=a.getElementsByTagName("char");for(var m=0;m<i.length;m++){h=i[m];j=parseInt(h.getAttribute("id"),10);b=h.getAttribute("page")||0;var n=new c.Rectangle(parseInt(h.getAttribute("x"),10)/k+l[b].frame.x/k,parseInt(h.getAttribute("y"),10)/k+l[b].frame.y/k,parseInt(h.getAttribute("width"),10)/k,parseInt(h.getAttribute("height"),10)/k);d.chars[j]={xOffset:parseInt(h.getAttribute("xoffset"),10)/k,yOffset:parseInt(h.getAttribute("yoffset"),10)/k,xAdvance:parseInt(h.getAttribute("xadvance"),10)/k,kerning:{},texture:new c.Texture(l[b].baseTexture,n),page:b}}j=a.getElementsByTagName("kerning");for(var h=0;h<j.length;h++){n=j[h];b=parseInt(n.getAttribute("first"),10)/k;m=parseInt(n.getAttribute("second"),10)/k;i=parseInt(n.getAttribute("amount"),10)/k;d.chars[m]&&(d.chars[m].kerning[b]=i)}g.fonts[d.font]=d;return d};a(g,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint=typeof a==="number"&&a>=0?a:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){typeof a==="number"?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){if(!a)return;typeof a==="string"?(a=a.split(" "),this._font.name=a.length===1?a[0]:a.slice(1).join(" "),this._font.size=a.length>=2?parseInt(a[0],10):g.fonts[this._font.name].size):(this._font.name=a.name,this._font.size=typeof a.size==="number"?a.size:parseInt(a.size,10));this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";if(this._text===a)return;this._text=a;this.dirty=!0}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(a){if(this._maxWidth===a)return;this._maxWidth=a;this.dirty=!0}},{key:"maxLineHeight",get:function(){this.validate();return this._maxLineHeight}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);return g}(c.Container);aj["default"]=h;h.fonts={}}var dj=!1,ej=function(){dj||(dj=!0,cj());return bj.exports};f={};var fj={exports:f};function gj(){__p&&__p();var a=V(),b=g(a);g=T();var c=f(g);a=mc();var d=f(a),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}g=b.DisplayObject;var i=new b.Matrix();g.prototype._cacheAsBitmap=!1;g.prototype._cacheData=!1;var j=function a(){h(this,a),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(g.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){if(this._cacheAsBitmap===a)return;this._cacheAsBitmap=a;var b=void 0;a?(this._cacheData||(this._cacheData=new j()),b=this._cacheData,b.originalRenderWebGL=this.renderWebGL,b.originalRenderCanvas=this.renderCanvas,b.originalUpdateTransform=this.updateTransform,b.originalCalculateBounds=this._calculateBounds,b.originalGetLocalBounds=this.getLocalBounds,b.originalDestroy=this.destroy,b.originalContainsPoint=this.containsPoint,b.originalMask=this._mask,b.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(b=this._cacheData,b.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=b.originalRenderWebGL,this.renderCanvas=b.originalRenderCanvas,this._calculateBounds=b.originalCalculateBounds,this.getLocalBounds=b.originalGetLocalBounds,this.destroy=b.originalDestroy,this.updateTransform=b.originalUpdateTransform,this.containsPoint=b.originalContainsPoint,this._mask=b.originalMask,this.filterArea=b.originalFilterArea)}}});g.prototype._renderCachedWebGL=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._initCachedDisplayObject(a);this._cacheData.sprite._transformID=-1;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderWebGL(a)};g.prototype._initCachedDisplayObject=function(a){__p&&__p();if(this._cacheData&&this._cacheData.sprite)return;var f=this.alpha;this.alpha=1;a.currentRenderer.flush();var g=this.getLocalBounds().clone();if(this._filters){var h=this._filters[0].padding;g.pad(h)}h=a._activeRenderTarget;var j=a.filterManager.filterStack,k=b.RenderTexture.create(g.width|0,g.height|0),l="cacheAsBitmap_"+e.uid();this._cacheData.textureCacheId=l;d["default"].addToCache(k.baseTexture,l);c["default"].addToCache(k,l);l=i;l.tx=-g.x;l.ty=-g.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;a.render(this,k,!0,l,!0);a.bindRenderTarget(h);a.filterManager.filterStack=j;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this._mask=null;this.filterArea=null;l=new b.Sprite(k);l.transform.worldTransform=this.transform.worldTransform;l.anchor.x=-(g.x/g.width);l.anchor.y=-(g.y/g.height);l.alpha=f;l._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=l;this.transform._parentID=-1;!this.parent?(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null):this.updateTransform();this.containsPoint=l.containsPoint.bind(l)};g.prototype._renderCachedCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._initCachedDisplayObjectCanvas(a);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite.renderCanvas(a)};g.prototype._initCachedDisplayObjectCanvas=function(a){__p&&__p();if(this._cacheData&&this._cacheData.sprite)return;var f=this.getLocalBounds(),g=this.alpha;this.alpha=1;var h=a.context,j=b.RenderTexture.create(f.width|0,f.height|0),k="cacheAsBitmap_"+e.uid();this._cacheData.textureCacheId=k;d["default"].addToCache(j.baseTexture,k);c["default"].addToCache(j,k);k=i;this.transform.localTransform.copy(k);k.invert();k.tx-=f.x;k.ty-=f.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,j,!0,k,!1);a.context=h;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this._mask=null;this.filterArea=null;k=new b.Sprite(j);k.transform.worldTransform=this.transform.worldTransform;k.anchor.x=-(f.x/f.width);k.anchor.y=-(f.y/f.height);k._bounds=this._bounds;k.alpha=g;!this.parent?(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null):this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=k;this.containsPoint=k.containsPoint.bind(k)};g.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};g.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};g.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,d["default"].removeFromCache(this._cacheData.textureCacheId),c["default"].removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};g.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1,this.destroy(a)}}var hj=!1,ij=function(){hj||(hj=!0,gj());return fj.exports};c={};var jj={exports:c};function kj(){__p&&__p();var a=V();b=b(a);function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}b.DisplayObject.prototype.name=null;b.Container.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null}}var lj=!1,mj=function(){lj||(lj=!0,kj());return jj.exports};b={};var nj={exports:b};function oj(){__p&&__p();var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}b.DisplayObject.prototype.getGlobalPosition=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new b.Point(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,a,c):(a.x=this.position.x,a.y=this.position.y);return a}}var pj=!1,qj=function(){pj||(pj=!0,oj());return nj.exports},W={},rj={exports:W};function sj(){__p&&__p();W.__esModule=!0;W.BitmapText=W.TilingSpriteRenderer=W.TilingSprite=W.AnimatedSprite=void 0;var a=Qi();Object.defineProperty(W,"AnimatedSprite",{enumerable:!0,get:function(){return e(a)["default"]}});var b=Vi();Object.defineProperty(W,"TilingSprite",{enumerable:!0,get:function(){return e(b)["default"]}});var c=$i();Object.defineProperty(W,"TilingSpriteRenderer",{enumerable:!0,get:function(){return e(c)["default"]}});var d=ej();Object.defineProperty(W,"BitmapText",{enumerable:!0,get:function(){return e(d)["default"]}});ij();mj();qj();function e(a){return a&&a.__esModule?a:{"default":a}}}var tj=!1,uj=function(){tj||(tj=!0,sj());return rj.exports},vj={},wj={exports:vj};function xj(){__p&&__p();vj.__esModule=!0;var a=V();b=b(a);function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(){c(this,b);return d(this,a.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return b}(b.Filter);vj["default"]=a}var yj=!1,zj=function(){yj||(yj=!0,xj());return wj.exports},Aj={},Bj={exports:Aj};function Cj(){__p&&__p();Aj.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){__p&&__p();f(c,b);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();d(this,c);var g=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));g.noise=a;g.seed=f;return g}a(c,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a}}]);return c}(c.Filter);Aj["default"]=b}var Dj=!1,Ej=function(){Dj||(Dj=!0,Cj());return Bj.exports},Fj={},Gj={exports:Fj};function Hj(){__p&&__p();Fj.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(b){__p&&__p();g(d,b);function d(a,g){__p&&__p();e(this,d);var h=new c.Matrix();a.renderable=!1;var i=f(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));i.maskSprite=a;i.maskMatrix=h;i.uniforms.mapSampler=a._texture;i.uniforms.filterMatrix=h;i.uniforms.scale={x:1,y:1};(g===null||g===void 0)&&(g=20);i.scale=new c.Point(g,g);return i}d.prototype.apply=function(a,b,c){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,a.applyFilter(this,b,c)};a(d,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]);return d}(c.Filter);Fj["default"]=d}var Ij=!1,Jj=function(){Ij||(Ij=!0,Hj());return Gj.exports},Kj={},Lj={exports:Kj};function Mj(){__p&&__p();Kj.__esModule=!0;Kj["default"]=b;var a=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function b(b,c){__p&&__p();var d=Math.ceil(b/2),e=a,f="",g=void 0;c?g="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":g="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var c=0;c<b;c++){var h=g.replace("%index%",c);h=h.replace("%sampleIndex%",c-(d-1)+".0");f+=h;f+="\n"}e=e.replace("%blur%",f);e=e.replace("%size%",b);return e}}var Nj=!1,Oj=function(){Nj||(Nj=!0,Mj());return Lj.exports},Pj={},Qj={exports:Pj};function Rj(){__p&&__p();Pj.__esModule=!0;Pj["default"]=c;var a={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},b=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function c(c){__p&&__p();var d=a[c],e=d.length,f=b,g="",h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",i;for(var j=0;j<c;j++){var k=h.replace("%index%",j);i=j;j>=e&&(i=c-j-1);k=k.replace("%value%",d[i]);g+=k;g+="\n"}f=f.replace("%blur%",g);f=f.replace("%size%",c);return f}}var Sj=!1,Tj=function(){Sj||(Sj=!0,Rj());return Qj.exports},Uj={},Vj={exports:Uj};function Wj(){Uj.__esModule=!0;Uj["default"]=a;function a(a){a=a.getParameter(a.MAX_VARYING_VECTORS);var b=15;while(b>a)b-=2;return b}}var Xj=!1,Yj=function(){Xj||(Xj=!0,Wj());return Vj.exports},Zj={},$j={exports:Zj};function ak(){__p&&__p();Zj.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=Oj();var d=g(h);b=Tj();var e=g(b);h=Yj();var f=g(h);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){__p&&__p();k(g,b);function g(a,f,h,k){__p&&__p();i(this,g);k=k||5;var l=d["default"](k,!0);k=e["default"](k);l=j(this,b.call(this,l,k));l.resolution=h||c.settings.RESOLUTION;l._quality=0;l.quality=f||4;l.strength=a||8;l.firstRun=!0;return l}g.prototype.apply=function(a,b,c,g){__p&&__p();if(this.firstRun){var h=a.renderer.gl;h=f["default"](h);this.vertexSrc=d["default"](h,!0);this.fragmentSrc=e["default"](h);this.firstRun=!1}this.uniforms.strength=1/c.size.width*(c.size.width/b.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1)a.applyFilter(this,b,c,g);else{h=a.getRenderTarget(!0);b=b;var i=h;for(var j=0;j<this.passes-1;j++){a.applyFilter(this,b,i,!0);var k=i;i=b;b=k}a.applyFilter(this,b,c,g);a.returnRenderTarget(h)}};a(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=Math.abs(a)*2,this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]);return g}(c.Filter);Zj["default"]=b}var bk=!1,ck=function(){bk||(bk=!0,ak());return $j.exports},dk={},ek={exports:dk};function fk(){__p&&__p();dk.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=Oj();var d=g(h);b=Tj();var e=g(b);h=Yj();var f=g(h);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){__p&&__p();k(g,b);function g(a,f,h,k){__p&&__p();i(this,g);k=k||5;var l=d["default"](k,!1);k=e["default"](k);l=j(this,b.call(this,l,k));l.resolution=h||c.settings.RESOLUTION;l._quality=0;l.quality=f||4;l.strength=a||8;l.firstRun=!0;return l}g.prototype.apply=function(a,b,c,g){__p&&__p();if(this.firstRun){var h=a.renderer.gl;h=f["default"](h);this.vertexSrc=d["default"](h,!1);this.fragmentSrc=e["default"](h);this.firstRun=!1}this.uniforms.strength=1/c.size.height*(c.size.height/b.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1)a.applyFilter(this,b,c,g);else{h=a.getRenderTarget(!0);b=b;var i=h;for(var j=0;j<this.passes-1;j++){a.applyFilter(this,b,i,!0);var k=i;i=b;b=k}a.applyFilter(this,b,c,g);a.returnRenderTarget(h)}};a(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=Math.abs(a)*2,this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]);return g}(c.Filter);dk["default"]=b}var gk=!1,hk=function(){gk||(gk=!0,fk());return ek.exports},ik={},jk={exports:ik};function kk(){__p&&__p();ik.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=g(b);g=ck();var d=f(g);b=hk();var e=f(b);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(b){__p&&__p();j(f,b);function f(a,g,j,k){h(this,f);var l=i(this,b.call(this));l.blurXFilter=new d["default"](a,g,j,k);l.blurYFilter=new e["default"](a,g,j,k);l.padding=0;l.resolution=j||c.settings.RESOLUTION;l.quality=g||4;l.blur=a||8;return l}f.prototype.apply=function(a,b,c){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,b,d,!0);this.blurYFilter.apply(a,d,c,!1);a.returnRenderTarget(d)};a(f,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(a){this.blurYFilter._blendMode=a}}]);return f}(c.Filter);ik["default"]=g}var lk=!1,mk=function(){lk||(lk=!0,kk());return jk.exports},nk={},ok={exports:nk};function pk(){__p&&__p();nk.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){__p&&__p();f(c,b);function c(){d(this,c);var a=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));a.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];a.alpha=1;return a}c.prototype._loadMatrix=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=a;b&&(this._multiply(c,this.uniforms.m,a),c=this._colorMatrix(c));this.uniforms.m=c};c.prototype._multiply=function(a,b,c){__p&&__p();a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15];a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16];a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17];a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18];a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19]+b[4];a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15];a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16];a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17];a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18];a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19]+b[9];a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15];a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16];a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17];a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18];a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19]+b[14];a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15];a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16];a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17];a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18];a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19]+b[19];return a};c.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;a[9]/=255;a[14]/=255;a[19]/=255;return a};c.prototype.brightness=function(a,b){a=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.greyscale=function(a,b){a=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.blackAndWhite=function(a){var b=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.hue=function(a,b){__p&&__p();a=(a||0)/180*Math.PI;var c=Math.cos(a);a=Math.sin(a);var d=Math.sqrt,e=1/3;d=d(e);var f=c+(1-c)*e,g=e*(1-c)-d*a,h=e*(1-c)+d*a,i=e*(1-c)+d*a,j=c+e*(1-c),k=e*(1-c)-d*a,l=e*(1-c)-d*a;d=e*(1-c)+d*a;a=c+e*(1-c);e=[f,g,h,0,0,i,j,k,0,0,l,d,a,0,0,0,0,0,1,0];this._loadMatrix(e,b)};c.prototype.contrast=function(a,b){a=(a||0)+1;var c=-.5*(a-1);a=[a,0,0,0,c,0,a,0,0,c,0,0,a,0,c,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.saturate=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments[1],c=a*2/3+1,d=(c-1)*-.5,e=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(e,b)};c.prototype.desaturate=function(){this.saturate(-1)};c.prototype.negative=function(a){var b=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.sepia=function(a){var b=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.technicolor=function(a){var b=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.polaroid=function(a){var b=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.toBGR=function(a){var b=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.kodachrome=function(a){var b=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.browni=function(a){var b=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.vintage=function(a){var b=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.colorTone=function(a,b,c,d,e){__p&&__p();a=a||.2;b=b||.15;c=c||16770432;d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255;c=(c&255)/255;var h=(d>>16&255)/255,i=(d>>8&255)/255;d=(d&255)/255;a=[.3,.59,.11,0,0,f,g,c,a,0,h,i,d,b,0,f-h,g-i,c-d,0,0];this._loadMatrix(a,e)};c.prototype.night=function(a,b){a=a||.1;a=[a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.predator=function(a,b){a=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.lsd=function(a){var b=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)};a(c,[{key:"matrix",get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return c}(c.Filter);nk["default"]=b;b.prototype.grayscale=b.prototype.greyscale}var qk=!1,rk=function(){qk||(qk=!0,pk());return ok.exports},sk={},tk={exports:sk};function uk(){__p&&__p();sk.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){__p&&__p();f(c,b);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;d(this,c);var f=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));f.alpha=a;f.glShaderKey="alpha";return f}a(c,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return c}(c.Filter);sk["default"]=b}var vk=!1,wk=function(){vk||(vk=!0,uk());return tk.exports},X={},xk={exports:X};function yk(){__p&&__p();X.__esModule=!0;var a=zj();Object.defineProperty(X,"FXAAFilter",{enumerable:!0,get:function(){return i(a)["default"]}});var b=Ej();Object.defineProperty(X,"NoiseFilter",{enumerable:!0,get:function(){return i(b)["default"]}});var c=Jj();Object.defineProperty(X,"DisplacementFilter",{enumerable:!0,get:function(){return i(c)["default"]}});var d=mk();Object.defineProperty(X,"BlurFilter",{enumerable:!0,get:function(){return i(d)["default"]}});var e=ck();Object.defineProperty(X,"BlurXFilter",{enumerable:!0,get:function(){return i(e)["default"]}});var f=hk();Object.defineProperty(X,"BlurYFilter",{enumerable:!0,get:function(){return i(f)["default"]}});var g=rk();Object.defineProperty(X,"ColorMatrixFilter",{enumerable:!0,get:function(){return i(g)["default"]}});var h=wk();Object.defineProperty(X,"AlphaFilter",{enumerable:!0,get:function(){return i(h)["default"]}});function i(a){return a&&a.__esModule?a:{"default":a}}}var zk=!1,Ak=function(){zk||(zk=!0,yk());return xk.exports},Bk={},Ck={exports:Bk};function Dk(){__p&&__p();Bk.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function b(){e(this,b),this.global=new c.Point(),this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}b.prototype.getLocalPosition=function(a,b,c){return a.worldTransform.applyInverse(c||this.global,b)};b.prototype.copyEvent=function(a){a.isPrimary&&(this.isPrimary=!0),this.button=a.button,this.buttons=Number.isInteger(a.buttons)?a.buttons:a.which,this.width=a.width,this.height=a.height,this.tiltX=a.tiltX,this.tiltY=a.tiltY,this.pointerType=a.pointerType,this.pressure=a.pressure,this.rotationAngle=a.rotationAngle,this.twist=a.twist||0,this.tangentialPressure=a.tangentialPressure||0};b.prototype.reset=function(){this.isPrimary=!1};a(b,[{key:"pointerId",get:function(){return this.identifier}}]);return b}();Bk["default"]=d}var Ek=!1,Fk=function(){Ek||(Ek=!0,Dk());return Ck.exports},Gk={},Hk={exports:Gk};function Ik(){__p&&__p();Gk.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(){a(this,b),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}b.prototype.stopPropagation=function(){this.stopped=!0};b.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};return b}();Gk["default"]=b}var Jk=!1,Kk=function(){Jk||(Jk=!0,Ik());return Hk.exports},Lk={},Mk={exports:Lk};function Nk(){__p&&__p();Lk.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){__p&&__p();function c(a){b(this,c),this._pointerId=a,this._flags=c.FLAGS.NONE}c.prototype._doSet=function(a,b){b?this._flags=this._flags|a:this._flags=this._flags&~a};a(c,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(a){this._flags=a}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!==0},set:function(a){this._doSet(this.constructor.FLAGS.OVER,a)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0},set:function(a){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,a)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0},set:function(a){this._doSet(this.constructor.FLAGS.LEFT_DOWN,a)}}]);return c}();Lk["default"]=c;c.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})}var Ok=!1,Pk=function(){Ok||(Ok=!0,Nk());return Mk.exports},Qk={},Rk={exports:Qk};function Sk(){Qk.__esModule=!0,Qk["default"]={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(a){a?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){this._trackedPointers===void 0&&(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0}}var Tk=!1,Uk=function(){Tk||(Tk=!0,Sk());return Rk.exports},Vk={},Wk={exports:Vk};function Xk(){__p&&__p();Vk.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=V(),c=h(b);h=Fk();var d=g(h);b=Kk();var e=g(b);h=Pk();var f=g(h);b=i();h=g(b);b=Uk();g=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.utils.mixins.delayMixin(c.DisplayObject.prototype,g["default"]);var m=1,n={target:null,data:{global:null}};b=function(b){__p&&__p();l(g,b);function g(a,f){__p&&__p();j(this,g);var h=k(this,b.call(this));f=f||{};h.renderer=a;h.autoPreventDefault=f.autoPreventDefault!==void 0?f.autoPreventDefault:!0;h.interactionFrequency=f.interactionFrequency||10;h.mouse=new d["default"]();h.mouse.identifier=m;h.mouse.global.set(-999999);h.activeInteractionData={};h.activeInteractionData[m]=h.mouse;h.interactionDataPool=[];h.eventData=new e["default"]();h.interactionDOMElement=null;h.moveWhenInside=!1;h.eventsAdded=!1;h.mouseOverRenderer=!1;h.supportsTouchEvents="ontouchstart"in window;h.supportsPointerEvents=!!window.PointerEvent;h.onPointerUp=h.onPointerUp.bind(h);h.processPointerUp=h.processPointerUp.bind(h);h.onPointerCancel=h.onPointerCancel.bind(h);h.processPointerCancel=h.processPointerCancel.bind(h);h.onPointerDown=h.onPointerDown.bind(h);h.processPointerDown=h.processPointerDown.bind(h);h.onPointerMove=h.onPointerMove.bind(h);h.processPointerMove=h.processPointerMove.bind(h);h.onPointerOut=h.onPointerOut.bind(h);h.processPointerOverOut=h.processPointerOverOut.bind(h);h.onPointerOver=h.onPointerOver.bind(h);h.cursorStyles={"default":"inherit",pointer:"pointer"};h.currentCursorMode=null;h.cursor=null;h._tempPoint=new c.Point();h.resolution=1;h.setTargetElement(h.renderer.view,h.renderer.resolution);return h}g.prototype.hitTest=function(a,b){n.target=null;n.data.global=a;b||(b=this.renderer._lastObjectRendered);this.processInteractive(n,b,null,!0);return n.target};g.prototype.setTargetElement=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents()};g.prototype.addEvents=function(){if(!this.interactionDOMElement)return;c.ticker.shared.add(this.update,this,c.UPDATE_PRIORITY.INTERACTION);window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none");this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0));this.eventsAdded=!0};g.prototype.removeEvents=function(){if(!this.interactionDOMElement)return;c.ticker.shared.remove(this.update,this);window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="");this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0));this.interactionDOMElement=null;this.eventsAdded=!1};g.prototype.update=function(a){__p&&__p();this._deltaTime+=a;if(this._deltaTime<this.interactionFrequency)return;this._deltaTime=0;if(!this.interactionDOMElement)return;if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var b in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(b)){a=this.activeInteractionData[b];if(a.originalEvent&&a.pointerType!=="touch"){a=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a);this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)};g.prototype.setCursorMode=function(b){__p&&__p();b=b||"default";if(this.currentCursorMode===b)return;this.currentCursorMode=b;var c=this.cursorStyles[b];if(c)switch(typeof c==="undefined"?"undefined":a(c)){case"string":this.interactionDOMElement.style.cursor=c;break;case"function":c(b);break;case"object":Object.assign(this.interactionDOMElement.style,c);break}else typeof b==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,b)&&(this.interactionDOMElement.style.cursor=b)};g.prototype.dispatchEvent=function(a,b,c){c.stopped||(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]&&a[b](c))};g.prototype.mapPositionToPoint=function(a,b,c){var d;!this.interactionDOMElement.parentElement?d={x:0,y:0,width:0,height:0}:d=this.interactionDOMElement.getBoundingClientRect();var e=navigator.isCocoonJS?this.resolution:1/this.resolution;a.x=(b-d.left)*(this.interactionDOMElement.width/d.width)*e;a.y=(c-d.top)*(this.interactionDOMElement.height/d.height)*e};g.prototype.processInteractive=function(a,b,c,d,e){__p&&__p();if(!b||!b.visible)return!1;var f=a.data.global;e=b.interactive||e;var g=!1,h=e,i=!0;b.hitArea?(d&&(b.worldTransform.applyInverse(f,this._tempPoint),!b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?(d=!1,i=!1):g=!0),h=!1):b._mask&&(d&&(b._mask.containsPoint(f)||(d=!1,i=!1)));if(i&&b.interactiveChildren&&b.children){i=b.children;for(var j=i.length-1;j>=0;j--){var k=i[j],l=this.processInteractive(a,k,c,d,h);if(l){if(!k.parent)continue;h=!1;l&&(a.target&&(d=!1),g=!0)}}}e&&(d&&!a.target&&(!b.hitArea&&b.containsPoint&&(b.containsPoint(f)&&(g=!0))),b.interactive&&(g&&!a.target&&(a.target=b),c&&c(a,b,!!g)));return g};g.prototype.onPointerDown=function(a){__p&&__p();if(this.supportsTouchEvents&&a.pointerType==="touch")return;var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&a.preventDefault();var c=b.length;for(var d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",f);if(e.pointerType==="touch")this.emit("touchstart",f);else if(e.pointerType==="mouse"||e.pointerType==="pen"){f=e.button===2;this.emit(f?"rightdown":"mousedown",this.eventData)}}};g.prototype.processPointerDown=function(a,b,c){__p&&__p();var d=a.data,e=a.data.identifier;if(c){b.trackedPointers[e]||(b.trackedPointers[e]=new f["default"](e));this.dispatchEvent(b,"pointerdown",a);if(d.pointerType==="touch")this.dispatchEvent(b,"touchstart",a);else if(d.pointerType==="mouse"||d.pointerType==="pen"){c=d.button===2;c?b.trackedPointers[e].rightDown=!0:b.trackedPointers[e].leftDown=!0;this.dispatchEvent(b,c?"rightdown":"mousedown",a)}}};g.prototype.onPointerComplete=function(a,b,c){__p&&__p();var d=this.normalizeToPointerData(a),e=d.length,f=a.target!==this.interactionDOMElement?"outside":"";for(var g=0;g<e;g++){var h=d[g],i=this.getInteractionDataForPointerId(h),j=this.configureInteractionEventForDOMEvent(this.eventData,h,i);j.data.originalEvent=a;this.processInteractive(j,this.renderer._lastObjectRendered,c,b||!f);this.emit(b?"pointercancel":"pointerup"+f,j);if(h.pointerType==="mouse"||h.pointerType==="pen"){var k=h.button===2;this.emit(k?"rightup"+f:"mouseup"+f,j)}else h.pointerType==="touch"&&(this.emit(b?"touchcancel":"touchend"+f,j),this.releaseInteractionDataForPointerId(h.pointerId,i))}};g.prototype.onPointerCancel=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;this.onPointerComplete(a,!0,this.processPointerCancel)};g.prototype.processPointerCancel=function(a,b){var c=a.data,d=a.data.identifier;b.trackedPointers[d]!==void 0&&(delete b.trackedPointers[d],this.dispatchEvent(b,"pointercancel",a),c.pointerType==="touch"&&this.dispatchEvent(b,"touchcancel",a))};g.prototype.onPointerUp=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;this.onPointerComplete(a,!1,this.processPointerUp)};g.prototype.processPointerUp=function(a,b,c){__p&&__p();var d=a.data,e=a.data.identifier,g=b.trackedPointers[e],h=d.pointerType==="touch",i=d.pointerType==="mouse"||d.pointerType==="pen",j=!1;if(i){d=d.button===2;var k=f["default"].FLAGS;k=d?k.RIGHT_DOWN:k.LEFT_DOWN;k=g!==void 0&&g.flags&k;c?(this.dispatchEvent(b,d?"rightup":"mouseup",a),k&&(this.dispatchEvent(b,d?"rightclick":"click",a),j=!0)):k&&this.dispatchEvent(b,d?"rightupoutside":"mouseupoutside",a);g&&(d?g.rightDown=!1:g.leftDown=!1)}c?(this.dispatchEvent(b,"pointerup",a),h&&this.dispatchEvent(b,"touchend",a),g&&((!i||j)&&this.dispatchEvent(b,"pointertap",a),h&&(this.dispatchEvent(b,"tap",a),g.over=!1))):g&&(this.dispatchEvent(b,"pointerupoutside",a),h&&this.dispatchEvent(b,"touchendoutside",a));g&&g.none&&delete b.trackedPointers[e]};g.prototype.onPointerMove=function(a){__p&&__p();if(this.supportsTouchEvents&&a.pointerType==="touch")return;var b=this.normalizeToPointerData(a);(b[0].pointerType==="mouse"||b[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);var c=b.length;for(var d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;var g=e.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerMove,g);this.emit("pointermove",f);e.pointerType==="touch"&&this.emit("touchmove",f);(e.pointerType==="mouse"||e.pointerType==="pen")&&this.emit("mousemove",f)}b[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)};g.prototype.processPointerMove=function(a,b,c){var d=a.data,e=d.pointerType==="touch";d=d.pointerType==="mouse"||d.pointerType==="pen";d&&this.processPointerOverOut(a,b,c);(!this.moveWhenInside||c)&&(this.dispatchEvent(b,"pointermove",a),e&&this.dispatchEvent(b,"touchmove",a),d&&this.dispatchEvent(b,"mousemove",a))};g.prototype.onPointerOut=function(a){__p&&__p();if(this.supportsTouchEvents&&a.pointerType==="touch")return;a=this.normalizeToPointerData(a);a=a[0];a.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var b=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,b);c.data.originalEvent=a;this.processInteractive(c,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",c);a.pointerType==="mouse"||a.pointerType==="pen"?this.emit("mouseout",c):this.releaseInteractionDataForPointerId(b.identifier)};g.prototype.processPointerOverOut=function(a,b,c){var d=a.data,e=a.data.identifier;d=d.pointerType==="mouse"||d.pointerType==="pen";var g=b.trackedPointers[e];c&&!g&&(g=b.trackedPointers[e]=new f["default"](e));if(g===void 0)return;c&&this.mouseOverRenderer?(g.over||(g.over=!0,this.dispatchEvent(b,"pointerover",a),d&&this.dispatchEvent(b,"mouseover",a)),d&&this.cursor===null&&(this.cursor=b.cursor)):g.over&&(g.over=!1,this.dispatchEvent(b,"pointerout",this.eventData),d&&this.dispatchEvent(b,"mouseout",a),g.none&&delete b.trackedPointers[e])};g.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a);a=a[0];var b=this.getInteractionDataForPointerId(a);b=this.configureInteractionEventForDOMEvent(this.eventData,a,b);b.data.originalEvent=a;a.pointerType==="mouse"&&(this.mouseOverRenderer=!0);this.emit("pointerover",b);(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mouseover",b)};g.prototype.getInteractionDataForPointerId=function(a){var b=a.pointerId,c=void 0;b===m||a.pointerType==="mouse"?c=this.mouse:this.activeInteractionData[b]?c=this.activeInteractionData[b]:(c=this.interactionDataPool.pop()||new d["default"](),c.identifier=b,this.activeInteractionData[b]=c);c.copyEvent(a);return c};g.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))};g.prototype.configureInteractionEventForDOMEvent=function(a,b,c){a.data=c;this.mapPositionToPoint(c.global,b.clientX,b.clientY);navigator.isCocoonJS&&b.pointerType==="touch"&&(c.global.x=c.global.x/this.resolution,c.global.y=c.global.y/this.resolution);b.pointerType==="touch"&&(b.globalX=c.global.x,b.globalY=c.global.y);c.originalEvent=b;a.reset();return a};g.prototype.normalizeToPointerData=function(a){__p&&__p();var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var c=0,d=a.changedTouches.length;c<d;c++){var e=a.changedTouches[c];typeof e.button==="undefined"&&(e.button=a.touches.length?1:0);typeof e.buttons==="undefined"&&(e.buttons=a.touches.length?1:0);typeof e.isPrimary==="undefined"&&(e.isPrimary=a.touches.length===1&&a.type==="touchstart");typeof e.width==="undefined"&&(e.width=e.radiusX||1);typeof e.height==="undefined"&&(e.height=e.radiusY||1);typeof e.tiltX==="undefined"&&(e.tiltX=0);typeof e.tiltY==="undefined"&&(e.tiltY=0);typeof e.pointerType==="undefined"&&(e.pointerType="touch");typeof e.pointerId==="undefined"&&(e.pointerId=e.identifier||0);typeof e.pressure==="undefined"&&(e.pressure=e.force||.5);e.twist=0;e.tangentialPressure=0;typeof e.layerX==="undefined"&&(e.layerX=e.offsetX=e.clientX);typeof e.layerY==="undefined"&&(e.layerY=e.offsetY=e.clientY);e.isNormalized=!0;b.push(e)}else a instanceof MouseEvent&&(!this.supportsPointerEvents||!(a instanceof window.PointerEvent))?(typeof a.isPrimary==="undefined"&&(a.isPrimary=!0),typeof a.width==="undefined"&&(a.width=1),typeof a.height==="undefined"&&(a.height=1),typeof a.tiltX==="undefined"&&(a.tiltX=0),typeof a.tiltY==="undefined"&&(a.tiltY=0),typeof a.pointerType==="undefined"&&(a.pointerType="mouse"),typeof a.pointerId==="undefined"&&(a.pointerId=m),typeof a.pressure==="undefined"&&(a.pressure=.5),a.twist=0,a.tangentialPressure=0,a.isNormalized=!0,b.push(a)):b.push(a);return b};g.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null};return g}(h["default"]);Vk["default"]=b;c.WebGLRenderer.registerPlugin("interaction",b);c.CanvasRenderer.registerPlugin("interaction",b)}var Yk=!1,Zk=function(){Yk||(Yk=!0,Xk());return Wk.exports},$k={},al={exports:$k};function bl(){__p&&__p();$k.__esModule=!0;var a=Fk();Object.defineProperty($k,"InteractionData",{enumerable:!0,get:function(){return f(a)["default"]}});var b=Zk();Object.defineProperty($k,"InteractionManager",{enumerable:!0,get:function(){return f(b)["default"]}});var c=Uk();Object.defineProperty($k,"interactiveTarget",{enumerable:!0,get:function(){return f(c)["default"]}});var d=Pk();Object.defineProperty($k,"InteractionTrackingData",{enumerable:!0,get:function(){return f(d)["default"]}});var e=Kk();Object.defineProperty($k,"InteractionEvent",{enumerable:!0,get:function(){return f(e)["default"]}});function f(a){return a&&a.__esModule?a:{"default":a}}}var cl=!1,dl=function(){cl||(cl=!0,bl());return al.exports},el={},fl={exports:el};function gl(){__p&&__p();el.__esModule=!0;el.parse=f;el["default"]=function(){__p&&__p();return function(a,d){__p&&__p();if(!a.data||a.type!==c.Resource.TYPE.XML){d();return}if(a.data.getElementsByTagName("page").length===0||a.data.getElementsByTagName("info").length===0||a.data.getElementsByTagName("info")[0].getAttribute("face")===null){d();return}var e=a.isDataUrl?"":b.dirname(a.url);a.isDataUrl&&(e==="."&&(e=""),this.baseUrl&&e&&(this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(e+="/")));e=e.replace(this.baseUrl,"");e&&e.charAt(e.length-1)!=="/"&&(e+="/");var g=a.data.getElementsByTagName("page"),h={},i=function(b){h[b.metadata.pageFile]=b.texture,Object.keys(h).length===g.length&&(f(a,h),d())};for(var j=0;j<g.length;++j){var k=g[j].getAttribute("file"),l=e+k,m=!1;for(var n in this.resources)if(this.resources[n].url===l){this.resources[n].metadata.pageFile=k;i(this.resources[n]);m=!0;break}if(!m){m={crossOrigin:a.crossOrigin,loadType:c.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:k},a.metadata.imageMetadata),parentResource:a};this.add(l,m,i)}}}};var a={},b=e(a),c=n(),d=uj();function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){a.bitmapFont=d.BitmapText.registerFont(a.data,b)}}var hl=!1,il=function(){hl||(hl=!0,gl());return fl.exports},jl={},kl={exports:jl};function ll(){__p&&__p();jl.__esModule=!0;jl["default"]=function(){__p&&__p();return function(b,c){__p&&__p();var e=b.name+"_image";if(!b.data||b.type!==a.Resource.TYPE.JSON||!b.data.frames||this.resources[e]){c();return}var g={crossOrigin:b.crossOrigin,metadata:b.metadata.imageMetadata,parentResource:b},h=f(b,this.baseUrl);this.add(e,h,g,function(a){if(a.error){c(a.error);return}var e=new d.Spritesheet(a.texture.baseTexture,b.data,b.url);e.parse(function(){b.spritesheet=e,b.textures=e.textures,c()})})}};jl.getResourcePath=f;var a=n(),b={},c=e(b),d=V();function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){return a.isDataUrl?a.data.meta.image:c["default"].resolve(a.url.replace(b,""),a.data.meta.image)}}var ml=!1,nl=function(){ml||(ml=!0,ll());return kl.exports},ol={},pl={exports:ol};function ql(){ol.__esModule=!0;ol["default"]=function(){return function(b,d){b.data&&b.type===a.Resource.TYPE.IMAGE&&(b.texture=c["default"].fromLoader(b.data,b.url,b.name)),d()}};var a=n(),b=T(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}}var rl=!1,sl=function(){rl||(rl=!0,ql());return pl.exports},tl={},ul={exports:tl};function vl(){__p&&__p();tl.__esModule=!0;var a=n();a=g(a);var b=n("/lib/middlewares/parsing/blob"),c=i(),d=g(c);c=sl();c=g(c);var e=nl();e=g(e);var f=il();g=g(f);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f=function(a){__p&&__p();k(b,a);function b(c,e){__p&&__p();h(this,b);var f=j(this,a.call(this,c,e));d["default"].call(f);for(var c=0;c<b._pixiMiddleware.length;++c)f.use(b._pixiMiddleware[c]());f.onStart.add(function(a){return f.emit("start",a)});f.onProgress.add(function(a,b){return f.emit("progress",a,b)});f.onError.add(function(a,b,c){return f.emit("error",a,b,c)});f.onLoad.add(function(a,b){return f.emit("load",a,b)});f.onComplete.add(function(a,b){return f.emit("complete",a,b)});return f}b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)};b.prototype.destroy=function(){this.removeAllListeners(),this.reset()};return b}(a["default"]);tl["default"]=f;for(var l in d["default"].prototype)f.prototype[l]=d["default"].prototype[l];f._pixiMiddleware=[b.blobMiddlewareFactory,c["default"],e["default"],g["default"]];f=a["default"].Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)}var wl=!1,xl=function(){wl||(wl=!0,vl());return ul.exports},Y={},yl={exports:Y};function zl(){__p&&__p();Y.__esModule=!0;Y.shared=Y.Resource=Y.textureParser=Y.getResourcePath=Y.spritesheetParser=Y.parseBitmapFontData=Y.bitmapFontParser=Y.Loader=void 0;var a=il();Object.defineProperty(Y,"bitmapFontParser",{enumerable:!0,get:function(){return h(a)["default"]}});Object.defineProperty(Y,"parseBitmapFontData",{enumerable:!0,get:function(){return a.parse}});var b=nl();Object.defineProperty(Y,"spritesheetParser",{enumerable:!0,get:function(){return h(b)["default"]}});Object.defineProperty(Y,"getResourcePath",{enumerable:!0,get:function(){return b.getResourcePath}});var c=sl();Object.defineProperty(Y,"textureParser",{enumerable:!0,get:function(){return h(c)["default"]}});var d=n();Object.defineProperty(Y,"Resource",{enumerable:!0,get:function(){return d.Resource}});var e=$h();e=h(e);var f=xl(),g=h(f);function h(a){return a&&a.__esModule?a:{"default":a}}Y.Loader=g["default"];var i=new g["default"]();i.destroy=function(){};Y.shared=i;f=e["default"].prototype;f._loader=null;Object.defineProperty(f,"loader",{get:function(){if(!this._loader){var a=this._options.sharedLoader;this._loader=a?i:new g["default"]()}return this._loader}});f._parentDestroy=f.destroy;f.destroy=function(a,b){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(a,b)}}var Al=!1,Bl=function(){Al||(Al=!0,zl());return yl.exports},Cl={},Dl={exports:Cl};function El(){__p&&__p();Cl.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=f(b);f=T();var d=e(f);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var j=new c.Point(),k=new c.Polygon();b=function(b){__p&&__p();i(e,b);function e(a,f,i,j,k){__p&&__p();g(this,e);var l=h(this,b.call(this));l._texture=a||d["default"].EMPTY;l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]);l.vertices=f||new Float32Array([0,0,100,0,100,100,0,100]);l.indices=j||new Uint16Array([0,1,3,2]);l.dirty=0;l.indexDirty=0;l.vertexDirty=0;l.autoUpdate=!0;l.blendMode=c.BLEND_MODES.NORMAL;l.canvasPadding=c.settings.MESH_CANVAS_PADDING;l.drawMode=k||e.DRAW_MODES.TRIANGLE_MESH;l.shader=null;l.tintRgb=new Float32Array([1,1,1]);l._glDatas={};l._uvTransform=new c.TextureMatrix(l._texture);l.uploadUvTransform=!1;l.pluginName="mesh";return l}e.prototype._renderWebGL=function(a){this.refresh(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function(a){this.refresh(),a.plugins[this.pluginName].render(this)};e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()};e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)};e.prototype.refresh=function(a){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(a)&&this._refresh()};e.prototype._refresh=function(){};e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};e.prototype.containsPoint=function(a){__p&&__p();if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,j);a=this.vertices;var b=k.points,c=this.indices,d=this.indices.length,f=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1;for(var g=0;g+2<d;g+=f){var h=c[g]*2,i=c[g+1]*2,l=c[g+2]*2;b[0]=a[h];b[1]=a[h+1];b[2]=a[i];b[3]=a[i+1];b[4]=a[l];b[5]=a[l+1];if(k.contains(j.x,j.y))return!0}return!1};e.prototype.destroy=function(a){for(var c in this._glDatas){var d=this._glDatas[c];d.destroy?d.destroy():(d.vertexBuffer&&(d.vertexBuffer.destroy(),d.vertexBuffer=null),d.indexBuffer&&(d.indexBuffer.destroy(),d.indexBuffer=null),d.uvBuffer&&(d.uvBuffer.destroy(),d.uvBuffer=null),d.vao&&(d.vao.destroy(),d.vao=null))}this._glDatas=null;b.prototype.destroy.call(this,a)};a(e,[{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture===a)return;this._texture=a;a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this))}},{key:"tint",get:function(){return c.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=c.utils.hex2rgb(a,this.tintRgb)}}]);return e}(c.Container);Cl["default"]=b;b.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}}var Fl=!1,Gl=function(){Fl||(Fl=!0,El());return Dl.exports},Hl={},Il={exports:Hl};function Jl(){__p&&__p();Hl.__esModule=!0;var a=V(),b=f(a);f=h();var c=e(f);a=Gl();var d=e(a);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=b.Matrix.IDENTITY;f=function(a){__p&&__p();j(e,a);function e(b){g(this,e);b=i(this,a.call(this,b));b.shader=null;return b}e.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")};e.prototype.render=function(a){__p&&__p();var e=this.renderer,f=e.gl,g=a._texture;if(!g.valid)return;var h=a._glDatas[e.CONTEXT_UID];h||(e.bindVao(null),h={shader:this.shader,vertexBuffer:c["default"].GLBuffer.createVertexBuffer(f,a.vertices,f.STREAM_DRAW),uvBuffer:c["default"].GLBuffer.createVertexBuffer(f,a.uvs,f.STREAM_DRAW),indexBuffer:c["default"].GLBuffer.createIndexBuffer(f,a.indices,f.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty,vertexDirty:a.vertexDirty},h.vao=new c["default"].VertexArrayObject(f).addIndex(h.indexBuffer).addAttribute(h.vertexBuffer,h.shader.attributes.aVertexPosition,f.FLOAT,!1,2*4,0).addAttribute(h.uvBuffer,h.shader.attributes.aTextureCoord,f.FLOAT,!1,2*4,0),a._glDatas[e.CONTEXT_UID]=h);e.bindVao(h.vao);a.dirty!==h.dirty&&(h.dirty=a.dirty,h.uvBuffer.upload(a.uvs));a.indexDirty!==h.indexDirty&&(h.indexDirty=a.indexDirty,h.indexBuffer.upload(a.indices));a.vertexDirty!==h.vertexDirty&&(h.vertexDirty=a.vertexDirty,h.vertexBuffer.upload(a.vertices));e.bindShader(h.shader);h.shader.uniforms.uSampler=e.bindTexture(g);e.state.setBlendMode(b.utils.correctBlendMode(a.blendMode,g.baseTexture.premultipliedAlpha));h.shader.uniforms.uTransform&&(a.uploadUvTransform?h.shader.uniforms.uTransform=a._uvTransform.mapCoord.toArray(!0):h.shader.uniforms.uTransform=k.toArray(!0));h.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);h.shader.uniforms.uColor=b.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,h.shader.uniforms.uColor,g.baseTexture.premultipliedAlpha);e=a.drawMode===d["default"].DRAW_MODES.TRIANGLE_MESH?f.TRIANGLE_STRIP:f.TRIANGLES;h.vao.draw(e,a.indices.length,0)};return e}(b.ObjectRenderer);Hl["default"]=f;b.WebGLRenderer.registerPlugin("mesh",f)}var Kl=!1,Ll=function(){Kl||(Kl=!0,Jl());return Il.exports},Ml={},Nl={exports:Ml};function Ol(){__p&&__p();Ml.__esModule=!0;var a=V();d=d(a);a=Gl();var b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){__p&&__p();function a(b){e(this,a),this.renderer=b}a.prototype.render=function(a){var c=this.renderer,d=c.context,e=a.worldTransform,f=c.resolution;c.roundPixels?d.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f|0,e.ty*f|0):d.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f,e.ty*f);c.context.globalAlpha=a.worldAlpha;c.setBlendMode(a.blendMode);a.drawMode===b["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(a):this._renderTriangles(a)};a.prototype._renderTriangleMesh=function(a){var b=a.vertices.length/2;for(var c=0;c<b-2;c++){var d=c*2;this._renderDrawTriangle(a,d,d+2,d+4)}};a.prototype._renderTriangles=function(a){var b=a.indices,c=b.length;for(var d=0;d<c;d+=3){var e=b[d]*2,f=b[d+1]*2,g=b[d+2]*2;this._renderDrawTriangle(a,e,f,g)}};a.prototype._renderDrawTriangle=function(a,b,c,d){__p&&__p();var e=this.renderer.context,f=a.uvs,g=a.vertices,h=a._texture;if(!h.valid)return;h=h.baseTexture;var i=h.source,j=h.width,k=h.height,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;if(a.uploadUvTransform){var r=a._uvTransform.mapCoord;l=(f[b]*r.a+f[b+1]*r.c+r.tx)*h.width;m=(f[c]*r.a+f[c+1]*r.c+r.tx)*h.width;n=(f[d]*r.a+f[d+1]*r.c+r.tx)*h.width;o=(f[b]*r.b+f[b+1]*r.d+r.ty)*h.height;p=(f[c]*r.b+f[c+1]*r.d+r.ty)*h.height;q=(f[d]*r.b+f[d+1]*r.d+r.ty)*h.height}else l=f[b]*h.width,m=f[c]*h.width,n=f[d]*h.width,o=f[b+1]*h.height,p=f[c+1]*h.height,q=f[d+1]*h.height;r=g[b];f=g[c];var s=g[d];b=g[b+1];c=g[c+1];g=g[d+1];d=a.canvasPadding/this.renderer.resolution;if(d>0){var t=d/Math.abs(a.worldTransform.a);d=d/Math.abs(a.worldTransform.d);a=(r+f+s)/3;var u=(b+c+g)/3,v=r-a,w=b-u,x=Math.sqrt(v*v+w*w);r=a+v/x*(x+t);b=u+w/x*(x+d);v=f-a;w=c-u;x=Math.sqrt(v*v+w*w);f=a+v/x*(x+t);c=u+w/x*(x+d);v=s-a;w=g-u;x=Math.sqrt(v*v+w*w);s=a+v/x*(x+t);g=u+w/x*(x+d)}e.save();e.beginPath();e.moveTo(r,b);e.lineTo(f,c);e.lineTo(s,g);e.closePath();e.clip();a=l*p+o*n+m*q-p*n-o*m-l*q;v=r*p+o*s+f*q-p*s-o*f-r*q;t=l*f+r*n+m*s-f*n-r*m-l*s;u=l*p*s+o*f*n+r*m*q-r*p*n-o*m*s-l*f*q;w=b*p+o*g+c*q-p*g-o*c-b*q;x=l*c+b*n+m*g-c*n-b*m-l*g;d=l*p*g+o*c*n+b*m*q-b*p*n-o*m*g-l*c*q;e.transform(v/a,w/a,t/a,x/a,u/a,d/a);e.drawImage(i,0,0,j*h.resolution,k*h.resolution,0,0,j,k);e.restore();this.renderer.invalidateBlendMode()};a.prototype.renderMeshFlat=function(a){__p&&__p();var b=this.renderer.context;a=a.vertices;var c=a.length/2;b.beginPath();for(var d=1;d<c-2;++d){var e=d*2,f=a[e],g=a[e+1],h=a[e+2],i=a[e+3],j=a[e+4];e=a[e+5];b.moveTo(f,g);b.lineTo(h,i);b.lineTo(j,e)}b.fillStyle="#FF0000";b.fill();b.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();Ml["default"]=c;d.CanvasRenderer.registerPlugin("mesh",c)}var Pl=!1,Ql=function(){Pl||(Pl=!0,Ol());return Nl.exports},Rl={},Sl={exports:Rl};function Tl(){__p&&__p();Rl.__esModule=!0;var a=Gl(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){__p&&__p();f(c,a);function c(f,g,h){d(this,c);f=e(this,a.call(this,f));f._ready=!0;f.verticesX=g||10;f.verticesY=h||10;f.drawMode=b["default"].DRAW_MODES.TRIANGLES;f.refresh();return f}c.prototype._refresh=function(){__p&&__p();var a=this._texture,b=this.verticesX*this.verticesY,c=[],d=[],e=[],f=[],g=this.verticesX-1,h=this.verticesY-1,i=a.width/g;a=a.height/h;for(var j=0;j<b;j++){var k=j%this.verticesX,l=j/this.verticesX|0;c.push(k*i,l*a);e.push(k/g,l/h)}k=g*h;for(var l=0;l<k;l++){j=l%g;i=l/g|0;a=i*this.verticesX+j;b=i*this.verticesX+j+1;h=(i+1)*this.verticesX+j;i=(i+1)*this.verticesX+j+1;f.push(a,b,h);f.push(b,i,h)}this.vertices=new Float32Array(c);this.uvs=new Float32Array(e);this.colors=new Float32Array(d);this.indices=new Uint16Array(f);this.dirty++;this.indexDirty++;this.multiplyUvs()};c.prototype._onTextureUpdate=function(){b["default"].prototype._onTextureUpdate.call(this),this._ready&&this.refresh()};return c}(b["default"]);Rl["default"]=c}var Ul=!1,Vl=function(){Ul||(Ul=!0,Tl());return Sl.exports},Wl={},Xl={exports:Wl};function Yl(){__p&&__p();Wl.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Vl();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=10;b=function(b){__p&&__p();f(c,b);function c(a,f,h,i,j){__p&&__p();d(this,c);var k=e(this,b.call(this,a,4,4));k._origWidth=a.orig.width;k._origHeight=a.orig.height;k._width=k._origWidth;k._height=k._origHeight;k._leftWidth=typeof f!=="undefined"?f:g;k._rightWidth=typeof i!=="undefined"?i:g;k._topHeight=typeof h!=="undefined"?h:g;k._bottomHeight=typeof j!=="undefined"?j:g;k.refresh(!0);return k}c.prototype.updateHorizontalVertices=function(){var a=this.vertices,b=this._topHeight+this._bottomHeight;b=this._height>b?1:this._height/b;a[9]=a[11]=a[13]=a[15]=this._topHeight*b;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*b;a[25]=a[27]=a[29]=a[31]=this._height};c.prototype.updateVerticalVertices=function(){var a=this.vertices,b=this._leftWidth+this._rightWidth;b=this._width>b?1:this._width/b;a[2]=a[10]=a[18]=a[26]=this._leftWidth*b;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*b;a[6]=a[14]=a[22]=a[30]=this._width};c.prototype._renderCanvas=function(a){__p&&__p();var b=a.context;b.globalAlpha=this.worldAlpha;a.setBlendMode(this.blendMode);var c=this.worldTransform,d=a.resolution;a.roundPixels?b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d|0,c.ty*d|0):b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d,c.ty*d);a=this._texture.baseTexture;c=a.source;d=a.width*a.resolution;a=a.height*a.resolution;this.drawSegment(b,c,d,a,0,1,10,11);this.drawSegment(b,c,d,a,2,3,12,13);this.drawSegment(b,c,d,a,4,5,14,15);this.drawSegment(b,c,d,a,8,9,18,19);this.drawSegment(b,c,d,a,10,11,20,21);this.drawSegment(b,c,d,a,12,13,22,23);this.drawSegment(b,c,d,a,16,17,26,27);this.drawSegment(b,c,d,a,18,19,28,29);this.drawSegment(b,c,d,a,20,21,30,31)};c.prototype.drawSegment=function(a,b,c,d,e,f,g,h){var i=this.uvs,j=this.vertices,k=(i[g]-i[e])*c,l=(i[h]-i[f])*d;g=j[g]-j[e];h=j[h]-j[f];k<1&&(k=1);l<1&&(l=1);g<1&&(g=1);h<1&&(h=1);a.drawImage(b,i[e]*c,i[f]*d,k,l,j[e],j[f],g,h)};c.prototype._refresh=function(){__p&&__p();b.prototype._refresh.call(this);var a=this.uvs,c=this._texture;this._origWidth=c.orig.width;this._origHeight=c.orig.height;c=1/this._origWidth;var d=1/this._origHeight;a[0]=a[8]=a[16]=a[24]=0;a[1]=a[3]=a[5]=a[7]=0;a[6]=a[14]=a[22]=a[30]=1;a[25]=a[27]=a[29]=a[31]=1;a[2]=a[10]=a[18]=a[26]=c*this._leftWidth;a[4]=a[12]=a[20]=a[28]=1-c*this._rightWidth;a[9]=a[11]=a[13]=a[15]=d*this._topHeight;a[17]=a[19]=a[21]=a[23]=1-d*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.dirty++;this.multiplyUvs()};a(c,[{key:"width",get:function(){return this._width},set:function(a){this._width=a,this._refresh()}},{key:"height",get:function(){return this._height},set:function(a){this._height=a,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(a){this._leftWidth=a,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(a){this._rightWidth=a,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(a){this._topHeight=a,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a,this._refresh()}}]);return c}(c["default"]);Wl["default"]=b}var Zl=!1,$l=function(){Zl||(Zl=!0,Yl());return Xl.exports},am={},bm={exports:am};function cm(){__p&&__p();am.__esModule=!0;var a=Gl();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){__p&&__p();e(b,a);function b(e,f){__p&&__p();c(this,b);e=d(this,a.call(this,e));e.points=f;e.vertices=new Float32Array(f.length*4);e.uvs=new Float32Array(f.length*4);e.colors=new Float32Array(f.length*2);e.indices=new Uint16Array(f.length*2);e.autoUpdate=!0;e.refresh();return e}b.prototype._refresh=function(){__p&&__p();var a=this.points;if(a.length<1||!this._texture._uvs)return;this.vertices.length/4!==a.length&&(this.vertices=new Float32Array(a.length*4),this.uvs=new Float32Array(a.length*4),this.colors=new Float32Array(a.length*2),this.indices=new Uint16Array(a.length*2));var b=this.uvs,c=this.indices,d=this.colors;b[0]=0;b[1]=0;b[2]=0;b[3]=1;d[0]=1;d[1]=1;c[0]=0;c[1]=1;a=a.length;for(var e=1;e<a;e++){var f=e*4,g=e/(a-1);b[f]=g;b[f+1]=0;b[f+2]=g;b[f+3]=1;f=e*2;d[f]=1;d[f+1]=1;f=e*2;c[f]=f;c[f+1]=f+1}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices()};b.prototype.refreshVertices=function(){__p&&__p();var a=this.points;if(a.length<1)return;var b=a[0],c,d=0,e=0,f=this.vertices,g=a.length;for(var h=0;h<g;h++){var i=a[h],j=h*4;h<a.length-1?c=a[h+1]:c=i;e=-(c.x-b.x);d=c.y-b.y;c=Math.sqrt(d*d+e*e);var k=this._texture.height/2;d/=c;e/=c;d*=k;e*=k;f[j]=i.x+d;f[j+1]=i.y+e;f[j+2]=i.x-d;f[j+3]=i.y-e;b=i}};b.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()};return b}(b["default"]);am["default"]=a}var dm=!1,em=function(){dm||(dm=!0,cm());return bm.exports},Z={},fm={exports:Z};function gm(){__p&&__p();Z.__esModule=!0;var a=Gl();Object.defineProperty(Z,"Mesh",{enumerable:!0,get:function(){return g(a)["default"]}});var b=Ll();Object.defineProperty(Z,"MeshRenderer",{enumerable:!0,get:function(){return g(b)["default"]}});var c=Ql();Object.defineProperty(Z,"CanvasMeshRenderer",{enumerable:!0,get:function(){return g(c)["default"]}});var d=Vl();Object.defineProperty(Z,"Plane",{enumerable:!0,get:function(){return g(d)["default"]}});var e=$l();Object.defineProperty(Z,"NineSlicePlane",{enumerable:!0,get:function(){return g(e)["default"]}});var f=em();Object.defineProperty(Z,"Rope",{enumerable:!0,get:function(){return g(f)["default"]}});function g(a){return a&&a.__esModule?a:{"default":a}}}var hm=!1,im=function(){hm||(hm=!0,gm());return fm.exports},jm={},km={exports:jm};function lm(){__p&&__p();jm.__esModule=!0;var a=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=e(b),d=S();function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function h(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e=function(b){__p&&__p();h(e,b);function e(){__p&&__p();var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,d=arguments[1],h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;f(this,e);var j=g(this,b.call(this)),k=16384;h>k&&(h=k);h>a&&(h=a);j._properties=[!1,!0,!1,!1,!1];j._maxSize=a;j._batchSize=h;j._glBuffers={};j._bufferUpdateIDs=[];j._updateID=0;j.interactiveChildren=!1;j.blendMode=c.BLEND_MODES.NORMAL;j.autoResize=i;j.roundPixels=!0;j.baseTexture=null;j.setProperties(d);j._tint=0;j.tintRgb=new Float32Array(4);j.tint=16777215;return j}e.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])};e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};e.prototype.renderWebGL=function(a){var b=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)return;this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return b.onChildrenChange(0)}));a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)};e.prototype.onChildrenChange=function(a){a=Math.floor(a/this._batchSize);while(this._bufferUpdateIDs.length<a)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[a]=++this._updateID};e.prototype.renderCanvas=function(a){__p&&__p();if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)return;var b=a.context,c=this.worldTransform,d=!0,e,f,g,h;a.setBlendMode(this.blendMode);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var i=0;i<this.children.length;++i){var j=this.children[i];if(!j.visible)continue;var k=j._texture.frame;b.globalAlpha=this.worldAlpha*j.alpha;if(j.rotation%(Math.PI*2)===0)d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*a.resolution,c.ty*a.resolution),d=!1),e=j.anchor.x*(-k.width*j.scale.x)+j.position.x+.5,f=j.anchor.y*(-k.height*j.scale.y)+j.position.y+.5,g=k.width*j.scale.x,h=k.height*j.scale.y;else{d||(d=!0);j.displayObjectUpdateTransform();var l=j.worldTransform;a.roundPixels?b.setTransform(l.a,l.b,l.c,l.d,l.tx*a.resolution|0,l.ty*a.resolution|0):b.setTransform(l.a,l.b,l.c,l.d,l.tx*a.resolution,l.ty*a.resolution);e=j.anchor.x*-k.width+.5;f=j.anchor.y*-k.height+.5;g=k.width;h=k.height}l=j._texture.baseTexture.resolution;b.drawImage(j._texture.baseTexture.source,k.x*l,k.y*l,k.width*l,k.height*l,e*a.resolution,f*a.resolution,g*a.resolution,h*a.resolution)}};e.prototype.destroy=function(a){b.prototype.destroy.call(this,a);if(this._buffers)for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._properties=null;this._buffers=null;this._bufferUpdateIDs=null};a(e,[{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,d.hex2rgb(a,this.tintRgb)}}]);return e}(c.Container);jm["default"]=e}var mm=!1,nm=function(){mm||(mm=!0,lm());return km.exports},om={},pm={exports:om};function qm(){__p&&__p();om.__esModule=!0;var a=Ye();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e){c(this,b);return d(this,a.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return b}(b["default"]);om["default"]=a}var rm=!1,sm=function(){rm||(rm=!0,qm());return pm.exports},tm={},um={exports:tm};function vm(){__p&&__p();tm.__esModule=!0;var a=h(),b=d(a);a=Oe();var c=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){__p&&__p();function a(b,c,d,f){__p&&__p();e(this,a);this.gl=b;this.size=f;this.dynamicProperties=[];this.staticProperties=[];for(var b=0;b<c.length;++b){f=c[b];f={attribute:f.attribute,size:f.size,uploadFunction:f.uploadFunction,unsignedByte:f.unsignedByte,offset:f.offset};d[b]?this.dynamicProperties.push(f):this.staticProperties.push(f)}this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this._updateID=0;this.initBuffers()}a.prototype.initBuffers=function(){__p&&__p();var a=this.gl,d=0;this.indices=c["default"](this.size);this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.dynamicStride=0;for(var e=0;e<this.dynamicProperties.length;++e){var f=this.dynamicProperties[e];f.offset=d;d+=f.size;this.dynamicStride+=f.size}f=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(f);this.dynamicDataUint32=new Uint32Array(f);this.dynamicBuffer=b["default"].GLBuffer.createVertexBuffer(a,f,a.STREAM_DRAW);d=0;this.staticStride=0;for(var e=0;e<this.staticProperties.length;++e){f=this.staticProperties[e];f.offset=d;d+=f.size;this.staticStride+=f.size}f=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(f);this.staticDataUint32=new Uint32Array(f);this.staticBuffer=b["default"].GLBuffer.createVertexBuffer(a,f,a.STATIC_DRAW);this.vao=new b["default"].VertexArrayObject(a).addIndex(this.indexBuffer);for(var e=0;e<this.dynamicProperties.length;++e){d=this.dynamicProperties[e];d.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,d.attribute,a.UNSIGNED_BYTE,!0,this.dynamicStride*4,d.offset*4):this.vao.addAttribute(this.dynamicBuffer,d.attribute,a.FLOAT,!1,this.dynamicStride*4,d.offset*4)}for(var f=0;f<this.staticProperties.length;++f){d=this.staticProperties[f];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,a.UNSIGNED_BYTE,!0,this.staticStride*4,d.offset*4):this.vao.addAttribute(this.staticBuffer,d.attribute,a.FLOAT,!1,this.staticStride*4,d.offset*4)}};a.prototype.uploadDynamic=function(a,b,c){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer.upload()};a.prototype.uploadStatic=function(a,b,c){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,e.offset)}this.staticBuffer.upload()};a.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null};return a}();tm["default"]=d}var wm=!1,xm=function(){wm||(wm=!0,vm());return um.exports},ym={},zm={exports:ym};function Am(){__p&&__p();ym.__esModule=!0;var a=V(),b=g(a);g=sm();var c=f(g);a=xm();var d=f(a),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(a){__p&&__p();j(f,a);function f(c){h(this,f);c=i(this,a.call(this,c));c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=new b.Matrix();c.CONTEXT_UID=0;return c}f.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new c["default"](a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]};f.prototype.start=function(){this.renderer.bindShader(this.shader)};f.prototype.render=function(a){__p&&__p();var c=a.children,d=a._maxSize,e=a._batchSize,f=this.renderer,g=c.length;if(g===0)return;else g>d&&(g=d);d=a._glBuffers[f.CONTEXT_UID];d||(d=a._glBuffers[f.CONTEXT_UID]=this.generateBuffers(a));var h=c[0]._texture.baseTexture;this.renderer.setBlendMode(b.utils.correctBlendMode(a.blendMode,h.premultipliedAlpha));var i=f.gl,j=a.worldTransform.copy(this.tempMatrix);j.prepend(f._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=j.toArray(!0);this.shader.uniforms.uColor=b.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,h.premultipliedAlpha);this.shader.uniforms.uSampler=f.bindTexture(h);j=!1;for(var h=0,k=0;h<g;h+=e,k+=1){var l=g-h;l>e&&(l=e);if(k>=d.length){if(!a.autoResize)break;d.push(this._generateOneMoreBuffer(a))}var m=d[k];m.uploadDynamic(c,h,l);var n=a._bufferUpdateIDs[k]||0;j=j||m._updateID<n;j&&(m._updateID=a._updateID,m.uploadStatic(c,h,l));f.bindVao(m.vao);m.vao.draw(i.TRIANGLES,l*6)}};f.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],e=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<e;g+=f)c.push(new d["default"](b,this.properties,a,f));return c};f.prototype._generateOneMoreBuffer=function(a){var b=this.renderer.gl,c=a._batchSize;a=a._properties;return new d["default"](b,this.properties,a,c)};f.prototype.uploadVertices=function(a,b,c,d,e,f){__p&&__p();var g,h,i;for(var j=0;j<c;++j){var k=a[b+j],l=k._texture,m=k.scale.x,n=k.scale.y,o=l.trim;l=l.orig;o?(h=o.x-k.anchor.x*l.width,g=h+o.width,i=o.y-k.anchor.y*l.height,o=i+o.height):(g=l.width*(1-k.anchor.x),h=l.width*-k.anchor.x,o=l.height*(1-k.anchor.y),i=l.height*-k.anchor.y);d[f]=h*m;d[f+1]=i*n;d[f+e]=g*m;d[f+e+1]=i*n;d[f+e*2]=g*m;d[f+e*2+1]=o*n;d[f+e*3]=h*m;d[f+e*3+1]=o*n;f+=e*4}};f.prototype.uploadPosition=function(a,b,c,d,e,f){__p&&__p();for(var g=0;g<c;g++){var h=a[b+g].position;d[f]=h.x;d[f+1]=h.y;d[f+e]=h.x;d[f+e+1]=h.y;d[f+e*2]=h.x;d[f+e*2+1]=h.y;d[f+e*3]=h.x;d[f+e*3+1]=h.y;f+=e*4}};f.prototype.uploadRotation=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].rotation;d[f]=h;d[f+e]=h;d[f+e*2]=h;d[f+e*3]=h;f+=e*4}};f.prototype.uploadUvs=function(a,b,c,d,e,f){for(var g=0;g<c;++g){var h=a[b+g]._texture._uvs;h?(d[f]=h.x0,d[f+1]=h.y0,d[f+e]=h.x1,d[f+e+1]=h.y1,d[f+e*2]=h.x2,d[f+e*2+1]=h.y2,d[f+e*3]=h.x3,d[f+e*3+1]=h.y3,f+=e*4):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+e*2]=0,d[f+e*2+1]=0,d[f+e*3]=0,d[f+e*3+1]=0,f+=e*4)}};f.prototype.uploadTint=function(a,b,c,d,f,g){for(var h=0;h<c;++h){var i=a[b+h],j=i._texture.baseTexture.premultipliedAlpha,k=i.alpha;j=k<1&&j?e.premultiplyTint(i._tintRGB,k):i._tintRGB+(k*255<<24);d[g]=j;d[g+f]=j;d[g+f*2]=j;d[g+f*3]=j;g+=f*4}};f.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),a.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null};return f}(b.ObjectRenderer);ym["default"]=g;b.WebGLRenderer.registerPlugin("particle",g)}var Bm=!1,Cm=function(){Bm||(Bm=!0,Am());return zm.exports},Dm={},Em={exports:Dm};function Fm(){Dm.__esModule=!0;var a=nm();Object.defineProperty(Dm,"ParticleContainer",{enumerable:!0,get:function(){return c(a)["default"]}});var b=Cm();Object.defineProperty(Dm,"ParticleRenderer",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var Gm=!1,Hm=function(){Gm||(Gm=!0,Fm());return Em.exports},Im={},Jm={exports:Im};function Km(){__p&&__p();Im.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.maxItemsPerFrame=c,this.itemsLeft=0}b.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};b.prototype.allowedToUpload=function(){return this.itemsLeft-->0};return b}();Im["default"]=b}var Lm=!1,Mm=function(){Lm||(Lm=!0,Km());return Jm.exports},Nm={},Om={exports:Nm};function Pm(){__p&&__p();Nm.__esModule=!0;var a=V(),b=e(a);e=Mm();var c=d(e);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var g=b.ticker.shared;b.settings.UPLOADS_PER_FRAME=4;a=function(){__p&&__p();function a(d){__p&&__p();var e=this;f(this,a);this.limiter=new c["default"](b.settings.UPLOADS_PER_FRAME);this.renderer=d;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){if(!e.queue)return;e.prepareItems()};this.registerFindHook(m);this.registerFindHook(n);this.registerFindHook(h);this.registerFindHook(i);this.registerFindHook(j);this.registerUploadHook(k);this.registerUploadHook(l)}a.prototype.upload=function(a,c){typeof a==="function"&&(c=a,a=null),a&&this.add(a),this.queue.length?(c&&this.completes.push(c),this.ticking||(this.ticking=!0,g.addOnce(this.tick,this,b.UPDATE_PRIORITY.UTILITY))):c&&c()};a.prototype.tick=function(){setTimeout(this.delayedTick,0)};a.prototype.prepareItems=function(){__p&&__p();this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var a=this.queue[0],c=!1;if(a&&!a._destroyed)for(var d=0,e=this.uploadHooks.length;d<e;d++)if(this.uploadHooks[d](this.uploadHookHelper,a)){this.queue.shift();c=!0;break}c||this.queue.shift()}if(!this.queue.length){this.ticking=!1;d=this.completes.slice(0);this.completes.length=0;for(var a=0,e=d.length;a<e;a++)d[a]()}else g.addOnce(this.tick,this,b.UPDATE_PRIORITY.UTILITY)};a.prototype.registerFindHook=function(a){a&&this.addHooks.push(a);return this};a.prototype.registerUploadHook=function(a){a&&this.uploadHooks.push(a);return this};a.prototype.add=function(a){for(var c=0,d=this.addHooks.length;c<d;c++)if(this.addHooks[c](a,this.queue))break;if(a instanceof b.Container)for(var c=a.children.length-1;c>=0;c--)this.add(a.children[c]);return this};a.prototype.destroy=function(){this.ticking&&g.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};return a}();Nm["default"]=a;function h(a,c){var d=!1;if(a&&a._textures&&a._textures.length)for(var e=0;e<a._textures.length;e++)if(a._textures[e]instanceof b.Texture){var f=a._textures[e].baseTexture;c.indexOf(f)===-1&&(c.push(f),d=!0)}return d}function i(a,c){if(a instanceof b.BaseTexture){c.indexOf(a)===-1&&c.push(a);return!0}return!1}function j(a,c){if(a._texture&&a._texture instanceof b.Texture){a=a._texture.baseTexture;c.indexOf(a)===-1&&c.push(a);return!0}return!1}function k(a,c){if(c instanceof b.Text){c.updateText(!0);return!0}return!1}function l(a,c){if(c instanceof b.TextStyle){a=c.toFontString();b.TextMetrics.measureFont(a);return!0}return!1}function m(a,c){if(a instanceof b.Text){c.indexOf(a.style)===-1&&c.push(a.style);c.indexOf(a)===-1&&c.push(a);a=a._texture.baseTexture;c.indexOf(a)===-1&&c.push(a);return!0}return!1}function n(a,c){if(a instanceof b.TextStyle){c.indexOf(a)===-1&&c.push(a);return!0}return!1}}var Qm=!1,Rm=function(){Qm||(Qm=!0,Pm());return Om.exports},Sm={},Tm={exports:Sm};function Um(){__p&&__p();Sm.__esModule=!0;var a=V(),b=d(a);d=Rm();a=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){__p&&__p();g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.uploadHookHelper=c.renderer;c.registerFindHook(j);c.registerUploadHook(h);c.registerUploadHook(i);return c}return b}(a["default"]);Sm["default"]=c;function h(a,c){if(c instanceof b.BaseTexture){c._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(c);return!0}return!1}function i(a,c){if(c instanceof b.Graphics){(c.dirty||c.clearDirty||!c._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(c);return!0}return!1}function j(a,c){if(a instanceof b.Graphics){c.push(a);return!0}return!1}b.WebGLRenderer.registerPlugin("prepare",c)}var Vm=!1,Wm=function(){Vm||(Vm=!0,Um());return Tm.exports},Xm={},Ym={exports:Xm};function Zm(){__p&&__p();Xm.__esModule=!0;var a=V(),b=d(a);d=Rm();a=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=16;c=function(a){__p&&__p();g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.uploadHookHelper=c;c.canvas=document.createElement("canvas");c.canvas.width=h;c.canvas.height=h;c.ctx=c.canvas.getContext("2d");c.registerUploadHook(i);return c}b.prototype.destroy=function(){a.prototype.destroy.call(this),this.ctx=null,this.canvas=null};return b}(a["default"]);Xm["default"]=c;function i(a,c){if(c instanceof b.BaseTexture){c=c.source;var d=c.width===0?a.canvas.width:Math.min(a.canvas.width,c.width),e=c.height===0?a.canvas.height:Math.min(a.canvas.height,c.height);a.ctx.drawImage(c,0,0,d,e,0,0,a.canvas.width,a.canvas.height);return!0}return!1}b.CanvasRenderer.registerPlugin("prepare",c)}var $m=!1,an=function(){$m||($m=!0,Zm());return Ym.exports},bn={},cn={exports:bn};function dn(){__p&&__p();bn.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.maxMilliseconds=c,this.frameStart=0}b.prototype.beginFrame=function(){this.frameStart=Date.now()};b.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return b}();bn["default"]=b}var en=!1,fn=function(){en||(en=!0,dn());return cn.exports},gn={},hn={exports:gn};function jn(){__p&&__p();gn.__esModule=!0;var a=Wm();Object.defineProperty(gn,"webgl",{enumerable:!0,get:function(){return f(a)["default"]}});var b=an();Object.defineProperty(gn,"canvas",{enumerable:!0,get:function(){return f(b)["default"]}});var c=Rm();Object.defineProperty(gn,"BasePrepare",{enumerable:!0,get:function(){return f(c)["default"]}});var d=Mm();Object.defineProperty(gn,"CountLimiter",{enumerable:!0,get:function(){return f(d)["default"]}});var e=fn();Object.defineProperty(gn,"TimeLimiter",{enumerable:!0,get:function(){return f(e)["default"]}});function f(a){return a&&a.__esModule?a:{"default":a}}}var kn=!1,ln=function(){kn||(kn=!0,jn());return hn.exports},$={},mn={exports:$};function nn(){__p&&__p();$.__esModule=!0;$.loader=$.prepare=$.particles=$.mesh=$.loaders=$.interaction=$.filters=$.extras=$.extract=$.accessibility=void 0;var b=H();Object.keys(b).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty($,a,{enumerable:!0,get:function(){return b[a]}})});var c=V();Object.keys(c).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty($,a,{enumerable:!0,get:function(){return c[a]}})});var d=hi();n=n(d);d=wi();d=m(d);var e=Li();e=m(e);var f=uj();f=m(f);var g=Ak();g=m(g);var h=dl();h=m(h);var i=Bl();i=m(i);var j=im();j=m(j);var k=Hm();k=m(k);var l=ln();m=m(l);function m(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function n(a){return a&&a.__esModule?a:{"default":a}}c.utils.mixins.performMixins();l=i.shared||null;$.accessibility=d;$.extract=e;$.extras=f;$.filters=g;$.interaction=h;$.loaders=i;$.mesh=j;$.particles=k;$.prepare=m;$.loader=l;typeof n["default"]==="function"&&n["default"]($);a.PIXI=$}var on=!1,pn=function(){on||(on=!0,nn());return mn.exports};d=function(a){switch(a){case void 0:return pn()}};e.exports=d}),null);
__d("pixi-js",["pixi-js-4.8.1"],(function(a,b,c,d,e,f){e.exports=b("pixi-js-4.8.1")()}),null);
__d("ShowreelSharedRenderer.react",["React","ShowreelRendererUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelRendererUtils").createPixiRenderer;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={renderer:g(c.props.width,c.props.height,c.props.target)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a={renderer:this.state.renderer,playbackMode:this.props.playbackMode};return b("React").jsx(c.Context.Provider,{value:a,children:this.props.children})};return c}(b("React").Component);a.Context=b("React").createContext(null);e.exports=a}),null);
__d("BodymovinTypes.flow",[],(function(a,b,c,d,e,f){__p&&__p();e.exports.isAngleEffect=function(a){return a._type==="AngleEffect"},e.exports.isAnimatedTextPropertyLayer=function(a){return a._type==="AnimatedTextPropertyLayer"},e.exports.isAnimation=function(a){return a._type==="Animation"},e.exports.isAudioLayer=function(a){return a._type==="AudioLayer"},e.exports.isAudioSource=function(a){return a._type==="AudioSource"},e.exports.isBackgroundHelper=function(a){return a._type==="BackgroundHelper"},e.exports.isBlendModeHelper=function(a){return a._type==="BlendModeHelper"},e.exports.isBooleanHelper=function(a){return a._type==="BooleanHelper"},e.exports.isCharSource=function(a){return a._type==="CharSource"},e.exports.isCheckBoxEffect=function(a){return a._type==="CheckBoxEffect"},e.exports.isColorEffect=function(a){return a._type==="ColorEffect"},e.exports.isCompLayer=function(a){return a._type==="CompLayer"},e.exports.isCoordinateHelper=function(a){return a._type==="CoordinateHelper"},e.exports.isCustomValueEffect=function(a){return a._type==="CustomValueEffect"},e.exports.isDimensionsSeparatedProperty=function(a){return a._type==="DimensionsSeparatedProperty"},e.exports.isDropDownEffect=function(a){return a._type==="DropDownEffect"},e.exports.isDropShadowEffect=function(a){return a._type==="DropShadowEffect"},e.exports.isEllipseShape=function(a){return a._type==="EllipseShape"},e.exports.isFillEffect=function(a){return a._type==="FillEffect"},e.exports.isFillShape=function(a){return a._type==="FillShape"},e.exports.isFlexHelper=function(a){return a._type==="FlexHelper"},e.exports.isFont=function(a){return a._type==="Font"},e.exports.isFontList=function(a){return a._type==="FontList"},e.exports.isGFillShape=function(a){return a._type==="GFillShape"},e.exports.isGStrokeShape=function(a){return a._type==="GStrokeShape"},e.exports.isGroupEffect=function(a){return a._type==="GroupEffect"},e.exports.isGroupShape=function(a){return a._type==="GroupShape"},e.exports.isImageLayer=function(a){return a._type==="ImageLayer"},e.exports.isImageSource=function(a){return a._type==="ImageSource"},e.exports.isIndexEffect=function(a){return a._type==="IndexEffect"},e.exports.isKeyframedEndValueProperty=function(a){return a._type==="KeyframedEndValueProperty"},e.exports.isKeyframedValueProperty=function(a){return a._type==="KeyframedValueProperty"},e.exports.isKineticStyleHelper=function(a){return a._type==="KineticStyleHelper"},e.exports.isLayerEffect=function(a){return a._type==="LayerEffect"},e.exports.isLineCapHelper=function(a){return a._type==="LineCapHelper"},e.exports.isLineJoinHelper=function(a){return a._type==="LineJoinHelper"},e.exports.isMaskHelper=function(a){return a._type==="MaskHelper"},e.exports.isMergeShape=function(a){return a._type==="MergeShape"},e.exports.isMultiDimensionalCoordinateHelper=function(a){return a._type==="MultiDimensionalCoordinateHelper"},e.exports.isMultiDimensionalKeyframedProperty=function(a){return a._type==="MultiDimensionalKeyframedProperty"},e.exports.isMultiDimensionalProperty=function(a){return a._type==="MultiDimensionalProperty"},e.exports.isNoValueEffect=function(a){return a._type==="NoValueEffect"},e.exports.isNullLayer=function(a){return a._type==="NullLayer"},e.exports.isPointEffect=function(a){return a._type==="PointEffect"},e.exports.isPreCompLayer=function(a){return a._type==="PreCompLayer"},e.exports.isPrecompSource=function(a){return a._type==="PrecompSource"},e.exports.isProLevelEffect=function(a){return a._type==="ProLevelEffect"},e.exports.isRectShape=function(a){return a._type==="RectShape"},e.exports.isRectangleHelper=function(a){return a._type==="RectangleHelper"},e.exports.isRoundShape=function(a){return a._type==="RoundShape"},e.exports.isShapeKeyframedProperty=function(a){return a._type==="ShapeKeyframedProperty"},e.exports.isShapeKeyframedValueProperty=function(a){return a._type==="ShapeKeyframedValueProperty"},e.exports.isShapeLayer=function(a){return a._type==="ShapeLayer"},e.exports.isShapeProperty=function(a){return a._type==="ShapeProperty"},e.exports.isShapeShape=function(a){return a._type==="ShapeShape"},e.exports.isShapeValueProperty=function(a){return a._type==="ShapeValueProperty"},e.exports.isSliderEffect=function(a){return a._type==="SliderEffect"},e.exports.isSolidLayer=function(a){return a._type==="SolidLayer"},e.exports.isStarShape=function(a){return a._type==="StarShape"},e.exports.isStrokeEffect=function(a){return a._type==="StrokeEffect"},e.exports.isStrokeShape=function(a){return a._type==="StrokeShape"},e.exports.isTestBasedHelper=function(a){return a._type==="TestBasedHelper"},e.exports.isTextBasedHelper=function(a){return a._type==="TextBasedHelper"},e.exports.isTextDatumLayer=function(a){return a._type==="TextDatumLayer"},e.exports.isTextDocumentKeyFrameLayer=function(a){return a._type==="TextDocumentKeyFrameLayer"},e.exports.isTextDocumentLayer=function(a){return a._type==="TextDocumentLayer"},e.exports.isTextGroupingHelper=function(a){return a._type==="TextGroupingHelper"},e.exports.isTextLayer=function(a){return a._type==="TextLayer"},e.exports.isTextMoreOptionLayer=function(a){return a._type==="TextMoreOptionLayer"},e.exports.isTextPathLayer=function(a){return a._type==="TextPathLayer"},e.exports.isTextPropertyLayer=function(a){return a._type==="TextPropertyLayer"},e.exports.isTextSelectorLayer=function(a){return a._type==="TextSelectorLayer"},e.exports.isTextShapeHelper=function(a){return a._type==="TextShapeHelper"},e.exports.isTintEffect=function(a){return a._type==="TintEffect"},e.exports.isTransform=function(a){return a._type==="Transform"},e.exports.isTransformHelper=function(a){return a._type==="TransformHelper"},e.exports.isTransformShape=function(a){return a._type==="TransformShape"},e.exports.isTrimShape=function(a){return a._type==="TrimShape"},e.exports.isTritoneEffect=function(a){return a._type==="TritoneEffect"},e.exports.isValueKeyframedProperty=function(a){return a._type==="ValueKeyframedProperty"},e.exports.isValueProperty=function(a){return a._type==="ValueProperty"},e.exports.isVideoSource=function(a){return a._type==="VideoSource"},e.exports.isAnimatedTextPropertyLayer=function(a){return a._type==="AnimatedTextPropertyLayer"},e.exports.isTextSelectorLayer=function(a){return a._type==="TextSelectorLayer"},e.exports.isCoordinateHelper=function(a){return a._type==="CoordinateHelper"},e.exports.isMultiDimensionalCoordinateHelper=function(a){return a._type==="MultiDimensionalCoordinateHelper"},e.exports.isAngleEffect=function(a){return a._type==="AngleEffect"},e.exports.isColorEffect=function(a){return a._type==="ColorEffect"},e.exports.isCustomValueEffect=function(a){return a._type==="CustomValueEffect"},e.exports.isDropDownEffect=function(a){return a._type==="DropDownEffect"},e.exports.isDropShadowEffect=function(a){return a._type==="DropShadowEffect"},e.exports.isFillEffect=function(a){return a._type==="FillEffect"},e.exports.isGroupEffect=function(a){return a._type==="GroupEffect"},e.exports.isNoValueEffect=function(a){return a._type==="NoValueEffect"},e.exports.isPointEffect=function(a){return a._type==="PointEffect"},e.exports.isProLevelEffect=function(a){return a._type==="ProLevelEffect"},e.exports.isSliderEffect=function(a){return a._type==="SliderEffect"},e.exports.isStrokeEffect=function(a){return a._type==="StrokeEffect"},e.exports.isTintEffect=function(a){return a._type==="TintEffect"},e.exports.isTritoneEffect=function(a){return a._type==="TritoneEffect"},e.exports.isKeyframedEndValueProperty=function(a){return a._type==="KeyframedEndValueProperty"},e.exports.isKeyframedValueProperty=function(a){return a._type==="KeyframedValueProperty"},e.exports.isShapeKeyframedValueProperty=function(a){return a._type==="ShapeKeyframedValueProperty"},e.exports.isCompLayer=function(a){return a._type==="CompLayer"},e.exports.isImageLayer=function(a){return a._type==="ImageLayer"},e.exports.isNullLayer=function(a){return a._type==="NullLayer"},e.exports.isShapeLayer=function(a){return a._type==="ShapeLayer"},e.exports.isSolidLayer=function(a){return a._type==="SolidLayer"},e.exports.isTextLayer=function(a){return a._type==="TextLayer"},e.exports.isMultiDimensionalKeyframedProperty=function(a){return a._type==="MultiDimensionalKeyframedProperty"},e.exports.isMultiDimensionalProperty=function(a){return a._type==="MultiDimensionalProperty"},e.exports.isDimensionsSeparatedProperty=function(a){return a._type==="DimensionsSeparatedProperty"},e.exports.isMultiDimensionalKeyframedProperty=function(a){return a._type==="MultiDimensionalKeyframedProperty"},e.exports.isMultiDimensionalProperty=function(a){return a._type==="MultiDimensionalProperty"},e.exports.isEllipseShape=function(a){return a._type==="EllipseShape"},e.exports.isFillShape=function(a){return a._type==="FillShape"},e.exports.isGFillShape=function(a){return a._type==="GFillShape"},e.exports.isGStrokeShape=function(a){return a._type==="GStrokeShape"},e.exports.isGroupShape=function(a){return a._type==="GroupShape"},e.exports.isMergeShape=function(a){return a._type==="MergeShape"},e.exports.isRectShape=function(a){return a._type==="RectShape"},e.exports.isShapeShape=function(a){return a._type==="ShapeShape"},e.exports.isStarShape=function(a){return a._type==="StarShape"},e.exports.isStrokeShape=function(a){return a._type==="StrokeShape"},e.exports.isTransformShape=function(a){return a._type==="TransformShape"},e.exports.isTrimShape=function(a){return a._type==="TrimShape"},e.exports.isShapeKeyframedProperty=function(a){return a._type==="ShapeKeyframedProperty"},e.exports.isShapeProperty=function(a){return a._type==="ShapeProperty"},e.exports.isAudioSource=function(a){return a._type==="AudioSource"},e.exports.isImageSource=function(a){return a._type==="ImageSource"},e.exports.isPrecompSource=function(a){return a._type==="PrecompSource"},e.exports.isVideoSource=function(a){return a._type==="VideoSource"},e.exports.isValueKeyframedProperty=function(a){return a._type==="ValueKeyframedProperty"},e.exports.isValueProperty=function(a){return a._type==="ValueProperty"},e.exports.switchAnimatedTextProperty=function(a,b){switch(a._type){case"AnimatedTextPropertyLayer":return!b.AnimatedTextPropertyLayer?null:b.AnimatedTextPropertyLayer(a);case"TextSelectorLayer":return!b.TextSelectorLayer?null:b.TextSelectorLayer(a);default:throw new Error("Unknown AnimatedTextProperty type "+a._type)}},e.exports.switchCoordinateHelper=function(a,b){switch(a._type){case"CoordinateHelper":return!b.CoordinateHelper?null:b.CoordinateHelper(a);case"MultiDimensionalCoordinateHelper":return!b.MultiDimensionalCoordinateHelper?null:b.MultiDimensionalCoordinateHelper(a);default:throw new Error("Unknown CoordinateHelper type "+a._type)}},e.exports.switchEffect=function(a,b){__p&&__p();switch(a._type){case"AngleEffect":return!b.AngleEffect?null:b.AngleEffect(a);case"ColorEffect":return!b.ColorEffect?null:b.ColorEffect(a);case"CustomValueEffect":return!b.CustomValueEffect?null:b.CustomValueEffect(a);case"DropDownEffect":return!b.DropDownEffect?null:b.DropDownEffect(a);case"DropShadowEffect":return!b.DropShadowEffect?null:b.DropShadowEffect(a);case"FillEffect":return!b.FillEffect?null:b.FillEffect(a);case"GroupEffect":return!b.GroupEffect?null:b.GroupEffect(a);case"NoValueEffect":return!b.NoValueEffect?null:b.NoValueEffect(a);case"PointEffect":return!b.PointEffect?null:b.PointEffect(a);case"ProLevelEffect":return!b.ProLevelEffect?null:b.ProLevelEffect(a);case"SliderEffect":return!b.SliderEffect?null:b.SliderEffect(a);case"StrokeEffect":return!b.StrokeEffect?null:b.StrokeEffect(a);case"TintEffect":return!b.TintEffect?null:b.TintEffect(a);case"TritoneEffect":return!b.TritoneEffect?null:b.TritoneEffect(a);default:throw new Error("Unknown Effect type "+a._type)}},e.exports.switchKeyframedValueProperty=function(a,b){switch(a._type){case"KeyframedEndValueProperty":return!b.KeyframedEndValueProperty?null:b.KeyframedEndValueProperty(a);case"KeyframedValueProperty":return!b.KeyframedValueProperty?null:b.KeyframedValueProperty(a);case"ShapeKeyframedValueProperty":return!b.ShapeKeyframedValueProperty?null:b.ShapeKeyframedValueProperty(a);default:throw new Error("Unknown KeyframedValueProperty type "+a._type)}},e.exports.switchLayer=function(a,b){switch(a._type){case"CompLayer":return!b.CompLayer?null:b.CompLayer(a);case"ImageLayer":return!b.ImageLayer?null:b.ImageLayer(a);case"NullLayer":return!b.NullLayer?null:b.NullLayer(a);case"ShapeLayer":return!b.ShapeLayer?null:b.ShapeLayer(a);case"SolidLayer":return!b.SolidLayer?null:b.SolidLayer(a);case"TextLayer":return!b.TextLayer?null:b.TextLayer(a);default:throw new Error("Unknown Layer type "+a._type)}},e.exports.switchMultiDimensionalProperty=function(a,b){switch(a._type){case"MultiDimensionalKeyframedProperty":return!b.MultiDimensionalKeyframedProperty?null:b.MultiDimensionalKeyframedProperty(a);case"MultiDimensionalProperty":return!b.MultiDimensionalProperty?null:b.MultiDimensionalProperty(a);default:throw new Error("Unknown MultiDimensionalProperty type "+a._type)}},e.exports.switchProperty=function(a,b){switch(a._type){case"DimensionsSeparatedProperty":return!b.DimensionsSeparatedProperty?null:b.DimensionsSeparatedProperty(a);case"MultiDimensionalKeyframedProperty":return!b.MultiDimensionalKeyframedProperty?null:b.MultiDimensionalKeyframedProperty(a);case"MultiDimensionalProperty":return!b.MultiDimensionalProperty?null:b.MultiDimensionalProperty(a);default:throw new Error("Unknown Property type "+a._type)}},e.exports.switchShape=function(a,b){__p&&__p();switch(a._type){case"EllipseShape":return!b.EllipseShape?null:b.EllipseShape(a);case"FillShape":return!b.FillShape?null:b.FillShape(a);case"GFillShape":return!b.GFillShape?null:b.GFillShape(a);case"GStrokeShape":return!b.GStrokeShape?null:b.GStrokeShape(a);case"GroupShape":return!b.GroupShape?null:b.GroupShape(a);case"MergeShape":return!b.MergeShape?null:b.MergeShape(a);case"RectShape":return!b.RectShape?null:b.RectShape(a);case"ShapeShape":return!b.ShapeShape?null:b.ShapeShape(a);case"StarShape":return!b.StarShape?null:b.StarShape(a);case"StrokeShape":return!b.StrokeShape?null:b.StrokeShape(a);case"TransformShape":return!b.TransformShape?null:b.TransformShape(a);case"TrimShape":return!b.TrimShape?null:b.TrimShape(a);default:throw new Error("Unknown Shape type "+a._type)}},e.exports.switchShapeProperty=function(a,b){switch(a._type){case"ShapeKeyframedProperty":return!b.ShapeKeyframedProperty?null:b.ShapeKeyframedProperty(a);case"ShapeProperty":return!b.ShapeProperty?null:b.ShapeProperty(a);default:throw new Error("Unknown ShapeProperty type "+a._type)}},e.exports.switchSource=function(a,b){switch(a._type){case"AudioSource":return!b.AudioSource?null:b.AudioSource(a);case"ImageSource":return!b.ImageSource?null:b.ImageSource(a);case"PrecompSource":return!b.PrecompSource?null:b.PrecompSource(a);case"VideoSource":return!b.VideoSource?null:b.VideoSource(a);default:throw new Error("Unknown Source type "+a._type)}},e.exports.switchValueProperty=function(a,b){switch(a._type){case"ValueKeyframedProperty":return!b.ValueKeyframedProperty?null:b.ValueKeyframedProperty(a);case"ValueProperty":return!b.ValueProperty?null:b.ValueProperty(a);default:throw new Error("Unknown ValueProperty type "+a._type)}}}),null);
__d("ShowreelAPNGLoader",["regeneratorRuntime","apng-js","pixi-js","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("apng-js")["default"],h={NONE:0,BACKGROUND:1,PREVIOUS:2},i={SOURCE:0,OVER:1};a=function(){__p&&__p();function a(){this.$1=document.createElement("canvas"),this.$2=this.$1.getContext("2d")}var c=a.prototype;c.getFrames=function(a){__p&&__p();var c,d,e,f,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:c=g(a.data);if(!(c instanceof Error)){m.next=4;break}b("recoverableViolation")("Failed to parse APNG","Showreel",{error:c});return m.abrupt("return",[]);case 4:(d=c.width,e=c.height,f=c.frames),this.$1.width=d,this.$1.height=e,this.$2.clearRect(0,0,d,e),h=[],i=null,j=0;case 11:if(!(j<f.length)){m.next=22;break}k=j===f.length-1;l=f[j];m.next=16;return b("regeneratorRuntime").awrap(this.$3(l));case 16:i=m.sent,h.push({texture:this.$4(d,e),time:l.delay}),k||this.$5(l,i);case 19:j++;m.next=11;break;case 22:return m.abrupt("return",h);case 23:case"end":return m.stop()}},null,this)};c.$4=function(a,c){var d=document.createElement("canvas"),e=d.getContext("2d");d.width=a;d.height=c;e.drawImage(this.$1,0,0,a,c);return b("pixi-js").Texture.fromCanvas(d)};c.$3=function(a){__p&&__p();var c,d,e,f,g,j,k,l;return b("regeneratorRuntime").async(function(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:m.next=2;return b("regeneratorRuntime").awrap(a.createImage());case 2:c=a.top,d=a.left,e=a.width,f=a.height,g=a.blendOp,j=a.disposeOp,k=a.imageElement;if(!(k==null)){m.next=5;break}return m.abrupt("return",b("recoverableViolation")("Could not load APNG frame data","Showreel"));case 5:l=null;j===h.PREVIOUS&&(l=this.$2.getImageData(d,c,e,f));g===i.SOURCE&&this.$2.clearRect(d,c,e,f);this.$2.drawImage(k,d,c);return m.abrupt("return",l);case 10:case"end":return m.stop()}},null,this)};c.$5=function(a,c){__p&&__p();var d=a.top,e=a.left,f=a.width,g=a.height;a=a.disposeOp;if(a===h.BACKGROUND)this.$2.clearRect(e,d,f,g);else if(a===h.PREVIOUS){if(c==null){b("recoverableViolation")("Previous frame dispose operation was PREVIOUS, but got empty previous frame data","Showreel");return}this.$2.putImageData(c,e,d)}};return a}();e.exports=a}),null);
__d("ShowreelAssets",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={},this.$2=[]}var b=a.prototype;b.size=function(){return Object.keys(this.$1).length};b.get=function(a){return this.$1[a]||null};b.add=function(a){this.$1[a.id]=a,a.type==="video"&&this.$2.push(a)};b.forEachVideo=function(a){this.$2.forEach(a)};b.mapVideos=function(a){return this.$2.map(a)};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/YwRHAVtN79l/
 */
__d("ShowreelThirdPartyGifuct",[],(function(a,b,c,d,e,f){__p&&__p();function g(a){this.data=a,this.pos=0}g.prototype.readByte=function(){return this.data[this.pos++]};g.prototype.peekByte=function(){return this.data[this.pos]};g.prototype.readBytes=function(a){var b=new Array(a);for(var c=0;c<a;c++)b[c]=this.readByte();return b};g.prototype.peekBytes=function(a){var b=new Array(a);for(var c=0;c<a;c++)b[c]=this.data[this.pos+c];return b};g.prototype.readString=function(a){var b="";for(var c=0;c<a;c++)b+=String.fromCharCode(this.readByte());return b};g.prototype.readBitArray=function(){var a=[],b=this.readByte();for(var c=7;c>=0;c--)a.push(!!(b&1<<c));return a};g.prototype.readUnsigned=function(a){var b=this.readBytes(2);if(a)return(b[1]<<8)+b[0];else return(b[0]<<8)+b[1]};function h(a){this.stream=new g(a),this.output={}}h.prototype.parse=function(a){this.parseParts(this.output,a);return this.output};h.prototype.parseParts=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];this.parsePart(a,d)}};h.prototype.parsePart=function(a,b){__p&&__p();var c=b.label;if(b.requires&&!b.requires(this.stream,this.output,a))return;if(b.loop){var d=[];while(b.loop(this.stream)){var e={};this.parseParts(e,b.parts);d.push(e)}a[c]=d}else b.parts?(e={},this.parseParts(e,b.parts),a[c]=e):b.parser?(e=b.parser(this.stream,this.output,a),b.skip||(a[c]=e)):b.bits&&(a[c]=this.parseBits(b.bits))};function i(a){return a.reduce(function(a,b){return a*2+b},0)}h.prototype.parseBits=function(a){var b={},c=this.stream.readBitArray();for(var d in a){var e=a[d];e.length?b[d]=i(c.slice(e.index,e.index+e.length)):b[d]=c[e.index]}return b};b={readByte:function(){return function(a){return a.readByte()}},readBytes:function(a){return function(b){return b.readBytes(a)}},readString:function(a){return function(b){return b.readString(a)}},readUnsigned:function(a){return function(b){return b.readUnsigned(a)}},readArray:function(a,b){return function(c,d,e){d=b(c,d,e);e=new Array(d);for(var f=0;f<d;f++)e[f]=c.readBytes(a);return e}}};c={label:"blocks",parser:function(a){var b=[],c=0;for(var d=a.readByte();d!==c;d=a.readByte())b=b.concat(a.readBytes(d));return b}};d={label:"gce",requires:function(a){a=a.peekBytes(2);return a[0]===33&&a[1]===249},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"byteSize",parser:b.readByte()},{label:"extras",bits:{future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}}},{label:"delay",parser:b.readUnsigned(!0)},{label:"transparentColorIndex",parser:b.readByte()},{label:"terminator",parser:b.readByte(),skip:!0}]};f={label:"image",requires:function(a){a=a.peekByte();return a===44},parts:[{label:"code",parser:b.readByte(),skip:!0},{label:"descriptor",parts:[{label:"left",parser:b.readUnsigned(!0)},{label:"top",parser:b.readUnsigned(!0)},{label:"width",parser:b.readUnsigned(!0)},{label:"height",parser:b.readUnsigned(!0)},{label:"lct",bits:{exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}}}]},{label:"lct",requires:function(a,b,c){return c.descriptor.lct.exists},parser:b.readArray(3,function(a,b,c){return Math.pow(2,c.descriptor.lct.size+1)})},{label:"data",parts:[{label:"minCodeSize",parser:b.readByte()},c]}]};var j={label:"text",requires:function(a){a=a.peekBytes(2);return a[0]===33&&a[1]===1},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"blockSize",parser:b.readByte()},{label:"preData",parser:function(a,b,c){return a.readBytes(c.text.blockSize)}},c]},k={label:"application",requires:function(a,b,c){b=a.peekBytes(2);return b[0]===33&&b[1]===255},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"blockSize",parser:b.readByte()},{label:"id",parser:function(a,b,c){return a.readString(c.blockSize)}},c]};c={label:"comment",requires:function(a,b,c){b=a.peekBytes(2);return b[0]===33&&b[1]===254},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},c]};d={label:"frames",parts:[d,k,c,f,j],loop:function(a){a=a.peekByte();return a===33||a===44}};var l=[{label:"header",parts:[{label:"signature",parser:b.readString(3)},{label:"version",parser:b.readString(3)}]},{label:"lsd",parts:[{label:"width",parser:b.readUnsigned(!0)},{label:"height",parser:b.readUnsigned(!0)},{label:"gct",bits:{exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}}},{label:"backgroundColorIndex",parser:b.readByte()},{label:"pixelAspectRatio",parser:b.readByte()}]},{label:"gct",requires:function(a,b){return b.lsd.gct.exists},parser:b.readArray(3,function(a,b){return Math.pow(2,b.lsd.gct.size+1)})},d];function a(a){a=new Uint8Array(a);a=new h(a);this.raw=a.parse(l);this.raw.hasImages=!1;for(var a=0;a<this.raw.frames.length;a++)if(this.raw.frames[a].image){this.raw.hasImages=!0;break}}a.prototype.decompressFrame=function(a,b){__p&&__p();if(a>=this.raw.frames.length)return null;a=this.raw.frames[a];if(a.image){var c=a.image.descriptor.width*a.image.descriptor.height;d=d(a.image.data.minCodeSize,a.image.data.blocks,c);a.image.descriptor.lct.interlaced&&(d=e(d,a.image.descriptor.width));c={pixels:d,dims:{top:a.image.descriptor.top,left:a.image.descriptor.left,width:a.image.descriptor.width,height:a.image.descriptor.height}};a.image.descriptor.lct&&a.image.descriptor.lct.exists?c.colorTable=a.image.lct:c.colorTable=this.raw.gct;a.gce&&(c.delay=(a.gce.delay||10)*10,c.disposalType=a.gce.extras.disposal,a.gce.extras.transparentColorGiven&&(c.transparentIndex=a.gce.transparentColorIndex));b&&(c.patch=f(c));return c}return null;function d(a,b,c){__p&&__p();var d=4096,e=-1,f=c,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;c=new Array(c);var v=new Array(d),w=new Array(d),x=new Array(d+1);a=a;h=1<<a;k=h+1;g=h+2;m=e;j=a+1;i=(1<<j)-1;for(o=0;o<h;o++)v[o]=0,w[o]=o;q=n=count=r=s=u=t=0;for(p=0;p<f;){if(s===0){if(n<j){q+=b[t]<<n;n+=8;t++;continue}o=q&i;q>>=j;n-=j;if(o>g||o==k)break;if(o==h){j=a+1;i=(1<<j)-1;g=h+2;m=e;continue}if(m==e){x[s++]=w[o];m=o;r=o;continue}l=o;o==g&&(x[s++]=r,o=m);while(o>h)x[s++]=w[o],o=v[o];r=w[o]&255;x[s++]=r;g<d&&(v[g]=m,w[g]=r,g++,(g&i)===0&&g<d&&(j++,i+=g));m=l}s--;c[u++]=x[s];p++}for(p=u;p<f;p++)c[p]=0;return c}function e(a,b){var c=new Array(a.length),d=a.length/b,e=function(e,d){d=a.slice(d*b,(d+1)*b);c.splice.apply(c,[e*b,b].concat(d))},f=[0,4,2,1],g=[8,8,4,2],h=0;for(var i=0;i<4;i++)for(var j=f[i];j<d;j+=g[i])e(j,h),h++;return c}function f(b){var a=b.pixels.length,c=new Uint8ClampedArray(a*4);for(var d=0;d<a;d++){var e=d*4,f=b.pixels[d],g=b.colorTable[f];c[e]=g[0];c[e+1]=g[1];c[e+2]=g[2];c[e+3]=f!==b.transparentIndex?255:0}return c}};a.prototype.decompressFrames=function(a){var b=[];for(var c=0;c<this.raw.frames.length;c++){var d=this.raw.frames[c];d.image&&b.push(this.decompressFrame(c,a))}return b};e.exports=a}),null);
__d("ShowreelGIFLoader",["ShowreelThirdPartyGifuct","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=document.createElement("canvas"),this.$2=this.$1.getContext("2d"),this.$3={}}var c=a.prototype;c.getFrames=function(a){__p&&__p();var c=this;a=a.data;var d=document.createElement("canvas"),e=d.getContext("2d");a=new(b("ShowreelThirdPartyGifuct"))(a);a=a.decompressFrames(!0);var f=a[0].dims,g=f.width,h=f.height;this.$1.width=g;this.$1.height=h;d.width=g*a.length;d.height=h;var i=new(b("pixi-js").BaseTexture.fromCanvas)(d);return a.map(function(a,d,f){__p&&__p();var j=a.patch,k=a.dims;a=a.delay;var l=d-1,m=c.createImageData(k.width,k.height),n=k.left;k=k.top;d=d*g;var o=0;m.data.set(j);c.$2.clearRect(0,0,g,h);c.$2.putImageData(m,n,k);j=c.$2.getImageData(0,0,g,h);if(l>=0){m=f[l].disposalType;if(m<2){n=e.getImageData(l*g,0,g,h);c.addBackground(j,n)}}e.putImageData(j,d,o);k=new(b("pixi-js").Texture)(i,new(b("pixi-js").Rectangle)(d,o,g,h));return{texture:k,time:a}})};c.addBackground=function(a,b){for(var c=0;c<a.data.length;c+=4){var d=a.data[c+3]===0;d&&(a.data[c]=b.data[c],a.data[c+1]=b.data[c+1],a.data[c+2]=b.data[c+2],a.data[c+3]=b.data[c+3])}};c.createImageData=function(a,b){var c=a+":"+b;this.$3[c]||(this.$3[c]=this.$2.createImageData(a,b));return this.$3[c]};return a}();e.exports=a}),null);
__d("ShowreelAssetLoader",["regeneratorRuntime","Promise","BodymovinTypes.flow","pixi-js","ShowreelAssets","ShowreelGIFLoader","ShowreelAPNGLoader","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BodymovinTypes.flow").switchSource,h=b("pixi-js").loaders.Loader,i={mp4:"VideoSource",mov:"VideoSource",png:"ImageSource",jpg:"ImageSource",jpeg:"ImageSource",gif:"ImageSource",apng:"ImageSource",mp3:"AudioSource",wav:"AudioSource"};a=b("pixi-js").loaders.Loader.Resource;var j=a.LOAD_TYPE,k=a.XHR_RESPONSE_TYPE,l=/(.*)__local__(.*)/,m=new Uint8Array([137,80,78,71,13,10,26,10]);e.exports=function(){__p&&__p();function a(){__p&&__p();var a=this;this.$8=function(b){__p&&__p();var c=b.url;if(!c||a.$4[b.id]===c)return;var d=a.$2.resources[b.id];d&&(d.isLoading&&d.abort(),delete a.$2.resources[b.id]);a.$4[b.id]=c;var e=q(c);if(!e)throw new Error("Invalid url: "+c+". File extension of asset not found in url.");d=i[e];d||(d="ImageSource");var f=l.exec(c);f&&(c=f[1]);b._type=d;g(b,{ImageSource:function(b){var d=e==="gif",f=e==="png";d=d||f;f=d?j.XHR:j.IMAGE;d=d?k.BUFFER:k.DEFAULT;b={name:b.id,url:c,crossOrigin:/^blob:.*/.test(c),loadType:f,xhrType:d,metadata:{extension:e}};a.$2.add(b)},AudioSource:function(b){var d={name:b.id,url:c,crossOrigin:!0,loadType:j.AUDIO,xhrType:k.BUFFER};a.$2.add(d,function(a){a.audio=b})},VideoSource:function(b){a.$10(b,c)}})};this.$7=function(c,d){__p&&__p();var e=c.metadata.extension,f=function(a){c.frames=a,c.texture=a[0].texture};if(e==="gif")f(a.$5.getFrames(c)),d();else if(e==="png"){e=new Uint8Array(c.data);var g=p(e);g?b("promiseDone")(a.$6.getFrames(c).then(f),d,d):b("promiseDone")(n(e,"image/png"),function(a){c.texture=b("pixi-js").Texture.from(a),d()},d)}else d()};this.$4={};this.$1=new(b("ShowreelAssets"))();this.$5=new(b("ShowreelGIFLoader"))();this.$6=new(b("ShowreelAPNGLoader"))();this.$3=[];this.$2=new h();this.$2.use(this.$7)}var c=a.prototype;c.getAssets=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!(!a.assets||a.assets.length===0)){c.next=2;break}return c.abrupt("return",this.$1);case 2:a.assets.forEach(this.$8);c.next=5;return b("regeneratorRuntime").awrap(b("Promise").all([this.$9()].concat(this.$3)));case 5:return c.abrupt("return",this.$1);case 6:case"end":return c.stop()}},null,this)};c.isLoaded=function(a){var b=this;a=a.assets.some(function(a){var c=a.url;return!c||b.$4[a.id]===c?!1:!0});return!a};c.$9=function(){__p&&__p();var a=this,c=this.$2;return new(b("Promise"))(function(b,d){__p&&__p();c.onError.add(d),c.onComplete.add(function(){__p&&__p();Object.keys(c.resources).forEach(function(b){__p&&__p();var d=c.resources[b].loadType;if(d===j.AUDIO){d={id:b,audio:c.resources[b].data,type:"audio"};a.$1.add(d)}else{d=c.resources[b];var e=d.texture;d=d.frames;b={id:b,type:"image",texture:e,frames:d};a.$1.add(b)}}),b()}),c.load()})};c.$10=function(a,c){__p&&__p();var d=this,e=new(b("Promise"))(function(f,g){__p&&__p();var h=document.createElement("video");h.setAttribute("webkit-playsinline","");h.setAttribute("playsinline","");h.src=c;h.addEventListener("error",g);a.local||(h.crossOrigin="anonymous");var i=new(b("pixi-js").VideoBaseTexture)(h);i.autoPlay=!1;i.autoUpdate=!1;i.on("loaded",function(){__p&&__p();h.pause();h.currentTime=0;var c={id:a.id,video:h,type:"video",texture:new(b("pixi-js").Texture)(i)};a.duration=h.duration;a.width=h.videoWidth;a.height=h.videoHeight;d.$1.add(c);f();c=d.$3.indexOf(e);c>-1&&d.$3.splice(c,1)});h.load()});this.$3.push(e)};return a}();function n(a,c){a=new Blob([a],{type:c});c=URL.createObjectURL(a);var d=new Image();d.src=c;return new(b("Promise"))(function(a,b){d.onload=function(){URL.revokeObjectURL(d.src),a(d)},d.onerror=b})}function o(a){return m.every(function(b,c){return a[c]===b})}function p(a){__p&&__p();var b=8,c=4,d=4,e=4,f="IEND",g="acTL",h="IDAT";if(!o(a))return!1;var i=new DataView(a.buffer);b=b;var j=null;while(b<a.length&&j!==f){var k=i.getUint32(b),l=b+c,m=l+d;j=String.fromCharCode.apply(String,a.subarray(l,m));if(j===g)return!0;if(j===h)return!1;b=m+k+e}return!1}function q(a){var b=a.indexOf("?"),c=a.indexOf("#");b=Math.min(b>-1?b:a.length,c>-1?c:a.length);a=a.substring(0,b);return a.substring(a.lastIndexOf(".")+1).toLowerCase()}}),null);
__d("ShowreelFontUtils",[],(function(a,b,c,d,e,f){"use strict";e.exports={getNamespacedFontName:function(a,b){return b+"_"+a}}}),null);
__d("ShowreelFontLoader",["regeneratorRuntime","Promise","ShowreelFontUtils","ShowreelUtils","nullthrows","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelFontUtils").getNamespacedFontName,h=b("ShowreelUtils").deepEquals,i=!1;a=function(){__p&&__p();function a(a,b,c,d){d===void 0&&(d=!1),this.$2={},this.$1=a,this.$3=b,this.$4=c,this.$5=null,this.$6=d}var c=a.prototype;c.load=function(a){__p&&__p();var c=this,d,e,f,h;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:if(a){j.next=2;break}return j.abrupt("return");case 2:d=a.font_resources||{};if(this.$7(d)){j.next=5;break}return j.abrupt("return");case 5:this.$5=d;/Android/i.test(navigator.userAgent)&&d["Font1-Medium"]&&(d["Font1-Bold"]=d["Font1-Medium"]);j.next=9;return b("regeneratorRuntime").awrap(this.$8(d));case 9:e=j.sent;if(!(e==null)){j.next=12;break}return j.abrupt("return");case 12:f=Object.keys(e).map(function(a){if(a==="facebook_emoji")return;var b=g(a,c.$4.id);a=e[a];return c.$9(b,a.uri)});h=e.facebook_emoji;i==!1&&h!=null&&(i=!0,f.push(this.$9("facebook_emoji",h.uri)));j.next=17;return b("regeneratorRuntime").awrap(b("Promise").all(f));case 17:case"end":return j.stop()}},null,this)};c.$9=function(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:if(!(typeof document.fonts==="object"&&typeof FontFace==="function")){f.next=7;break}d=new FontFace(a,"url("+c+") format('truetype')");f.next=4;return b("regeneratorRuntime").awrap(d.load());case 4:document.fonts.add(d);f.next=9;break;case 7:e="@font-face {\n        font-family: '"+a+"';\n        src: url("+c+") format('truetype');\n      }",this.$1.insertRule(e,0);case 9:case"end":return f.stop()}},null,this)};c.isLoaded=function(a){a=a.font_resources||{};return!this.$7(a)};c.$7=function(a){__p&&__p();if(!this.$5)return!0;if(this.$6)return!h(a,this.$5);if(!b("shallowEqual")(a,this.$5))return!0;a=Object.values(a)||[];if(typeof a[0]==="string")return!1;var c=Object.values(this.$5)||[];return a.some(function(a){return!c.find(function(b){return b.uri===a.uri})})};c.$8=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:c=Object.keys(a);if(!(c.length===0)){f.next=3;break}return f.abrupt("return",null);case 3:d=c.reduce(function(b,c){c=a[c];typeof c==="string"&&b.push(c);return b},[]);if(!(d.length===0)){f.next=6;break}return f.abrupt("return",a);case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$10(d));case 8:e=f.sent;return f.abrupt("return",c.reduce(function(c,d){var f=a[d];typeof f==="string"?c[d]=b("nullthrows")(e[f],"Could not find font "+f+" in cache"):c[d]=f;return c},{}));case 10:case"end":return f.stop()}},null,this)};c.$10=function(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:c=Object.keys(this.$2);d=a.filter(function(a){return c.indexOf(a)===-1});if(!(d.length===0)){g.next=4;break}return g.abrupt("return",this.$2);case 4:e=b("nullthrows")(this.$3,"Must specify a FontsResolver (resolveFonts) in ShowreelVideoPlayer");g.next=7;return b("regeneratorRuntime").awrap(e(d));case 7:f=g.sent;Object.assign(this.$2,f);return g.abrupt("return",this.$2);case 10:case"end":return g.stop()}},null,this)};return a}();e.exports=a}),null);
__d("ShowreelContentLoader",["invariant","regeneratorRuntime","Promise","ShowreelAssetLoader","ShowreelFontLoader","nullthrows","promiseWithTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=13e3;e.exports=function(){__p&&__p();function a(a,c,d){d===void 0&&(d=!1),this.$6=c,this.$2=new(b("ShowreelAssetLoader"))(),this.$1=new(b("ShowreelFontLoader"))(window.document.styleSheets[0],a,c,d),this.$5=d}var c=a.prototype;c.load=function(a,c){__p&&__p();return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(!(this.isLoaded(a,c)&&this.$4!=null)){d.next=4;break}if(!(this.$7!=null)){d.next=3;break}return d.abrupt("return",this.$7);case 3:return d.abrupt("return",{assets:b("nullthrows")(this.$4)});case 4:this.$7=this.$8(a,c);return d.abrupt("return",this.$7);case 6:case"end":return d.stop()}},null,this)};c.$8=function(a,c){__p&&__p();var d=this,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:e=function(){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(b("promiseWithTimeout")(d.$9(a,c),{timeout:h,rejectOnTimeout:!0}));case 2:e=f.sent;return f.abrupt("return",b("nullthrows")(e));case 4:case"end":return f.stop()}},null,this)};f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(e());case 4:return f.abrupt("return",f.sent);case 7:f.prev=7;f.t0=f["catch"](1);this.$2=new(b("ShowreelAssetLoader"))();f.prev=10;f.next=13;return b("regeneratorRuntime").awrap(e());case 13:return f.abrupt("return",f.sent);case 16:f.prev=16;f.t1=f["catch"](10);throw new Error("Showreel Content failed to load");case 19:case"end":return f.stop()}},null,this,[[1,7],[10,16]])};c.$9=function(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([this.$2.getAssets(c),this.$1.load(a)]));case 2:d=f.sent;e=d[0];e.size()===c.assets.length||g(0,17365);this.$4=e;this.$3=a;this.$7=null;return f.abrupt("return",{assets:e});case 9:case"end":return f.stop()}},null,this)};c.isLoaded=function(a,b){return this.$5?this.$2.isLoaded(b)&&this.$1.isLoaded(a):!1};return a}()}),null);
__d("ShowreelAudioTrack",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();e.exports=function(){__p&&__p();function a(a,b){this.$3=0,this.$1=a,this.$2=new window.Audio(),this.$1.children[0]instanceof HTMLSourceElement||g(0,13420),this.$2.src=this.$1.children[0].src,this.$2.preload="auto",this.$2.volume=b.volume,this.$3=b.start,this.$2.currentTime=this.$3,this.$2.load()}var b=a.prototype;b.play=function(){this.$2.play()};b.stop=function(){this.$2.pause()};b.setCurrentTime=function(a){this.$2.currentTime=this.$3+a};b.destroy=function(){this.stop()};return a}()}),null);
__d("ShowreelAudioManager",["ShowreelAudioTrack"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.$1=c;this.$2=a;this.$3=[];this.$2.audioTracks!==void 0&&this.$2.audioTracks.forEach(function(a){var c=d.$1.get(a.referenceId);if(c!=null&&c.type==="audio"){c=new(b("ShowreelAudioTrack"))(c.audio,a);d.$3.push(c)}})}var c=a.prototype;c.play=function(){this.$3.forEach(function(a){a.play()})};c.pause=function(){this.$3.forEach(function(a){a.stop()})};c.updateCurrentTime=function(a){this.$3.forEach(function(b){b.setCurrentTime(a)})};c.reset=function(a,b){this.updateCurrentTime(a),b?this.play():this.pause()};c.destroy=function(){this.$3.forEach(function(a){a.destroy()})};return a}();e.exports=a}),null);
__d("ShowreelCanvasRenderer",["nullthrows","pixi-js","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();function a(a,b,c,d){this.$3=!1,this.$6=!1,this.$2=a,this.$1=c,this.$5=b,this.setInViewPort(d)}var c=a.prototype;c.render=function(a){__p&&__p();if(!this.$3){this.$7=a;return}var c=this.$5,d=this.$4;if(d==null){b("recoverableViolation")("Failed to render, got null renderer","Showreel");return}if(this.$6&&c!=null){while(c.children.length)c.removeChild(c.children[0]);c.appendChild(d.view);this.$6=!1}d.render(a)};c.dispose=function(){this.$2.releaseRenderer(this.$4)};c.getView=function(){return b("nullthrows")(this.$4,"Renderer not found").view};c.setContainer=function(a){if(a!=null&&this.$5===a)return;var b=this.$4;b!=null&&(this.$5!=null&&this.$5.removeChild(b.view),a!=null&&a.appendChild(b.view));this.$5=a};c.setInViewPort=function(a){__p&&__p();var b=this.$5;if(this.$3===a)return;this.$3=a;if(a){a=this.$2.borrowRenderer(this.$1);this.$6=!0;this.$4=a;this.$7&&(this.render(this.$7),this.$7=null)}else{a=this.$4;if(b!=null&&a!=null&&a.view.parentElement===b){b.removeChild(a.view);var c=a.extract;if(c!=null){c=c.canvas();c.style.width=this.$1.viewSize.width+"px";c.style.height=this.$1.viewSize.height+"px";b.appendChild(c)}}this.$2.releaseRenderer(a);this.$4=null}};c.isInViewPort=function(){return this.$3};return a}()}),null);
__d("ShowreelCanvasRendererPool",["ShowreelRendererUtils","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelRendererUtils").createPixiRenderer,h=8;a=function(){__p&&__p();function a(a){a===void 0&&(a=h),this.$1=[],this.$2=[],this.$3=a}var c=a.prototype;c.getRendererCount=function(){return this.$1.length+this.$2.length};c.borrowRenderer=function(a){var b=i(a),c=this.$4(b);return(c=c)!=null?c:this.$5(a,b)};c.releaseRenderer=function(a){if(a==null)return;var c=b("nullthrows")(this.$1.find(function(b){return b.renderer===a}),"ShowreelCanvasRendererPool cannot find SystemRenderer");this.$1.splice(this.$1.indexOf(c),1);this.$2.push(c);this.$6()};c.$4=function(a){var b=this.$2.find(function(b){return b.key===a});if(b!=null){var c=this.$2.indexOf(b);this.$2.splice(c,1);this.$1.push(b);return b.renderer}return null};c.$5=function(a,b){this.$6();var c=g(a.rendererSize.width,a.rendererSize.height,a.target);c.view.style.width=a.viewSize.width+"px";c.view.style.height=a.viewSize.height+"px";this.$1.push({key:b,renderer:c});return c};c.$6=function(){while(this.$2.length>0&&this.getRendererCount()>=this.$3){var a=this.$2.shift();if(a!=null)try{a.renderer.destroy()}catch(a){b("recoverableViolation")("Failed to destroy PIXI renderer","Showreel",a)}}};return a}();function i(a){return[a.rendererSize.width,a.rendererSize.height,a.viewSize.width,a.viewSize.height,a.target].join("::")}e.exports=a}),null);
__d("ShowreelDraggable",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Symbol("drag_manager");a=function(){__p&&__p();function a(a){__p&&__p();var b=this;this.$1=null;this.$2=null;this.$3=null;this.$4=null;this.$6=function(a){b.$2=h(a.data.global),b.$1=null,b.$3=null,b.$5.on("pointermove",b.$7),b.$5.on("pointerup",b.$8),b.$5.on("pointerupoutside",b.$8),b.$9("dragstart",a)};this.$7=function(a){b.$9("drag",a)};this.$8=function(a){b.$3=h(a.data.global),b.$5.off("pointermove",b.$7),b.$5.off("pointerup",b.$8),b.$5.off("pointerupoutside",b.$8),b.$9("dragend",a)};a.on("pointerdown",this.$6);a.interactive=!0;a.buttonMode=!0;this.$5=a}var b=a.prototype;b.$9=function(a,b){var c=h(b.data.global),d=this.$2,e=this.$1,f=this.$3;this.$5.emit(a,{original:b,start:h(d),previous:h(e),current:h(c),end:h(f),delta:{x:e&&c?c.x-e.x:0,y:e&&c?c.y-e.y:0}});this.$4=c;this.$1=h(c)};a.enable=function(a){a[g]==null&&(a[g]=new this(a))};return a}();function h(a){return a!=null?a.clone():null}e.exports=a}),null);
__d("BezierFactory",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};e.exports={getBezierEasingFunction:function(a,b,c,d){var e="bez_"+a+"_"+b+"_"+c+"_"+d;return g[e]?g[e]:new v([a,b,c,d]).compute}};var h=4,i=.001,j=1e-7,k=10,l=11,m=1/(l-1),n=typeof Float32Array==="function";function o(a,b){return 1-3*b+3*a}function p(a,b){return 3*b-6*a}function q(a){return 3*a}function r(a,b,c){return((o(b,c)*a+p(b,c))*a+q(b))*a}function s(a,b,c){return 3*o(b,c)*a*a+2*p(b,c)*a+q(b)}function t(a,b,c,d,e){var f,g,h=0;do g=b+(c-b)/2,f=r(g,d,e)-a,f>0?c=g:b=g;while(Math.abs(f)>j&&++h<k);return g}function u(a,b,c,d){for(var e=0;e<h;++e){var f=s(b,c,d);if(f===0)return b;var g=r(b,c,d)-a;b-=g/f}return b}function v(a){this._p=a,this._mSampleValues=n?new Float32Array(l):new Array(l),this._precomputed=!1,this.compute=this.compute.bind(this)}v.prototype={compute:function(a){var b=this._p[0],c=this._p[1],d=this._p[2],e=this._p[3];this._precomputed||this._precompute();if(b===c&&d===e)return a;if(a===0)return 0;return a===1?1:r(this._getTForX(a),c,e)},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0;(a!==b||c!==d)&&this._calcSampleValues()},_calcSampleValues:function(){var a=this._p[0],b=this._p[2];for(var c=0;c<l;++c)this._mSampleValues[c]=r(c*m,a,b)},_getTForX:function(a){__p&&__p();var b=this._p[0],c=this._p[2],d=this._mSampleValues,e=0,f=1,g=l-1;for(;f!==g&&d[f]<=a;++f)e+=m;--f;g=(a-d[f])/(d[f+1]-d[f]);d=e+g*m;f=s(d,b,c);if(f>=i)return u(a,d,b,c);else if(f===0)return d;else return t(a,e,e+m,b,c)}}}),null);
__d("ShowreelBezierUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=150,i=function(a){this.segmentLength=0,this.points=new Array(a)},j=function(a,b){this.partialLength=a,this.point=b};function a(a){__p&&__p();var b=l(a),c=a.start,d=a.end,e=a.inTangent;a=a.outTangent;if(!e||!a)throw new Error("Can only get bezier data for spatial keyframe properties");if(g[b])return g[b];var f=h,m,n,o=0,p,q,r=null;c.length===2&&(c[0]!=d[0]||c[1]!=d[1])&&k(c[0],c[1],d[0],d[1],c[0]+a[0],c[1]+a[1])&&k(c[0],c[1],d[0],d[1],d[0]+e[0],d[1]+e[1])&&(f=2);var s=new i(f);for(var t=0;t<f;t+=1){q=new Array(a.length);n=t/(f-1);p=0;for(var u=0;u<a.length;u+=1)m=Math.pow(1-n,3)*c[u]+3*Math.pow(1-n,2)*n*(c[u]+a[u])+3*(1-n)*Math.pow(n,2)*(d[u]+e[u])+Math.pow(n,3)*d[u],q[u]=m,r&&(p+=Math.pow(q[u]-r[u],2));p=Math.sqrt(p);o+=p;s.points[t]=new j(p,q);r=q}s.segmentLength=o;g[b]=s;return s}function k(a,b,c,d,e,f){e=a*d+b*e+c*f-e*d-f*a-c*b;return e>-1e-4&&e<1e-4}function l(a){var b=a.start,c=a.end,d=a.inTangent;a=a.outTangent;if(!d||!a)throw new Error("Can only get bezier name for spatial keyframe properties");return b[0]+"_"+b[1]+"_"+c[0]+"_"+c[1]+"_"+a[0]+"_"+a[1]+"_"+d[0]+"_"+d[1]}e.exports={getBezierData:a}}),null);
__d("ShowreelKeyframeUtils",["invariant","BezierFactory","BodymovinTypes.flow","ShowreelBezierUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BezierFactory").getBezierEasingFunction,i=b("BodymovinTypes.flow").switchKeyframedValueProperty,j=b("ShowreelBezierUtils").getBezierData;e.exports={interpolateValue:function(a,b,c){a=k(a,b,c);return a[0]},interpolateMultiDimensionalValue:function(a,b,c){return k(a,b,c)},interpolateShapeValue:a};function k(a,c,d){var e=d-c.startTime;d=p(a,c,e);a=d.currentKeyframe;var f=d.nextKeyframe;d=i(a,{KeyframedValueProperty:function(a){if(a.outTangent)return n(a,e,c.startTime,f);else return m(a,e,c.startTime,f)}});return b("nullthrows")(d)}function a(a,b){__p&&__p();var c=a.inTangent,d=a.outTangent;a=a.value;!c&&!d||g(0,1171);c=a[a.length-1];d=a[a.length-2];var e=a[0];if(b>=c.time)return d.end[0];if(b<=e.time)return e.start[0];c=l(a,b);d=a[c];e=a[c+1];a=d.outValue;c=d.inValue;e=e.time-d.time;a=h(a.x,a.y,c.x,c.y);var f=a((b-d.time)/e);c=d.start[0];a=d.end[0];c.closed&&a.closed||g(0,1172);b=!0;e=[];d=[];var i=[],j=function(a,b){return[f*(b[0]-a[0])+a[0],f*(b[1]-a[1])+a[1]]};for(var k=0;k<c.vertices.length;k++){var m={inPoint:c.inPoint[k],outPoint:c.outPoint[k],vertex:c.vertices[k]},n={inPoint:a.inPoint[k],outPoint:a.outPoint[k],vertex:a.vertices[k]};e.push(j(m.inPoint,n.inPoint));d.push(j(m.outPoint,n.outPoint));i.push(j(m.vertex,n.vertex))}m={closed:b,inPoint:e,outPoint:d,vertices:i};return m}function l(a,b){var c=-1;for(var d=0;d<a.length-1;d++)a[d].time<b&&(c=d);return c}function m(a,b,c,d){__p&&__p();var e=0,f=[];for(var g=0;g<a.start.length;g+=1){if(!a.hold)if(b>=d.time-c)e=1;else if(b<a.time-c)e=0;else{if(a.outValue.x.constructor===Array){var i=o(a.outValue),j=o(a.inValue);i=h(i.x[g]||i.x[0],i.y[g]||i.y[0],j.x[g]||j.x[0],j.y[g]||j.y[0])}else{j=a.outValue;var k=a.inValue;i=h(j.x,j.y,k.x,k.y)}e=i((b-(a.time-c))/(d.time-c-(a.time-c)))}f[g]=a.hold?a.start[g]:a.start[g]+(a.end[g]-a.start[g])*e}return f}function n(a,b,c,d){__p&&__p();var e=[],f=j(a);if(b>=d.time-c||b<a.time-c){var g=b>=d.time-c?f.points.length-1:0;for(var i=0;i<f.points[g].point.length;i+=1)e[i]=f.points[g].point[i]}else{g=h(a.outValue.x,a.outValue.y,a.inValue.x,a.inValue.y,a.name);i=g((b-(a.time-c))/(d.time-c-(a.time-c)));g=f.segmentLength*i;b=0;d=0;a=!0;while(a){b+=f.points[d].partialLength;if(g===0||i===0||d==f.points.length-1){for(var c=0;c<f.points[d].point.length;c+=1)e[c]=f.points[d].point[c];break}else if(g>=b&&g<b+f.points[d+1].partialLength){c=(g-b)/f.points[d+1].partialLength;for(var k=0;k<f.points[d].point.length;k+=1)e[k]=f.points[d].point[k]+(f.points[d+1].point[k]-f.points[d].point[k])*c;break}d<f.points.length-1?d+=1:a=!1}}return e}function o(a){return a}function p(a,b,c){__p&&__p();var d=0;b=b.startTime;a=a.value;var e=a.length-1,f=!0,g=null,h=null;while(f){g=a[d];h=a[d+1];if(d==e-1&&c>=h.time-b){g.hold&&(g=h);break}if(h.time-b>c)break;d<e-1?d+=1:f=!1}if(!g||!h)throw new Error("TODO: Workout why this case occurs");return{currentKeyframe:g,nextKeyframe:h}}}),null);
__d("ShowreelGraphicsUtils",["invariant","BodymovinTypes.flow","ShowreelKeyframeUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BodymovinTypes.flow").switchMultiDimensionalProperty,i=b("BodymovinTypes.flow").switchProperty,j=b("BodymovinTypes.flow").switchValueProperty,k=b("ShowreelKeyframeUtils").interpolateMultiDimensionalValue,l=b("ShowreelKeyframeUtils").interpolateValue;e.exports={toRGBA:o,hexToDecimal:n,hexToRgb:q,rgbaToColorAlpha:p,transformColourTo:a,getColourType:w,getPosition:f,getRotation:C,getAnchor:B,getOpacity:D,getScaledDimensions:d,getAssetScale:c,getCoordinates:R,getMultiDimensionalValue:M,getValue:K,getScale:E,getRotatedPolygon:S,getValueTimeSeries:L,getPositionTimeSeries:F,getAnchorTimeSeries:G,getRotationTimeSeries:H,getOpacityTimeSeries:I,getScaleTimeSeries:J,getCoordinatesTimeSeries:U,getMultiDimensionalValueTimeSeries:N,getTimeSeries:O};function m(a){return a}function n(a){return parseInt(a.substring(1),16)}function o(a){return{r:a[0],g:a[1],b:a[2],a:a[3]}}function p(a){a=Array.isArray(a)?o(a):a;var b=255*a.r<<16,c=255*a.g<<8,d=255*a.b;a=typeof a.a==="number"?a.a:1;return[b+c+d,a]}function q(a){a=n(a);return[(a&16711680)/16711680,(a&65280)/65280,(a&255)/255]}function r(a){return s(q(a))}function s(a){return[].concat(a,[1])}function t(a){return v(s(a))}function u(a){a[3]===1||g(0,360,JSON.stringify(a),"RGBColour");return[a[0],a[1],a[2]]}function v(a){a[3]===1||g(0,360,JSON.stringify(a),"HexColour");a=p(a);a=a[0];return"#"+a.toString(16)}function w(a){if(typeof a==="string")return"HexColour";if(a.length===3)return"RGBColour";return a.length===4?"RGBAColour":null}function a(a,b){__p&&__p();var c=null;switch(b){case"HexColour":c=x(a,{HexColour:m,RGBColour:t,RGBAColour:v});break;case"RGBColour":c=x(a,{HexColour:q,RGBColour:m,RGBAColour:u});break;case"RGBAColour":c=x(a,{HexColour:r,RGBColour:s,RGBAColour:m});break}c!=null||g(0,361,a);return c}function x(a,c){var d=w(a);switch(d){case"HexColour":return c.HexColour(b("nullthrows")(y(a)));case"RGBColour":return c.RGBColour(b("nullthrows")(z(a)));case"RGBAColour":return c.RGBAColour(b("nullthrows")(A(a)))}return null}function y(a){return Array.isArray(a)?null:a}function z(a){return Array.isArray(a)&&a.length===3?[a[0],a[1],a[2]]:null}function A(a){if(Array.isArray(a)&&a.length===4){a=a;return[a[0],a[1],a[2],a[3]]}return null}function c(a,b){__p&&__p();var c=typeof b.scale==="number"?b.scale:1;if(b.cropType==="fit"){var d=a.width/a.height,e=b.originalWidth/b.originalHeight;if(d>e)return f(b.originalWidth/a.width);else if(d<e)return f(b.originalHeight/a.height)}return f(b.originalWidth/a.width,b.originalHeight/a.height);function f(a,b){b=b!=null?b:a;return{width:a*c,height:b*c}}}function d(a,b,c){b=M(b.transform.scale,b,c);return{width:a.width*b[0]/100,height:a.height*b[1]/100}}function f(a,b,c){return R(a.position,b,c)}function B(a,b,c){return R(a.anchorPoint,b,c)}function C(a,b,c){return K(a.rotation,b,c)*Math.PI/180}function D(a,b,c){return K(a.opacity,b,c)/100}function E(a,b,c){return M(a.scale,b,c)}function F(a,b,c){return U(a.position,b,c)}function G(a,b,c){return U(a.anchorPoint,b,c)}function H(a,b,c){return L(a.rotation,b,c,function(a){return a*Math.PI/180})}function I(a,b,c){return L(a.opacity,b,c,function(a){return a/100})}function J(a,b,c){return N(a.scale,b,c,d);function d(a){return{x:a[0]/100,y:a[1]/100}}}function K(a,c,d){a=j(a,{ValueProperty:function(a){return a.value},ValueKeyframedProperty:function(a){return l(a,c,d.frameNumber)}});return b("nullthrows")(a)}function L(a,c,d,e){a=j(a,{ValueProperty:function(a){return e(a.value)},ValueKeyframedProperty:function(a){return O(c,d,function(b){return e(l(a,c,b))})}});return b("nullthrows")(a)}function M(a,c,d){a=h(a,{MultiDimensionalProperty:function(a){return a.value},MultiDimensionalKeyframedProperty:function(a){return k(a,c,d.frameNumber)}});return b("nullthrows")(a)}function N(a,c,d,e){a=h(a,{MultiDimensionalProperty:function(a){return e(a.value)},MultiDimensionalKeyframedProperty:function(a){return O(c,d,function(b){return e(k(a,c,b))})}});return b("nullthrows")(a)}function O(a,b,c){var d=new Array(b.outPoint),e=Math.max(a.inPoint,b.inPoint);a=Math.min(a.outPoint,b.outPoint);for(var b=e;b<=a;b++)d[b]=c(b);return d}function P(b,c,d){var e=L(b.x,c,d,m),f=L(b.y,c,d,m);if(!Array.isArray(e)&&!Array.isArray(f))return{x:e,y:f};var a=function(a,b){return Array.isArray(a)?a[b]:a};return O(c,d,function(b){return{x:a(e,b),y:a(f,b)}})}function Q(a,b,c){return[K(a.x,b,c),K(a.y,b,c)]}function R(a,c,d){a=i(a,{DimensionsSeparatedProperty:function(a){return Q(a,c,d)},MultiDimensionalProperty:function(a){return M(a,c,d)},MultiDimensionalKeyframedProperty:function(a){return M(a,c,d)}});a=b("nullthrows")(a);var e=a[0];a=a[1];return{x:e,y:a}}function S(a,b,c,d,e){a=[a,b];b=T(a,c,d,e);return b.reduce(function(a,b){return a.concat(b)},[])}function T(a,b,c,d){var e=2*Math.PI/b,f=[];for(var g=0;g<b;g++)f.push([a[0]+c*Math.cos(g*e-d),a[1]+c*Math.sin(g*e-d)]);return f}function U(a,c,d){a=i(a,{DimensionsSeparatedProperty:function(a){return P(a,c,d)},MultiDimensionalProperty:function(a){return N(a,c,d,e)},MultiDimensionalKeyframedProperty:function(a){return N(a,c,d,e)}});return b("nullthrows")(a);function e(a){return{x:a[0],y:a[1]}}}}),null);
__d("ShowreelDragAndDropController",["cssVar","ShowreelDraggable","ShowreelGraphicsUtils","ShowreelVideoPlayerStaticAssets","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelGraphicsUtils").hexToDecimal,i="transform_handle",j=Symbol("showreel");a=function(){__p&&__p();function a(a,b){__p&&__p();var c=this;this.$2=null;this.$3=null;this.$4=0;this.$5=null;this.$6=new Map();this.$7=null;this.$12=function(){var a=c.$2,b=a.x,d=a.y,e=a.rotation;a=a.scale;c.$7={x:b,y:d,rotation:e,scale:a.x}};this.$11=function(a){__p&&__p();a=a.target;c.$2!=null&&c.$13();c.$2=a;c.$12();c.$2.on("dragstart",c.$12);c.$2.on("drag",c.$14);c.$2.on("drag",c.$15);c.$2.on("dragend",c.$8);c.$3==null&&(c.$3=l(),c.$5=c.$3.getChildByName(i),c.$5.on("dragstart",c.$12),c.$5.on("dragstart",c.$16),c.$5.on("drag",c.$17),c.$5.on("drag",c.$18),c.$5.on("drag",c.$19),c.$5.on("drag",c.$15),c.$5.on("dragend",c.$8));c.$3.visible=!0;c.$20();c.$19();c.$15()};this.$17=function(a){__p&&__p();var b=a.delta;a.original;a=c.$21().toLocal(b);b=c.$2;var d=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));a=a.x<0?-1:1;d=b.width+d*a;a=d/b.width;d=b.scale.x*a;a=d>.25?d:b.scale.x;b.scale.set(a,a)};this.$18=function(a){var b=a.start,d=a.current;a.delta;a=c.$21().toLocal(b);b=c.$21().toLocal(d);d=c.$21().toLocal(c.$2.pivot,c.$2);a=k(a,d);b=k(b,d);c.$2.rotation=c.$4+b-a};this.$14=function(a){var b=a.delta;a.original;a=c.$21().toLocal(b);c.$2.x+=a.x;c.$2.y+=a.y;c.$15()};this.$15=function(){var a=c.$22();c.$3.pivot.set(a.width/2,a.height/2);c.$3.x=a.left+a.width/2;c.$3.y=a.top+a.height/2;c.$3.rotation=c.$2.rotation};this.$16=function(){c.$4=c.$2.rotation};this.$19=function(){var a=c.$3.getChildByName("border"),b=20*c.$2.scale.x,d=c.$22();d.pad(b);a.x=-b;a.y=-b;n(d,a);c.$5.x=-b+d.width;c.$5.y=-b};this.$1=a;this.$8=function(){var a=c.$7,d=c.$6.get(c.$2);if(a!=null&&d!=null){var e=c.$2,f=e.x,g=e.y,h=e.rotation;e=e.scale;f={x:f-a.x,y:g-a.y,rotation:h-a.rotation,scale:e.x-a.scale};b(d,f);c.$7=null}};this.$9()}var c=a.prototype;c.$9=function(){var a=this,b=this.$1;b.interactive=!0;b.on("pointerup",function(a){a.data.originalEvent[j]=!0});window.addEventListener("pointerup",function(b){b[j]||a.$10()})};c.addInteractivity=function(a,c){this.$6.set(a,c);if(a.interactive)return;a.on("pointerdown",this.$11);b("ShowreelDraggable").enable(a)};c.$13=function(){this.$2!=null&&(this.$2.off("dragstart",this.$12),this.$2.off("drag",this.$14),this.$2.off("drag",this.$15),this.$2.off("dragend",this.$8))};c.$10=function(){this.$13(),this.$3&&(this.$3.visible=!1),this.$2=null};c.$20=function(){var a=this.$21();a.addChild(this.$2);a.addChildAt(this.$3,a.getChildIndex(this.$2)-1)};c.$22=function(a){a===void 0&&(a=!0);var c=a?-this.$2.width/2:0;a=a?-this.$2.height/2:0;return new(b("pixi-js").Rectangle)(this.$2.x+c,this.$2.y+a,this.$2.width,this.$2.height)};c.$21=function(){return this.$1};return a}();function k(a,b){return Math.atan2(a.y-b.y,a.x-b.x)}function l(){var a=new(b("pixi-js").Container)(),c=new(b("pixi-js").Graphics)();c.name="border";var d=m();d.name=i;b("ShowreelDraggable").enable(d);a.addChild(c);a.addChild(d);return a}function m(){var a=new(b("pixi-js").Graphics)(),c=40,d=30,e=new(b("pixi-js").Sprite.fromImage)(b("ShowreelVideoPlayerStaticAssets").resizeHandle,!0);e.width=d*2;e.height=d*2;e.position.set(-d,-d);a.addChild(e);a.beginFill(o());a.drawCircle(0,0,c);a.endFill(0);return a}function n(a,b){b.clear(),b.beginFill(o(),.25),b.lineStyle(8,o()),b.drawRect(0,0,a.width,a.height),b.endFill()}function o(){return h("#1877F2")}e.exports=a}),null);
__d("ShowreelLayerIndex",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();function a(a){var b=this;this.$2={};this.$3={};this.$1=a.layers.slice().sort(g);a.layers.forEach(function(a){b.$2[a.name]=a,b.$3[a.index]=a})}var b=a.prototype;b.getLayersOrderedByDepth=function(){return this.$1};b.getParentLayer=function(a){return a.layout&&a.layout.parent!=null&&a.layout.parent!==""?this.$2[a.layout.parent]:null};b.getLayerByName=function(a){return this.$2[a]};b.getLayerByIndex=function(a){return this.$3[a]};return a}();function g(a,b){a=!!h(a);b=!!h(b);b=(a||b)&&!(a&&b);return b?a?-1:1:0}function h(a){return(a=a==null?void 0:(a=a.layout)==null?void 0:a.child)!=null?a:null}}),null);
__d("ShowreelLogger",[],(function(a,b,c,d,e,f){"use strict";e.exports={debug:a("log"),log:a("log"),info:a("info"),warn:a("warn"),error:a("error")};function a(a){return function(){if(console)try{for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];console[a](c.join(", "))}catch(a){}}}}),null);
__d("ShowreelLayerCache",["invariant","LRUCache","ShowreelLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a,b){return a[b]!==void 0};a=function(){__p&&__p();function a(a,c){c===void 0&&(c=10),this.$1=a,this.$2=new(b("LRUCache"))(c)}var c=a.prototype;c.get=function(a,c){a.length||g(0,4226);a=i(a);var d=this.$2.get(a);d||(b("ShowreelLogger").debug('Cache miss for layer "'+this.$1+'", key "'+a+'"'),d=c(),this.$2.set(a,d));return d};return a}();function i(a){return a.length===1?a[0]:a.map(function(a){if(h(a,"x")&&h(a,"y"))return""+a.x+a.y;return h(a,"width")&&h(a,"height")?""+a.width+a.height:a.toString()}).join("-")}e.exports=a}),null);
__d("ShowreelFilterFragments",[],(function(a,b,c,d,e,f){"use strict";a="\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n  gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n  vTextureCoord = aTextureCoord;\n}\n";e.exports={vertex:a}}),null);
__d("KawaseBlurFilter",["ShowreelFilterFragments","pixi-js"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ShowreelFilterFragments").vertex,h="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n  vec4 color = vec4(0.0);\n\n  // Sample top left pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n  // Sample top right pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n  // Sample bottom right pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n  // Sample bottom left pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n  // Average\n  color *= 0.25;\n\n  gl_FragColor = color;\n}\n",i="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 color = vec4(0.0);\n\n  // Sample top left pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Sample top right pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Sample bottom right pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Sample bottom left pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Average\n  color *= 0.25;\n\n  gl_FragColor = color;\n}\n";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){__p&&__p();var f;c===void 0&&(c=4);d===void 0&&(d=3);e===void 0&&(e=!1);f=a.call(this,g,e?i:h)||this;f.uniforms.uOffset=new Float32Array(2);f._pixelSize=new(b("pixi-js").Point)();f.pixelSize=1;f._clamp=e;f._kernels=null;Array.isArray(c)?f.kernels=c:(f._blur=c,f.quality=d);return f}var d=c.prototype;d.apply=function(a,b,c,d){__p&&__p();var e=this.pixelSize.x/b.size.width,f=this.pixelSize.y/b.size.height,g;if(this._quality===1||this._blur===0)g=this._kernels[0]+.5,this.uniforms.uOffset[0]=g*e,this.uniforms.uOffset[1]=g*f,a.applyFilter(this,b,c,d);else{var h=a.getRenderTarget(!0);b=b;var i=h,j,k=this._quality-1;for(var l=0;l<k;l++)g=this._kernels[l]+.5,this.uniforms.uOffset[0]=g*e,this.uniforms.uOffset[1]=g*f,a.applyFilter(this,b,i,!0),j=b,b=i,i=j;g=this._kernels[k]+.5;this.uniforms.uOffset[0]=g*e;this.uniforms.uOffset[1]=g*f;a.applyFilter(this,b,c,d);a.returnRenderTarget(h)}};d._generateKernels=function(){var a=this._blur,b=this._quality,c=[a];if(a>0){var d=a;a=a/b;for(var e=1;e<b;e++)d-=a,c.push(d)}this._kernels=c};return c}(b("pixi-js").Filter);Object.defineProperty(a.prototype,"kernels",{get:function(){return this._kernels},set:function(a){Array.isArray(a)&&a.length>0?(this._kernels=a,this._quality=a.length,this._blur=Math.max.apply(Math,a)):(this._kernels=[0],this._quality=1)}});Object.defineProperty(a.prototype,"clamp",{get:function(){return this._clamp}});Object.defineProperty(a.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(a){typeof a==="number"?(this._pixelSize.x=a,this._pixelSize.y=a):Array.isArray(a)?(this._pixelSize.x=a[0],this._pixelSize.y=a[1]):a instanceof b("pixi-js").Point?(this._pixelSize.x=a.x,this._pixelSize.y=a.y):(this._pixelSize.x=1,this._pixelSize.y=1)}});Object.defineProperty(a.prototype,"quality",{get:function(){return this._quality},set:function(a){this._quality=Math.max(1,Math.round(a)),this._generateKernels()}});Object.defineProperty(a.prototype,"blur",{get:function(){return this._blur},set:function(a){this._blur=a,this._generateKernels()}});e.exports=a}),null);
__d("ShowreelTimeSeriesValue",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();function a(a){this.$1=a,this.animated=Array.isArray(a)}var b=a.prototype;b.getValue=function(a){return Array.isArray(this.$1)?this.$1[a]:this.$1};b.map=function(b){var c=this.$1;c=Array.isArray(c)?c.map(function(a,c){return b(a,c)}):b(c,0);return new a(c)};return a}()}),null);
__d("ShowreelBlurEffect",["KawaseBlurFilter","ShowreelGraphicsUtils","ShowreelTimeSeriesValue","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=4,h=8,i=.1,j=0,k=15,l=.5,m=b("ShowreelGraphicsUtils").getValueTimeSeries;e.exports=function(){function a(a,c,d,e){this.blur=new(b("ShowreelTimeSeriesValue"))(m(e.value,a,d,function(a){return a*i})),this.filter=new(b("KawaseBlurFilter"))(g,h,!0),this.filter.blur>k&&(this.filter.resolution=l),this.filter.padding=j,c.filters=(c.filters||[]).concat(this.filter)}var c=a.prototype;c.render=function(a){this.filter.blur=this.blur.getValue(a)};return a}()}),null);
__d("DropShadowFilter",["KawaseBlurFilter","ShowreelFilterFragments","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelFilterFragments").vertex,h="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\nvoid main(void){\n  vec4 sample = texture2D(uSampler, vTextureCoord);\n\n  // Un-premultiply alpha before applying the color\n  if (sample.a > 0.0) {\n      sample.rgb /= sample.a;\n  }\n\n  // Premultiply alpha again\n  sample.rgb = color.rgb * sample.a;\n\n  // alpha user alpha\n  sample *= alpha;\n\n  gl_FragColor = sample;\n}\n";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;c&&c.constructor!==Object&&(c={rotation:c},arguments[1]!==void 0&&(c.distance=arguments[1]),arguments[2]!==void 0&&(c.blur=arguments[2]),arguments[3]!==void 0&&(c.color=arguments[3]),arguments[4]!==void 0&&(c.alpha=arguments[4]));c=Object.assign({rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:b("pixi-js").settings.RESOLUTION},c);d=a.call(this)||this;var e=c,f=e.kernels,i=e.blur,j=e.quality,k=e.pixelSize,l=e.resolution;d._tintFilter=new(b("pixi-js").Filter)(g,h);d._tintFilter.uniforms.color=new Float32Array(4);d._tintFilter.resolution=l;d._blurFilter=f?new(b("KawaseBlurFilter"))(f):new(b("KawaseBlurFilter"))(i,j);d.pixelSize=k;d.resolution=l;d.targetTransform=new(b("pixi-js").Matrix)();var m=c,n=m.shadowOnly,o=m.rotation,p=m.distance,q=m.alpha,r=m.color;d.shadowOnly=n;d.rotation=o;d.distance=p;d.alpha=q;d.color=r;d._updatePadding();return d}var d=c.prototype;d.apply=function(a,b,c,d){var e=a.getRenderTarget();e.transform=this.targetTransform;this._tintFilter.apply(a,b,e,!0);e.transform=null;this._blurFilter.apply(a,e,c);this.shadowOnly!==!0&&a.applyFilter(this,b,c,d);a.returnRenderTarget(e)};d._updatePadding=function(){this.padding=this.distance+this.blur*5};d._updateTargetTransform=function(){this.targetTransform.tx=this.distance*Math.cos(this.angle),this.targetTransform.ty=this.distance*Math.sin(this.angle)};return c}(b("pixi-js").Filter);Object.defineProperty(a.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._resolution=a,this._tintFilter&&(this._tintFilter.resolution=a),this._blurFilter&&(this._blurFilter.resolution=a)}});Object.defineProperty(a.prototype,"distance",{get:function(){return this._distance},set:function(a){this._distance=a,this._updatePadding(),this._updateTargetTransform()}});Object.defineProperty(a.prototype,"rotation",{get:function(){return this.angle/b("pixi-js").DEG_TO_RAD},set:function(a){this.angle=a*b("pixi-js").DEG_TO_RAD,this._updateTargetTransform()}});Object.defineProperty(a.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(a){this._tintFilter.uniforms.alpha=a}});Object.defineProperty(a.prototype,"color",{get:function(){return b("pixi-js").utils.rgb2hex(this._tintFilter.uniforms.color)},set:function(a){b("pixi-js").utils.hex2rgb(a,this._tintFilter.uniforms.color)}});Object.defineProperty(a.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(a){this._blurFilter.kernels=a}});Object.defineProperty(a.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(a){this._blurFilter.blur=a,this._updatePadding()}});Object.defineProperty(a.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(a){this._blurFilter.quality=a}});Object.defineProperty(a.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(a){this._blurFilter.pixelSize=a}});e.exports=a}),null);
__d("ShowreelDropShadowEffect",["DropShadowFilter","ShowreelGraphicsUtils","ShowreelTimeSeriesValue","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=-90,h=.2,i=10,j=(a=b("ShowreelGraphicsUtils")).getValueTimeSeries,k=a.getMultiDimensionalValueTimeSeries,l=a.rgbaToColorAlpha,m=a.toRGBA;e.exports=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f;e=e.effects;var l=e[0],n=e[1],o=e[2],p=e[3],q=e[4];e=e[5];this.color=new(f=b("ShowreelTimeSeriesValue"))(k(l.value,a,d,m));this.opacity=new f(j(n.value,a,d,function(a){return a/100}));this.rotation=new f(j(o.value,a,d,function(a){return a+g}));this.blur=new f(j(q.value,a,d,function(a){return a*h}));this.distance=new f(j(p.value,a,d,function(a){return a}));this.shadowOnly=new f(j(e.value,a,d,function(a){return!!a}));this.layer=a;this.filter=new(b("DropShadowFilter"))({quality:i});c.filters=(c.filters||[]).concat(this.filter)}var c=a.prototype;c.render=function(a){var b=l(this.color.getValue(a)),c=b[0];b=b[1];this.filter.color=c;this.filter.alpha=this.opacity.getValue(a)*b;this.filter.blur=this.blur.getValue(a);this.filter.rotation=this.rotation.getValue(a);this.filter.distance=this.distance.getValue(a);this.filter.shadowOnly=this.shadowOnly.getValue(a)};return a}()}),null);
__d("ShowreelColorFillFilter",["ShowreelFilterFragments","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelFilterFragments").vertex,h="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec3 color;\n\nvoid main(void) {\n  gl_FragColor = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(color * gl_FragColor.a, gl_FragColor.a);\n}\n";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,g,h)||this;b&&(c.uniforms.color=b);return c}return b}(b("pixi-js").Filter);e.exports=a}),null);
__d("ShowreelFillEffect",["BodymovinTypes.flow","ShowreelColorFillFilter","ShowreelGraphicsUtils","ShowreelTimeSeriesValue","nullthrows","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BodymovinTypes.flow").switchEffect,h=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,i=b("ShowreelGraphicsUtils").toRGBA;e.exports=function(){__p&&__p();function a(a,c,d,e){e=e.effects.find(function(a){return a.name!=null&&a.name==="Color"});e=b("nullthrows")(e&&g(e,{ColorEffect:function(a){return a},PointEffect:function(a){return a}}));this.layer=a;this.filter=new(b("ShowreelColorFillFilter"))();this.color=new(b("ShowreelTimeSeriesValue"))(h(e.value,a,d,i));c.filters=(c.filters||[]).concat(this.filter)}var c=a.prototype;c.render=function(a){a=this.color.getValue(a);var b=a.r,c=a.g;a=a.b;this.filter.uniforms.color=[b,c,a]};return a}()}),null);
__d("ShowreelGradientFilter",["ShowreelFilterFragments","pixi-js"],(function(a,b,c,d,e,f){"use strict";var g=b("ShowreelFilterFragments").vertex,h="\nvarying vec2 vTextureCoord;\nuniform vec4 filterArea;\n\nuniform vec4 startColor;\nuniform vec4 endColor;\n\nuniform vec2 startPoint;\nuniform vec2 endPoint;\n\nfloat project(vec2 origin, vec2 destination, vec2 point) {\n  return distance(origin, point) / distance(origin, destination);\n}\n\nvoid main(){\n  vec2 pixelCoord = vTextureCoord * filterArea.xy;\n\n  float mixDist = project(startPoint, endPoint, pixelCoord);\n  gl_FragColor = mix(startColor, endColor, mixDist);\n}\n",i="\nvarying vec2 vTextureCoord;\nuniform vec4 filterArea;\n\nuniform vec4 startColor;\nuniform vec4 endColor;\n\nuniform vec2 startPoint;\nuniform vec2 endPoint;\n\nfloat project(vec2 origin, vec2 destination, vec2 point) {\n  vec2 pointFromOrigin = point - origin;\n  vec2 projection = destination - origin;\n  return dot(pointFromOrigin, projection) / dot(projection, projection);\n}\n\nvoid main(){\n  vec2 pixelCoord = vTextureCoord * filterArea.xy;\n\n  float mixDist = project(startPoint, endPoint, pixelCoord);\n  gl_FragColor = mix(startColor, endColor, abs(mixDist));\n}\n";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,g,b?i:h,{startColor:{type:"vec4",value:[0,0,0,0]},endColor:{type:"vec4",value:[0,0,0,0]},startPoint:{type:"vec2",value:[0,0]},endPoint:{type:"vec2",value:[0,0]}})||this}return b}(b("pixi-js").Filter);e.exports=a}),null);
__d("ShowreelGradientEffect",["BodymovinTypes.flow","ShowreelGradientFilter","ShowreelGraphicsUtils","ShowreelTimeSeriesValue","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("BodymovinTypes.flow")).isColorEffect,h=a.isDropDownEffect,i=a.isPointEffect,j=a.switchEffect,k=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,l=b("ShowreelGraphicsUtils").toRGBA,m=/Start/i;e.exports=(d=c=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this,n=!1,o=function(c){return new(b("ShowreelTimeSeriesValue"))(k(c.value,a,d,function(a){var b=a[0];a=a[1];return{x:b,y:a}}))},p=function(c){return new(b("ShowreelTimeSeriesValue"))(k(c.value,a,d,l))};e.effects.filter(function(a){return i(a)||g(a)||h(a)}).forEach(function(a){j(a,{PointEffect:function(a){var b=o(a);m.test(a.name)?f.startPoint=b:f.endPoint=b},ColorEffect:function(a){var b=p(a);m.test(a.name)?f.startColor=b:f.endColor=b},DropDownEffect:function(a){n=a.value.value===1}})});this.layer=a;this.filter=new(b("ShowreelGradientFilter"))(n);c.filters=(c.filters||[]).concat(this.filter)}var c=a.prototype;c.render=function(a){__p&&__p();var b=this.startPoint,c=this.startColor,d=this.endPoint,e=this.endColor;if(b==null||c==null||d==null||e==null)return;b=b.getValue(a);c=c.getValue(a);d=d.getValue(a);e=e.getValue(a);this.filter.uniforms.startPoint=[b.x,b.y];this.filter.uniforms.startColor=[c.r,c.g,c.b,c.a];this.filter.uniforms.endPoint=[d.x,d.y];this.filter.uniforms.endColor=[e.r,e.g,e.b,e.a]};return a}(),c.NAME="Gradient Ramp",d)}),null);
__d("ShowreelLayerEffects",["BodymovinTypes.flow","ShowreelBlurEffect","ShowreelDropShadowEffect","ShowreelFillEffect","ShowreelGradientEffect","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BodymovinTypes.flow").switchEffect;e.exports=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.addEffect=function(a){g(a,{GroupEffect:e.addGroupEffect,SliderEffect:e.addSliderEffect,FillEffect:e.addFillEffect,DropShadowEffect:e.addDropShadowEffect})};this.addGroupEffect=function(a){a.name===b("ShowreelGradientEffect").NAME?e.addGradientEffect(a):e.addAvailableEffects(a.effects)};this.addSliderEffect=function(a){a.name=="Blurriness"&&e.effects.push(new(b("ShowreelBlurEffect"))(e.layer,e.target,e.animation,a))};this.addFillEffect=function(a){e.effects.push(new(b("ShowreelFillEffect"))(e.layer,e.target,e.animation,a))};this.addDropShadowEffect=function(a){e.effects.push(new(b("ShowreelDropShadowEffect"))(e.layer,e.target,e.animation,a))};this.effects=[];this.layer=a;this.target=c;this.animation=d;Array.isArray(a.effects)&&this.addAvailableEffects(a.effects)}var c=a.prototype;c.addAvailableEffects=function(a){a.filter(function(a){return a._type!=="effects/noValue"}).forEach(this.addEffect)};c.addGradientEffect=function(a){this.effects.push(new(b("ShowreelGradientEffect"))(this.layer,this.target,this.animation,a))};c.render=function(a){this.effects.forEach(function(b){return b.render(a)})};return a}()}),null);
__d("ShowreelLayerTransforms",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("ShowreelGraphicsUtils")).getAnchorTimeSeries,h=a.getOpacityTimeSeries,i=a.getPositionTimeSeries,j=a.getRotationTimeSeries,k=a.getScaleTimeSeries;e.exports=function(a,c){var d;this.position=new(d=b("ShowreelTimeSeriesValue"))(i(a.transform,a,c));this.rotation=new d(j(a.transform,a,c));this.opacity=new d(h(a.transform,a,c));this.scale=new d(k(a.transform,a,c));this.anchor=new d(g(a.transform,a,c))}}),null);
__d("ShowreelMasksLayerRenderer",["invariant","BodymovinTypes.flow","ShowreelGraphicsUtils","ShowreelKeyframeUtils","ShowreelPathUtils","ShowreelTimeSeriesValue","nullthrows","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BodymovinTypes.flow").switchShapeProperty,i=b("ShowreelGraphicsUtils").getTimeSeries,j=b("ShowreelKeyframeUtils").interpolateShapeValue,k=b("ShowreelPathUtils").createBezierShapePoints;a=function(){__p&&__p();function a(a,c,d){__p&&__p();this.$2=!1;var e=a.some(function(a){a=a.points;return a.animated}),f=function(a,c){a=b("nullthrows")(h(a,{ShapeProperty:function(a){return a.value},ShapeKeyframedProperty:function(a){typeof c==="number"||g(0,1074);return j(a,c)}}));var d=a.vertices,e=a.inPoint;a=a.outPoint;return new(b("pixi-js").Polygon)(k(d,e,a))};this.$1=a.map(function(a){var h=a.points;a=a.mode;a==="Additive"||g(0,1075);return!e?new(b("ShowreelTimeSeriesValue"))(f(h)):new(b("ShowreelTimeSeriesValue"))(i(c,d,function(a){return f(h,a)}))});this.$3=e;this.target=new(b("pixi-js").Graphics)();this.target.name=c.name+" (masks)"}var c=a.prototype;c.$4=function(a){var b=this.target,c=this.$1;b.clear();b.beginFill(0);c.forEach(function(c){return b.drawShape(c.getValue(a))});b.endFill()};c.render=function(a){(!this.$2||this.$3)&&(this.$4(a),this.$2=!0)};return a}();e.exports=a}),null);
__d("ShowreelLayerRenderer",["ShowreelFrameUtils","ShowreelGraphicsUtils","ShowreelLayerCache","ShowreelLayerEffects","ShowreelLayerTransforms","ShowreelMasksLayerRenderer","ShowreelTimeSeriesValue","ShowreelUtils","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelFrameUtils").getFirstRenderableFrame,h=b("ShowreelFrameUtils").getLastRenderableFrame,i=b("ShowreelGraphicsUtils").getTimeSeries,j=b("ShowreelUtils").deepEquals;e.exports=function(){__p&&__p();function a(a,b,c,d){this.context={frameNumber:0,scale:{width:1,height:1},cache:this.cache,assets:d,animation:c,parentLayer:b},this.target=this.createTarget(),this.target.name=a.name,this.maybeUpdateRenderer(a,b,c,d)}var c=a.prototype;c.inFrame=function(a){var b=g(this.layer),c=h(this.layer);return a>=b&&a<=c};c.render=function(a){var b=this.target;this.context.frameNumber=a;b.visible=this.inFrame(a);b.visible&&(this.updateTarget(a),this.$1&&this.$1.render(a))};c.getBounds=function(){var a=this,c=this.context.frameNumber,d=i(this.layer,this.animation,function(b){a.render(b);return a.target.getBounds().clone()});this.render(c);return new(b("ShowreelTimeSeriesValue"))(d)};c.wrapAround=function(a){var b=this,c=this.getBounds();this.transforms.scale=a.map(function(a,d){var e=c.getValue(d);d=b.transforms.scale.getValue(d);a={x:a.width/e.width,y:a.height/e.height};return{x:d.x*a.x,y:d.y*a.y}})};c.createTarget=function(){};c.updateTarget=function(a){var b=this.effects,c=this.target,d=this.transforms,e=d.position.getValue(a),f=d.anchor.getValue(a),g=d.scale.getValue(a),h=d.opacity.getValue(a);d=d.rotation.getValue(a);c.scale.set(g.x,g.y);c.position.set(e.x,e.y);c.pivot.set(f.x,f.y);c.alpha=h;c.rotation=d;b!=null&&b.render(a)};c.updateRenderer=function(){};c.rendererShouldUpdate=function(a,b){return!j(this.layer,a)};c.maybeUpdateRenderer=function(a,c,d,e){__p&&__p();var f=!this.layer,g=f||this.rendererShouldUpdate(a,d),h=f||this.$2(a);f=f||this.$3(a);this.layer=a;this.assets=e;this.animation=d;this.parentLayer=c;h&&(this.transforms=new(b("ShowreelLayerTransforms"))(a,d));f&&(this.effects=new(b("ShowreelLayerEffects"))(a,this.target,d));g&&(this.cache=new(b("ShowreelLayerCache"))(a.name),this.context.cache=this.cache,this.updateRenderer(),this.$4());return g};c.$4=function(){var a=this.layer,c=this.animation,d=this.$1;if(a.maskProperties){d&&d.target.parent&&d.target.parent.removeChild(d.target);d=new(b("ShowreelMasksLayerRenderer"))(a.maskProperties,a,c);this.target.addChild(d.target);this.target.mask=d.target;this.$1=d}};c.$2=function(a){return a.inPoint!==this.layer.inPoint||a.outPoint!==this.layer.outPoint||!j(a.transform,this.layer.transform)};c.$3=function(a){return!j(a.effects,this.layer.effects)};return a}()}),null);
__d("ShowreelImageLayerRenderer",["ShowreelGraphicsUtils","ShowreelLayerRenderer","ShowreelTimeSeriesValue","ShowreelUtils","nullthrows","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelGraphicsUtils").getAssetScale,h=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,i=b("ShowreelGraphicsUtils").getTimeSeries,j=b("ShowreelUtils").deepEquals;e.exports=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.createTarget=function(){return new(b("pixi-js").Container)()};d.updateRenderer=function(){__p&&__p();var a=this.layer,c=this.animation,d=this.assets,e=this.target,f=a.referenceId;d=d.get(f);if(!d)throw new Error("Could not find asset "+f+" referenced by "+a.name+" in animation "+c.name);if(d.type!=="image"&&d.type!=="video")throw new Error("Wrong asset type used with id "+f+" referenced by "+a.name);var i=d.texture.clone();f=n(f,c);var j=k(i,f),l=g(j,f);this.target.removeChildren();var m;if(d.type==="image"&&d.frames!=null){var p=d.frames;m=new(b("pixi-js").extras.AnimatedSprite)(p,!1);m.animationSpeed=.05;m.$ShowreelImageLayerRenderer1=!0;m.$ShowreelImageLayerRenderer2=o(p,a,c)}else m=new(b("pixi-js").Sprite)(),m.texture=i;e.addChild(m);i.frame=j;m.filters=null;this.type=d.type;this.texture=i;this.layer=a;this.frame=j;this.source=f;this.dimensions=new(b("ShowreelTimeSeriesValue"))(h(a.transform.scale,a,c,function(a){return{width:j.width*a[0]/100*l.width,height:j.height*a[1]/100*l.height}}))};d.rendererShouldUpdate=function(b,c){var d=n(b.referenceId,c);return!j(d,this.source)?!0:a.prototype.rendererShouldUpdate.call(this,b,c)};d.updateTarget=function(b){__p&&__p();var c=this.type,d=this.texture,e=this.source,f=this.target;a.prototype.updateTarget.call(this,b);var g=this.target.getChildAt(0);g.$ShowreelImageLayerRenderer1&&g.gotoAndStop(g.$ShowreelImageLayerRenderer2.getValue(b));c==="video"&&d.baseTexture.update();g=this.transforms.anchor.getValue(b);c=this.dimensions.getValue(b);f.width=c.width;f.height=c.height;f.pivot.set(d.width*(g.x/e.originalWidth),d.height*(g.y/e.originalHeight))};return c}(b("ShowreelLayerRenderer"));function k(a,b){if(b.cropWindow){var c=b.cropWindow,d=c.x,e=c.y,f=c.width;c=c.height;if(d>=0&&e>=0&&f>=0&&c>=0)return l(b.cropWindow)}else if(b.cropType==="center")return l(m(a,b));return l({x:0,y:0,width:a.width,height:a.height})}function l(a){return new(b("pixi-js").Rectangle)(a.x,a.y,a.width,a.height)}function m(a,b){var c=0,d=0,e=a.width,f=a.height,g=a.width/a.height;b=b.originalWidth/b.originalHeight;g>b?(f=a.height,e=f*b,c=(a.width-e)/2):g<b&&(e=a.width,f=e/b,d=(a.height-f)/2);return{x:c,y:d,width:e,height:f}}function n(a,c){return b("nullthrows")(c.assets.find(function(b){return b.id===a}))}function o(a,c,d){__p&&__p();var e=d.outPoint,f=d.inPoint,g=d.frameRate,h=1e3/g;g=a.reduce(function(a,b){b=b.time;return a+b},0);e=(e-f)*h;f=e/g;var j=f*a.length,k=p(function(b){__p&&__p();if(b===0)return{circularFrameNumber:0,timeAtEnd:a[0].time};var c=b*h;b=k(b-1);var d=b.circularFrameNumber;b=b.timeAtEnd;d=d;b=b;var e=j;while(b<c&&e-->0)d++,b+=a[d%a.length].time;return{circularFrameNumber:d,timeAtEnd:b}});return new(b("ShowreelTimeSeriesValue"))(i(c,d,function(b){b=k(b);b=b.circularFrameNumber;return b%a.length}))}function p(a){var b={};return function(c){if(c in b)return b[c];var d=a(c);b[c]=d;return d}}}),null);
__d("ShowreelParentLayerRenderer",["ShowreelLayerRenderer","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f){d=a.call(this,c,d,e,f)||this;d.target=d.createTarget(b);d.target.name=c.name+" (parent)";return d}var d=c.prototype;d.createTarget=function(a){var c=new(b("pixi-js").Container)();a&&c.addChild(a);return c};d.updateTarget=function(b){a.prototype.updateTarget.call(this,b),this.target.alpha=1};return c}(b("ShowreelLayerRenderer"))}),null);
__d("ShowreelTrimShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],(function(a,b,c,d,e,f){"use strict";var g=b("ShowreelGraphicsUtils").getValueTimeSeries;a=function(a,c,d){this.start=new(b("ShowreelTimeSeriesValue"))(g(a.start,c,d,function(a){return a/100})),this.end=new(b("ShowreelTimeSeriesValue"))(g(a.end,c,d,function(a){return a/100})),this.offset=new(b("ShowreelTimeSeriesValue"))(g(a.offset,c,d,function(a){return a*Math.PI/180})),this.animated=this.start.animated||this.end.animated||this.offset.animated};e.exports=a}),null);
__d("ShowreelEllipseShape",["ShowreelGraphicsUtils","ShowreelPathUtils","ShowreelTimeSeriesValue","ShowreelTrimShape","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelGraphicsUtils").getCoordinatesTimeSeries,h=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,i=b("ShowreelGraphicsUtils").getTimeSeries,j=b("ShowreelPathUtils").createEllipsePoints,k=b("ShowreelPathUtils").getTrimmedPoints;a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();this.layer=c;this.animation=d;e=e?new(b("ShowreelTrimShape"))(e,c,d):null;var f=new(b("ShowreelTimeSeriesValue"))(g(a.position,c,d));a=new(b("ShowreelTimeSeriesValue"))(h(a.size,c,d,function(a){return{width:a[0],height:a[1]}}));this.animated=f.animated||a.animated||!!e&&e.animated;this.$1=e;this.$3=a;this.$2=f;this.redrawPolygons()}var c=a.prototype;c.scale=function(a){throw new Error("Ellipse shapes can not currently be wrapped")};c.redrawPolygons=function(){this.polygon=this.drawPolygons(),this.$1&&(this.untrimmedPolygon=this.drawPolygons(!1))};c.drawPolygons=function(a){var c=this;a===void 0&&(a=!0);var d=this.layer,e=this.animation,f=this.$1,g=this.$3,h=this.$2,j=function(b){var d;f&&a===!0&&(d={start:f.start.getValue(b),end:f.end.getValue(b),offset:f.offset.getValue(b)});return c.drawPolygon(h.getValue(b),g.getValue(b),d)};e=this.animated?i(d,e,j):j(d.inPoint);return new(b("ShowreelTimeSeriesValue"))(e)};c.drawPolygon=function(a,c,d){var e=a.x;a=a.y;var f=c.width,g=c.height;e=j(e,a,f,g);for(var a=0;a<e.length;a+=2)e[a]-=c.width/2,e[a+1]-=c.height/2;d&&(e=k(e,d.start,d.end,d.offset));return new(b("pixi-js").Polygon)(e)};c.drawShape=function(a,b){a.drawPolygon(this.polygon.getValue(b))};return a}();e.exports=a}),null);
__d("ShowreelFillShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ShowreelGraphicsUtils")).getMultiDimensionalValueTimeSeries,h=a.getTimeSeries,i=a.getValueTimeSeries,j=a.rgbaToColorAlpha;c=function(a,c,d){__p&&__p();var e,f=new(e=b("ShowreelTimeSeriesValue"))(i(a.opacity,c,d,function(a){return a/100})),k=new e(g(a.color,c,d,function(a){return j(a)[1]}));this.opacity=new e(h(c,d,function(a){var b=k.getValue(a);a=f.getValue(a);return b*a}));this.color=new e(g(a.color,c,d,function(a){return j(a)[0]}));this.animated=this.opacity.animated||this.color.animated};e.exports=c}),null);
__d("ShowreelRectShape",["ShowreelGraphicsUtils","ShowreelPathUtils","ShowreelTimeSeriesValue","ShowreelTrimShape","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ShowreelGraphicsUtils")).getCoordinatesTimeSeries,h=a.getMultiDimensionalValueTimeSeries,i=a.getTimeSeries,j=a.getValueTimeSeries,k=b("ShowreelPathUtils").createRectanglePoints,l=b("ShowreelPathUtils").createRoundedRectanglePoints,m=b("ShowreelPathUtils").getTrimmedPoints;c=function(){__p&&__p();function a(a,c,d,e){__p&&__p();this.layer=c;this.animation=d;e=e?new(b("ShowreelTrimShape"))(e,c,d):null;var f=new(b("ShowreelTimeSeriesValue"))(g(a.position,c,d)),i=new(b("ShowreelTimeSeriesValue"))(h(a.size,c,d,function(a){return{width:a[0],height:a[1]}}));a=new(b("ShowreelTimeSeriesValue"))(j(a.roundedCorners,c,d,function(a){return a||0}));this.animated=f.animated||i.animated||a.animated||!!e&&e.animated;this.$1=e;this.$3=i;this.$2=f;this.$4=a;this.redrawPolygons()}var c=a.prototype;c.scale=function(a){var b=this;this.$3=a.map(function(a,c){c=b.$3.getValue(c);return{width:c.width*a.width,height:c.height*a.height}});this.redrawPolygons()};c.redrawPolygons=function(){this.polygon=this.drawPolygons(),this.$1&&(this.untrimmedPolygon=this.drawPolygons(!1))};c.drawPolygons=function(a){var c=this;a===void 0&&(a=!0);var d=this.layer,e=this.animation,f=this.$1,g=this.$3,h=this.$4,j=this.$2,k=function(b){var d;f&&a===!0&&(d={start:f.start.getValue(b),end:f.end.getValue(b),offset:f.offset.getValue(b)});return c.drawPolygon(j.getValue(b),g.getValue(b),h.getValue(b),d)};e=this.animated?i(d,e,k):k(d.inPoint);return new(b("ShowreelTimeSeriesValue"))(e)};c.drawPolygon=function(a,c,d,e){var f=a.x;a=a.y;var g=c.width,h=c.height;d?d=l(f,a,g,h,d):d=k(f,a,g,h);for(var f=0;f<d.length;f+=2)d[f]-=c.width/2,d[f+1]-=c.height/2;e&&(d=m(d,e.start,e.end,e.offset));return new(b("pixi-js").Polygon)(d)};c.drawShape=function(a,b){a.drawPolygon(this.polygon.getValue(b))};return a}();e.exports=c}),null);
__d("ShowreelShapeShape",["BodymovinTypes.flow","ShowreelGraphicsUtils","ShowreelKeyframeUtils","ShowreelPathUtils","ShowreelTimeSeriesValue","ShowreelTrimShape","nullthrows","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BodymovinTypes.flow").switchShapeProperty,h=b("ShowreelGraphicsUtils").getTimeSeries,i=b("ShowreelKeyframeUtils").interpolateShapeValue,j=b("ShowreelPathUtils").createBezierShapePoints,k=b("ShowreelPathUtils").getTrimmedPoints;a=function(){__p&&__p();function a(a,c,d,e){this.layer=c;this.animation=d;this.vertices=a.vertices;e=e?new(b("ShowreelTrimShape"))(e,c,d):null;this.animated=a.vertices.animated===1||!!(e==null?void 0:e.animated);this.$1=e;this.polygon=this.drawPolygons(!0);this.untrimmedPolygon=this.drawPolygons(!1)}var c=a.prototype;c.scale=function(a){throw new Error("Arbitrary shapes can not currently be wrapped")};c.drawPolygons=function(a){var c=this;a===void 0&&(a=!0);var d=this.layer,e=this.animation,f=this.$1,g=function(b){var d=null;f&&a===!0&&(d={start:f.start.getValue(b),end:f.end.getValue(b),offset:f.offset.getValue(b)});return c.drawPolygon(b,d)};e=this.animated?h(d,e,g):g(d.inPoint);return new(b("ShowreelTimeSeriesValue"))(e)};c.drawPolygon=function(a,c){var d=this.vertices;d=b("nullthrows")(g(d,{ShapeProperty:function(a){return a.value},ShapeKeyframedProperty:function(b){return i(b,a)}}));var e=d.vertices,f=d.inPoint;d=d.outPoint;e=e.slice().reverse();e=j(e,f,d);return c!=null?new(b("pixi-js").Polygon)(k(e,c.start,c.end,c.offset)):new(b("pixi-js").Polygon)(e)};c.drawShape=function(a,b){a.drawPolygon(this.polygon.getValue(b))};return a}();e.exports=a}),null);
__d("ShowreelStarShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ShowreelGraphicsUtils")).getCoordinatesTimeSeries,h=a.getRotatedPolygon,i=a.getTimeSeries,j=a.getValueTimeSeries;c=function(){__p&&__p();function a(a,c,d,e){__p&&__p();if(e)throw new Error("Star shapes can not currently be trimmed");this.layer=c;this.animation=d;this.$1=a.starType==="Polygon";this.$2=new(b("ShowreelTimeSeriesValue"))(g(a.position,c,d));this.$3=new(b("ShowreelTimeSeriesValue"))(j(a.points,c,d,function(a){return a||0}));this.$4=new(b("ShowreelTimeSeriesValue"))(j(a.outerRadius,c,d,function(a){return a||0}));this.$6=new(b("ShowreelTimeSeriesValue"))(j(a.rotation,c,d,function(a){return a||0}));this.animated=this.$2.animated||this.$4.animated||this.$6.animated||this.$3.animated;this.$1||(this.$5=new(b("ShowreelTimeSeriesValue"))(j(a.innerRadius,c,d,function(a){return a||0})),this.animated=this.animated||this.$5.animated);this.redrawPolygons()}var c=a.prototype;c.scale=function(a){throw new Error("Star shapes can not currently be wrapped")};c.redrawPolygons=function(){this.$1&&(this.polygon=this.drawPolygons())};c.drawPolygons=function(){var a=this,c=function(b){return a.drawPolygon(a.$2.getValue(b),a.$3.getValue(b),a.$4.getValue(b),a.$6.getValue(b))};c=this.animated?i(this.layer,this.animation,c):c(this.layer.inPoint);return new(b("ShowreelTimeSeriesValue"))(c)};c.drawPolygon=function(a,c,d,e){var f=a.x;a=a.y;f=h(f,a,c,d,e*Math.PI/180);return new(b("pixi-js").Polygon)(f)};c.drawShape=function(a,b){if(this.$1)a.drawPolygon(this.polygon.getValue(b));else{var c=this.$2.getValue(b),d=c.x;c=c.y;var e=this.$3.getValue(b),f=this.$5.getValue(b),g=this.$4.getValue(b);b=this.$6.getValue(b);a.drawStar(d,c,e,g,f,b*Math.PI/180)}};return a}();e.exports=c}),null);
__d("ShowreelStrokeShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],(function(a,b,c,d,e,f){"use strict";var g=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,h=b("ShowreelGraphicsUtils").getValueTimeSeries,i=b("ShowreelGraphicsUtils").rgbaToColorAlpha;a=function(a,c,d){this.opacity=new(b("ShowreelTimeSeriesValue"))(h(a.opacity,c,d,function(a){return a/100})),this.width=new(b("ShowreelTimeSeriesValue"))(h(a.width,c,d,function(a){return a})),this.color=new(b("ShowreelTimeSeriesValue"))(g(a.color,c,d,function(a){return i(a)[0]})),this.animated=this.opacity.animated||this.color.animated||this.width.animated};e.exports=a}),null);
__d("ShowreelTransformShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ShowreelGraphicsUtils")).getAnchorTimeSeries,h=a.getOpacityTimeSeries,i=a.getPositionTimeSeries,j=a.getRotationTimeSeries,k=a.getScaleTimeSeries;c=function(a,c,d){var e;this.position=new(e=b("ShowreelTimeSeriesValue"))(i(a,c,d));this.rotation=new e(j(a,c,d));this.opacity=new e(h(a,c,d));this.scale=new e(k(a,c,d));this.anchor=new e(g(a,c,d))};e.exports=c}),null);
__d("ShowreelGroupShape",["invariant","BodymovinTypes.flow","ShowreelEllipseShape","ShowreelFillShape","ShowreelRectShape","ShowreelShapeShape","ShowreelStarShape","ShowreelStrokeShape","ShowreelTransformShape","nullthrows","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BodymovinTypes.flow").switchShape;a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();a=i(a);var f=a.trim,j=a.shape,k=a.fill,l=a.stroke;a=a.transform;var m=[];f&&e&&g(0,723);var n=e||f;e=b("nullthrows")(j,"Could not find supported shape. Supported shapes are Rectangles, rounded rectangles, ellipsis or star");k&&(this.fill=new(b("ShowreelFillShape"))(k,c,d),m.push(this.fill));l&&(this.stroke=new(b("ShowreelStrokeShape"))(l,c,d),m.push(this.stroke));a&&(this.transform=new(b("ShowreelTransformShape"))(a,c,d));this.shape=b("nullthrows")(h(e,{RectShape:function(a){return new(b("ShowreelRectShape"))(a,c,d,n)},EllipseShape:function(a){return new(b("ShowreelEllipseShape"))(a,c,d,n)},StarShape:function(a){return new(b("ShowreelStarShape"))(a,c,d,n)},ShapeShape:function(a){return new(b("ShowreelShapeShape"))(a,c,d,n)}}));m.push(this.shape);this.graphics=new(b("pixi-js").Graphics)();this.$1=!1;this.$2=m.some(function(a){return a&&a.animated})}var c=a.prototype;c.scale=function(a){this.shape.scale(a),this.$1=!1};c.draw=function(a){__p&&__p();var b=this.graphics,c=this.stroke,d=this.fill,e=this.shape;if(!e)return;var f=c?c.opacity.getValue(a):0,g=c?c.width.getValue(a):0;c=c?c.color.getValue(a):0;var h=d?d.color.getValue(a):0;d=d?d.opacity.getValue(a):0;b.clear();b.lineStyle(g,c,f);b.beginFill(h,d);e.drawShape(b,a);b.endFill();f=e.untrimmedPolygon?e.untrimmedPolygon.getValue(a):null;f&&(b.lineStyle(g,c,0),b.beginFill(h,0),b.drawPolygon(f),b.endFill())};c.render=function(a){__p&&__p();var b=this.transform,c=this.graphics;this.$3=a;if(b){var d=b.scale.getValue(a),e=b.anchor.getValue(a),f=b.position.getValue(a),g=b.rotation.getValue(a);b=b.opacity.getValue(a);c.scale.set(d.x,d.y);c.pivot.set(e.x,e.y);c.position.set(f.x,f.y);c.rotation=g;c.alpha=b}(!this.$1||this.$2)&&(this.draw(a),this.$1=!0);return c};return a}();function i(a){__p&&__p();return a.items.reduce(function(a,b){__p&&__p();h(b,{FillShape:function(b){a.fill=b},StrokeShape:function(b){a.stroke=b},TransformShape:function(b){a.transform=b},RectShape:function(b){a.shape=b},EllipseShape:function(b){a.shape=b},StarShape:function(b){a.shape=b},TrimShape:function(b){a.trim=b},ShapeShape:function(b){a.shape=b}});return a},{})}e.exports=a}),null);
__d("ShowreelShapeLayerRenderer",["invariant","BodymovinTypes.flow","ShowreelGraphicsUtils","ShowreelGroupShape","ShowreelLayerRenderer","ShowreelLayerTransforms","ShowreelTimeSeriesValue","nullthrows","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BodymovinTypes.flow").switchShape,i=b("ShowreelGraphicsUtils").getTimeSeries;e.exports=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.createTarget=function(){return new(b("pixi-js").Container)()};d.wrapAround=function(a){this.shapes.length===1||g(0,5971);var c=this.getBounds(),d=new(b("ShowreelTimeSeriesValue"))(i(this.layer,this.animation,function(b){var d=c.getValue(b);b=a.getValue(b);return{width:b.width/d.width,height:b.height/d.height}}));this.shapes[0].scale(d)};d.updateRenderer=function(){__p&&__p();var a=this.layer,c=this.animation,d=this.target;this.transforms=new(b("ShowreelLayerTransforms"))(a,c);var e=b("nullthrows")(a.shapes).slice(),f=j(e),g=f.trim,i=f.index;i>-1&&e.splice(i,1);f=e.map(function(d,e){d=h(d,{GroupShape:function(d){return new(b("ShowreelGroupShape"))(d,a,c,g&&i>e?g:null)}});return b("nullthrows")(d,"Only group shapes and trim paths are currently supported in shape layers")});e=f.reverse().map(function(a){return a.graphics});this.shapes=f;d.removeChildren();d.addChild.apply(d,e)};d.updateTarget=function(b){a.prototype.updateTarget.call(this,b),this.shapes.forEach(function(a){return a.render(b)})};return c}(b("ShowreelLayerRenderer"));function j(a){__p&&__p();var b=function(b,c){c=h(a[b],{TrimShape:function(a){return{trim:a,index:b}}});if(c)return{v:c}};for(var c=0,d=a.length;c<d;c++){var e=b(c,d);if(typeof e==="object")return e.v}return{trim:null,index:-1}}}),null);
__d("ShowreelSolidLayerRenderer",["ShowreelGraphicsUtils","ShowreelLayerRenderer","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelGraphicsUtils").hexToDecimal;e.exports=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.createTarget=function(){return new(b("pixi-js").Graphics)()};d.updateRenderer=function(){var a=this.layer,b=this.target;b.clear();b.beginFill(g(a.solidColor));b.drawRect(0,0,a.solidWidth,a.solidHeight);b.endFill()};return c}(b("ShowreelLayerRenderer"))}),null);
__d("ShowreelAnimationUtils",["nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/@(.*)=(.*)/,h=/(.*)\[([0-9]+)\]/;e.exports={get:c,set:d,getAssetForContent:a};function a(a,c,d){d=b("nullthrows")(d.assets.find(function(b){return b.id===a}));var e=d.id,f=d.originalWidth;d=d.originalHeight;return Object.assign({},c,{id:e,originalWidth:f,originalHeight:d})}function c(a,b){var c;i(a,b,function(a,b){c=a[b]});return c}function d(a,b,c){i(a,b,function(a,b){a[b]=c});return a}function i(a,b,c){__p&&__p();b=b.split(".");var d=b.length,e=d-1,f=-1,i=a;while(i!=null&&++f<d){var j=b[f],k=b[f-1]||"root";if(g.test(j))(function(){p(i,j);var b=g.exec(j),a=b[1],d=b[2];b=i.find(function(b){return b[a]===d});if(!b)throw new Error('Could not find a child in "'+k+'" where "'+a+'" == "'+d+'"');f===e?c(i,i.indexOf(b)):i=b})();else if(h.test(j)){a=h.exec(j);var l=a[1];a=a[2];var m=i[l];o(m,l,j);p(m,l);var n=parseInt(a,10);if(isNaN(n))throw new Error('The array index "'+a+'" for array '+l+" was not a valid integer.");f===e?c(m,n):i=m[n]}else if(f===e)c(i,j);else{a=i[j];o(a,j,k);i=i[j]}}function o(b,c,a){if(!b)throw new Error('Could not find key "'+c+'" in "'+a+'"')}function p(a,b){if(!(a instanceof Array))throw new Error('The search term "'+b+'" can only be used with arrays.')}}}),null);
__d("ShowreelSpecificationModifiers",["invariant","ShowreelAnimationUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelAnimationUtils").get;e.exports={removeLayer:c,getLayer:i,addToLayerCoordinates:a};function a(a,b,c,d){var e=i(a,b);e=h(e,c);e||g(0,4397,c,b);e.animated?e.value.forEach(function(a){var b=a.inValue;a=a.outValue;b&&a&&(b.x+=d.x,b.y+=d.y,a.x+=d.x,a.y+=d.y)}):(e.value.x+=d.x,e.value.y+=d.y);return a}function i(a,b){a=a.animation.layers;return a.find(function(a){return a.name===b})}function c(a,b,c){c===void 0;c=i(a,b);c||g(0,4398,b);b=a.animation.layers;b.splice(b.indexOf(c),1);return a}}),null);
__d("ShowreelTextUtils",["invariant","BodymovinTypes.flow","ShowreelFontUtils","ShowreelGraphicsUtils","ShowreelLogger","pixi-js","ShowreelSpecificationModifiers","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BodymovinTypes.flow").isSolidLayer,i=b("BodymovinTypes.flow").isTextLayer,j=b("ShowreelFontUtils").getNamespacedFontName,k=b("ShowreelGraphicsUtils").getScaledDimensions,l=["left","center","right"],m=b("ShowreelSpecificationModifiers").getLayer,n=500,o=String.fromCharCode(8230),p=b("pixi-js").TextMetrics.tokenize,q=function(a){return r.standard(a).reduce(function(a,b){return a.concat(b.split(/(\/|-)/))},[])},r={smart:function(){if(!p){b("ShowreelLogger").warn("Cannot find base tokenizer, has the version of PIXI changed? Smart line breaking is unavailable");return p}return q}(),standard:p};function a(a){b("pixi-js").TextMetrics.tokenize=r[a]}function s(a,b){var c=a.textData.document.keyframes;c=c.filter(function(a){return a.time>=b})[0];c||(c=a.textData.document.keyframes[0]);return c}function t(a,c,d,e,f){__p&&__p();e===void 0&&(e=null);f===void 0&&(f=null);var i=a.layout||{},k=s(a,d),m=k.textProperties,n=m.size,o=m.lineHeight,p=m.boxTextPosition,q=m.boxTextSize,r=m.justificaiton,t=m.text;m=m.fontColor;a.layout&&a.layout.textVAlign&&(p||g(0,1045),q||g(0,1045));var v=i.maxWidth;v||(q!=null&&q[0]!=null?v=q[0]:v=c.width);k=j(k.textProperties.font,c.name);var w=i.textAlign||l[r-1],x=w,y=i.textVAlign||"top",z=i.characterLimit||Infinity,A=i.padding||0,B=i.overflow||"visible",C=i.textTransform,D=i.fontStyle||"normal",E=i.fontWeight||"normal";k={font:k,fontSize:n,text:t,fontColor:m,lineHeight:o,characterLimit:z,boxTextPosition:p,wordWrapWidth:v,boxTextSize:q,justificaiton:r,textAlignment:w,textBoxAlignment:x,textBoxVAlignment:y,padding:A,overflow:B,textTransform:C,fontStyle:D,fontWeight:E};i.fontSize==="auto"?(e=b("nullthrows")(e,"Must specify parent layer when fontSize=auto"),h(e)||g(0,1046),Object.assign(k,u(a,c,d,k,e,f))):typeof i.fontSize==="number"&&(k.fontSize=i.fontSize);return k}function u(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=null);var h=i();i=g?g.get(["auto-text-properties"],function(){return j()}):j();g=i.textProperties;i=i.boundingBox;if(!g)return null;g.scale={x:h.width/i.width,y:h.height/i.height};return g;function i(){var a=f.solidWidth,c=f.solidHeight;a=k({width:a,height:c},f,{frameNumber:d});c=b("nullthrows")(e.padding);a.width-=c;a.height-=c;return a}function j(){return{boundingBox:h,textProperties:A(b("nullthrows")(e.text),e,h,a,c)}}}function v(a,c){c===void 0&&(c={});a=Object.assign({},a,c);c=x(a);a=w(a.text,a.characterLimit,o);return new(b("pixi-js").Text)(a,c)}function w(a,b,c){c===void 0&&(c=o);var d=a;(typeof b!=="number"||b<0)&&(b=Infinity);c||(c="");a.length>b&&(d=d.slice(0,b).trim()+c);return d}function c(a,b){switch(b){case"uppercase":return a.toLocaleUpperCase();case"lowercase":return a.toLocaleLowerCase();default:return a}}function x(a){var c=a.font?a.font+", facebook_emoji":null;return new(b("pixi-js").TextStyle)({fontFamily:c,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,fill:y(b("nullthrows")(a.fontColor)),lineHeight:a.lineHeight,wordWrap:!0,breakWords:!0,align:a.textAlignment,wordWrapWidth:a.wordWrapWidth})}function d(a){return[[a.font,a.fontSize,a.lineHeight,a.text,a.textAlignment,a.wordWrapWidth,a.characterLimit,b("nullthrows")(a.fontColor).toString()].join("-")]}function y(a){var b="rgb";a.length==4&&(b="rgba");a=a.map(function(a,b){return b<3?Math.round(a*255):a});return b+"("+a.join()+")"}function f(a,b,c){typeof a==="string"&&(a={text:a});b=E(b,c);c=v(b,a);b=c.width;a=c.height;return{width:b,height:a}}function z(a,b,c,d){c=F(c,d);var e=t(c,d.animation,0);return A(a,e,b,c,d.animation)}function A(a,c,d,e,f){__p&&__p();e=(f=e==null?void 0:e.layout)!=null?f:{};f=e.maxFontSize;e=e.minFontSize;var g=b("nullthrows")(c.lineHeight)/b("nullthrows")(c.fontSize);c.wordWrapWidth=d.width;e=e==null||e<0?0:e;f=f==null||f<0?n:f;var h,i;while(e<f)h=Math.floor((e+f+1)/2)||0,i=h*g,i=v(c,{text:a,fontSize:h,lineHeight:i}),B(i,d)?e=h:f=h-1;return{text:a,fontSize:e,wordWrapWidth:d.width,lineHeight:e*g}}function B(a,b){return a.width<=b.width&&a.height<=b.height}function C(a,c,d,e){a=z(a,c,d,e);D(b("nullthrows")(a,"Could not find best fontSize"),d,e)}function D(a,c,d){__p&&__p();c=E(c,d);d=f(v(c,a));var e=new Image();e.onload=function(){var a="font-size: 1px; padding: "+Math.floor(e.height/2)+"px "+Math.floor(e.width/2)+"px;"};e.src=d;function f(a){var c=new(b("pixi-js").CanvasRenderer)({width:a.width,height:a.height});c.render(a);return c.context.canvas.toDataURL()}}function E(a,b){return t(F(a,b),b.animation,0)}function F(a,c){c=b("nullthrows")(m(c,a),"Layer '"+a+"' does not exist");i(c)||g(0,1047,a);return c}e.exports={setTokenizer:a,getCacheKey:d,renderText:v,logText:D,truncateText:w,transformText:c,getStyle:x,logTextInBoundingBox:C,getTextProperties:t,getTextDimensions:f,getTextDataKeyframe:s,getBestTextPropertiesInBoundingBox:z,getTextColor:y,getNamespacedFontName:j,HORIZONTAL_ELLIPSIS:o}}),null);
__d("ShowreelKineticStyle",["ShowreelTextUtils","ShowreelUtils","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelTextUtils").getStyle,h=b("ShowreelUtils").deepEquals;a=function(){__p&&__p();function a(a,c,d,e){this.startFrame=a,this.endFrame=c,this.boxHeight=e.height,this.boxWidth=e.width,this.textBox=e,this.style=g(d),this.container=this.createContainer(d),this.checkMetrics=b("pixi-js").TextMetrics.measureText("abc",this.style)}var c=a.prototype;c.createContainer=function(a){};c.renderFrame=function(a){};c.rendererShouldUpdate=function(){var a=b("pixi-js").TextMetrics.measureText("abc",this.style),c=!h(this.checkMetrics,a);this.checkMetrics=a;return c};return a}();e.exports=a}),null);
__d("ShowreelLetterByLetterKineticStyle",["ShowreelKineticStyle","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/^\s+|\s+$/g,h=3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e){return a.call(this,b,c,d,e)||this}var d=c.prototype;d.createContainer=function(a){var c,d=new(b("pixi-js").Container)();this.$ShowreelLetterByLetterKineticStyle2=(c=a.text)!=null?c:"";c=b("pixi-js").TextMetrics.measureText(this.$ShowreelLetterByLetterKineticStyle2,this.style);this.$ShowreelLetterByLetterKineticStyle1=c.lines.map(function(a){return a.length});c=this.$ShowreelLetterByLetterKineticStyle3(a);c.forEach(function(a){return d.addChild(a)});return d};d.renderFrame=function(a){__p&&__p();var b=this.endFrame-this.startFrame;a=Math.min(1,h*(a-this.startFrame)/b);b=0;a=Math.floor((this.$ShowreelLetterByLetterKineticStyle2.length+1)*a);for(var c=0;c<this.$ShowreelLetterByLetterKineticStyle1.length;c++){var d=this.$ShowreelLetterByLetterKineticStyle1[c],e=this.container.getChildAt(c),f="";b+d<=a?f=this.$ShowreelLetterByLetterKineticStyle2.substring(b,b+d).replace(g,""):b<a&&b+d+1>=a&&(f=this.$ShowreelLetterByLetterKineticStyle2.substring(b,a).replace(g,""));e.text=f;b+=d+1}};d.$ShowreelLetterByLetterKineticStyle3=function(a){__p&&__p();var c=[];a=b("pixi-js").TextMetrics.measureText(a.text,this.style);this.textHeight=a.height;for(var d=0;d<a.lines.length;d++){var e=new(b("pixi-js").Text)("");e.style=this.style;e.x=0;e.y=(this.boxHeight-a.height)/2+d*a.height/a.lines.length;c.push(e)}return c};return c}(b("ShowreelKineticStyle"));e.exports=a}),null);
__d("ShowreelLineByLineKineticStyle",["invariant","ShowreelKineticStyle","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[15269795,15254667,16754353,10587112,10091775];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g){f===void 0&&(f=!0);g===void 0&&(g=h);b=a.call(this,b,c,d,e)||this;b.$ShowreelLineByLineKineticStyle1=f;b.$ShowreelLineByLineKineticStyle2=g;return b}var d=c.prototype;d.createContainer=function(a){var c=new(b("pixi-js").Container)(),d=new(b("pixi-js").Graphics)();d.visible=!1;c.addChild(d);d=this.$ShowreelLineByLineKineticStyle3(a);d.forEach(function(a){return c.addChild(a)});return c};d.renderFrame=function(a){var b=this.container.children,c=b[0];b=b.slice(1);b.length>0||g(0,5910);this.$ShowreelLineByLineKineticStyle4(a,b,c)};d.$ShowreelLineByLineKineticStyle3=function(a){__p&&__p();var c=[];this.style.wordWrapWidth=this.textBox.width/1.5;a=b("pixi-js").TextMetrics.measureText(a.text,this.style);this.textHeight=a.height;for(var d=0;d<a.lines.length;d++){var e=new(b("pixi-js").Text)();e.visible=!1;e.text=a.lines[d];e.style=this.style;e.x=(this.boxWidth-e.width)/2;e.y=(this.boxHeight-a.height)/2+d*a.height/a.lines.length;c.push(e)}return c};d.$ShowreelLineByLineKineticStyle4=function(a,b,c){__p&&__p();var d=this.endFrame-this.startFrame;a=Math.floor(b.length*(a-this.startFrame)/d);for(var d=0;d<b.length;d++)b[d].visible=a>=d;if(this.$ShowreelLineByLineKineticStyle1){c.visible=!0;c.clear();c.beginFill(this.$ShowreelLineByLineKineticStyle2[a%this.$ShowreelLineByLineKineticStyle2.length]);d=this.boxWidth;b=this.boxHeight;c.drawRect((this.boxWidth-d)/2,(this.boxHeight-b)/2,d,b)}};return c}(b("ShowreelKineticStyle"));e.exports=a}),null);
__d("ShowreelLineKineticStyle",["invariant","ShowreelGraphicsUtils","ShowreelKineticStyle","ShowreelKineticTextUtils","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelGraphicsUtils").rgbaToColorAlpha,i=(a=b("ShowreelKineticTextUtils")).isInRange,j=a.getLineHeight,k=a.getPosition,l=a.getZoom,m=100,n=0,o=.1,p=.1,q=.2,r=.2,s=.1,t=1,u=5,v=.3,w=.4,x=.1,y=1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f){b=a.call(this,b,c,e,f)||this;b.zoomIn=d;return b}var d=c.prototype;d.createContainer=function(a){var c=new(b("pixi-js").Container)(),d=h(a.fontColor?a.fontColor:[0,0,0]),e=this.$ShowreelLineKineticStyle1(0,this.boxHeight/2,this.boxWidth,this.boxHeight/2,Math.PI/4,d[0]);d=this.$ShowreelLineKineticStyle1(0,this.boxHeight/2,this.boxWidth,this.boxHeight/2,-Math.PI/4,d[0]);c.addChild(e);c.addChild(d);e=this.$ShowreelLineKineticStyle2(a);e.forEach(function(a){return c.addChild(a)});return c};d.renderFrame=function(a){var b=this.container.children;b.length>2||g(0,2971);var c=b[0],d=b[1];b=b.slice(2);this.$ShowreelLineKineticStyle3(a,this.textHeight,c,d);this.zoomIn?this.$ShowreelLineKineticStyle4(a,b):this.$ShowreelLineKineticStyle5(a,b)};d.$ShowreelLineKineticStyle2=function(a){__p&&__p();var c=[];a=b("pixi-js").TextMetrics.measureText(a.text,this.style);this.textHeight=a.height;for(var d=0;d<a.lines.length;d++){var e=new(b("pixi-js").Text)();e.visible=!1;e.text=a.lines[d];e.style=this.style;e.x=(this.boxWidth-e.width)/2;e.y=(this.boxHeight-a.height)/2+d*a.height/a.lines.length;c.push(e)}return c};d.$ShowreelLineKineticStyle1=function(a,c,d,e,f,g){var h=new(b("pixi-js").Graphics)();h.clear();h.lineStyle(u,g).moveTo(a,c).lineTo(d,e);h.position.set((a+d)/2,(c+e)/2);h.pivot.set((a+d)/2,(c+e)/2);h.rotation=f;return h};d.$ShowreelLineKineticStyle3=function(a,b,c,d){__p&&__p();var e=this.endFrame-this.startFrame,f=Math.floor(this.startFrame+n*e),g=Math.floor(this.startFrame+o*e),h=Math.floor(this.startFrame+p*e),k=Math.floor(this.startFrame+q*e);e=Math.floor(this.startFrame+r*e);var l=0,u=this.boxWidth,v=Math.max(0,(this.boxHeight-b-m)/2),w=Math.min(this.boxHeight,(this.boxHeight+b+m)/2),x=1,y=0;if(i(f,g,a)){g=g-f;f=a-f;f=f*Math.PI/(4*g);y=Math.PI/4-f;v=this.boxHeight/2;w=this.boxHeight/2}if(i(h,k,a)){g=k-h;f=a-h;k=f*Math.min(this.boxHeight,b+m)/(2*g);v=this.boxHeight/2-k;w=this.boxHeight/2+k}if(i(e,this.endFrame,a)){h=j(e,this.endFrame,a,this.boxWidth/2,this.boxWidth,s,t);x=h/this.boxWidth}c.position.set((l+u)/2,v);c.rotation=y;c.scale.x=x;d.position.set((l+u)/2,w);d.rotation=-y;d.scale.x=x};d.$ShowreelLineKineticStyle4=function(a,b){var c=this,d=this.endFrame-this.startFrame,e=Math.floor(this.startFrame+v*d);d=Math.floor(this.startFrame+w*d);var f=y;i(e,d,a)&&(f=l(e,d,a,x,y));b.forEach(function(a){a.scale.x=f,a.scale.y=f,a.x=(c.boxWidth-a.width)/2});a>=e?b.forEach(function(a){return a.visible=!0}):b.forEach(function(a){return a.visible=!1})};d.$ShowreelLineKineticStyle5=function(a,b){__p&&__p();var c=this.endFrame-this.startFrame,d=Math.floor(this.startFrame+v*c);c=Math.floor(this.startFrame+w*c);if(i(d,c,a))for(var e=0;e<b.length;e++){var f=b[e],g=k(this.textBox,d,c,a,"horizontal",f,!1,e%2==0);f.x=g[0]}a>=d?b.forEach(function(a){return a.visible=!0}):b.forEach(function(a){return a.visible=!1})};return c}(b("ShowreelKineticStyle"));e.exports=c}),null);
__d("ShowreelOutlineKineticStyle",["ShowreelKineticStyle","ShowreelKineticTextUtils","ShowreelTextUtils","nullthrows","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelKineticTextUtils").isInRange,h=b("ShowreelTextUtils").getTextColor,i=.1,j=.1,k=4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e){return a.call(this,b,c,d,e)||this}var d=c.prototype;d.createContainer=function(a){__p&&__p();var c;c=(c=a.text)!=null?c:"";c=new(b("pixi-js").Text)(c,this.style);this.$ShowreelOutlineKineticStyle1=b("nullthrows")(a.fontColor);this.$ShowreelOutlineKineticStyle1.length==3&&this.$ShowreelOutlineKineticStyle1.push(1);this.$ShowreelOutlineKineticStyle1[3]=1;c.style.stroke=h(this.$ShowreelOutlineKineticStyle1);this.$ShowreelOutlineKineticStyle1[3]=0;c.style.fill=h(this.$ShowreelOutlineKineticStyle1);c.style.strokeThickness=0;return c};d.renderFrame=function(a){var b=this.endFrame-this.startFrame,c=this.startFrame,d=c+i*b,e=d;b=e+j*b;var f=k,l=Math.sqrt(k),m=1;g(c,d,a)?(f=Math.pow(l*(a-c)/(d-c),2),m=0):g(e,b,a)&&(m=Math.pow(l*(a-e)/(b-e),2));this.container.style.strokeThickness=f;this.$ShowreelOutlineKineticStyle1[3]=m;this.container.style.fill=h(this.$ShowreelOutlineKineticStyle1)};return c}(b("ShowreelKineticStyle"));e.exports=a}),null);
__d("ShowreelWordByWordKineticStyle",["ShowreelKineticStyle","ShowreelTextUtils","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelTextUtils").getStyle,h=3,i=100,j=/\s+/,k=[15269795,15254667,16754353,10587112,10091775];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){f===void 0&&(f=!1);g===void 0&&(g=!1);h===void 0&&(h=k);b=a.call(this,b,c,d,e)||this;b.$ShowreelWordByWordKineticStyle2=f;b.$ShowreelWordByWordKineticStyle3=g;b.$ShowreelWordByWordKineticStyle4=h;return b}var d=c.prototype;d.createContainer=function(a){__p&&__p();var c=this,d=new(b("pixi-js").Container)(),e=g(a);a=(a=a.text)!=null?a:"";this.$ShowreelWordByWordKineticStyle1=a.split(j);var f=this.$ShowreelWordByWordKineticStyle1.reduce(function(a,b){return Math.max(a.length,b.length)==a.length?a:b},"");e.wordWrap=!1;e.fontSize=Math.min(2*this.boxWidth/f.length,this.boxHeight/h);a=this.$ShowreelWordByWordKineticStyle1.filter(function(a){return a.length===f.length});a=a.map(function(a){return b("pixi-js").TextMetrics.measureText(a,e)});a=a.map(function(a){return Math.min((c.boxWidth-i)/a.width,(c.boxHeight-i)/a.height)});a=Math.min.apply(Math,a);var k=new(b("pixi-js").Text)();k.scale.x=a;k.scale.y=a;k.style=e;k.text=this.$ShowreelWordByWordKineticStyle1[0];a=new(b("pixi-js").Graphics)();a.visible=!1;d.addChild(a);d.addChild(k);return d};d.renderFrame=function(a){__p&&__p();var b=this.$ShowreelWordByWordKineticStyle1.length,c=this.endFrame-this.startFrame;a=Math.floor(b*(a-this.startFrame)/c);c=this.container.getChildAt(0);var d=this.container.getChildAt(1);d.text=b===0?"":this.$ShowreelWordByWordKineticStyle1[a];d.x=(this.boxWidth-d.width)/2;d.y=(this.boxHeight-d.height)/2;if(this.$ShowreelWordByWordKineticStyle2){c.visible=!0;b=this.boxWidth;var e=this.boxHeight;this.$ShowreelWordByWordKineticStyle3||(b=d.width,e=d.height);c.clear();c.beginFill(this.$ShowreelWordByWordKineticStyle4[a%this.$ShowreelWordByWordKineticStyle4.length]);c.drawRect((this.boxWidth-b)/2,(this.boxHeight-e)/2,b,e)}};return c}(b("ShowreelKineticStyle"));e.exports=a}),null);
__d("ShowreelKineticTextLayerRenderer",["invariant","ShowreelKineticTextUtils","ShowreelLetterByLetterKineticStyle","ShowreelLineByLineKineticStyle","ShowreelLineKineticStyle","ShowreelOutlineKineticStyle","ShowreelTextUtils","ShowreelWordByWordKineticStyle","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelKineticTextUtils").isInRange,i=b("ShowreelTextUtils").getTextProperties,j=/^\s+|\s+$/g;e.exports=function(){__p&&__p();function a(){}var c=a.prototype;c.updateRenderer=function(a,b,c,d,e,f){c=i(a,e,a.inPoint,b,f);e=c.boxTextPosition;b=c.boxTextSize;e&&b||g(0,799);this.textBox={x:e[0],y:e[1],width:b[0],height:b[1]};this.containers=this.$1(a,c);this.container=this.containers[0];d.children.length!=0&&d.removeChildAt(0);d.addChild(this.container.container)};c.updateTarget=function(a,b,c,d,e,f,g){__p&&__p();if(!h(this.container.startFrame,this.container.endFrame,a)){b=this.containers.find(function(b){return b.startFrame<=a&&b.endFrame>=a});this.container=b?b:this.containers[0];e.children.length!=0&&e.removeChildAt(0);e.addChild(this.container.container)}this.container.renderFrame(a);c=d.anchor.getValue(a);e.pivot.set(c.x-this.textBox.x,c.y-this.textBox.y)};c.rendererShouldUpdate=function(){return this.container.rendererShouldUpdate()};c.$1=function(a,c){__p&&__p();var d,e=[];d=(d=c.text)!=null?d:"";var f=d.length,g=a.layout?a.layout:{};g=g.kineticTextStyles?g.kineticTextStyles:[];g=g.filter(function(a){return a.startIndex<f});g.sort(function(a,b){return a.startIndex-b.startIndex});var h=a.outPoint-a.inPoint;if(g.length===0)e.push(new(b("ShowreelWordByWordKineticStyle"))(a.inPoint,a.outPoint,c,this.textBox));else if(g[0].startIndex>0){var i=g[0].startIndex;c.text=d.substring(0,i);e.push(new(b("ShowreelWordByWordKineticStyle"))(a.inPoint,Math.floor(h*(i-1)/f),c,this.textBox))}for(var i=0;i<g.length;i++){var k=g[i],l=i>=g.length-1?f:g[i+1].startIndex;c.text=d.substring(k.startIndex,l).replace(j,"");var m=a.inPoint+Math.floor(h*k.startIndex/f);l=a.inPoint+Math.floor(h*l/f);switch(k.styleId){case"lineZoom":e.push(new(b("ShowreelLineKineticStyle"))(m,l,!0,c,this.textBox));break;case"lineSlide":e.push(new(b("ShowreelLineKineticStyle"))(m,l,!1,c,this.textBox));break;case"lineByLine":e.push(new(b("ShowreelLineByLineKineticStyle"))(m,l,c,this.textBox,!0));break;case"outline":e.push(new(b("ShowreelOutlineKineticStyle"))(m,l,c,this.textBox));break;case"letterByLetter":e.push(new(b("ShowreelLetterByLetterKineticStyle"))(m,l,c,this.textBox));break;case"wordByWord":default:e.push(new(b("ShowreelWordByWordKineticStyle"))(m,l,c,this.textBox));break}}return e};return a}()}),null);
__d("ShowreelStandardTextLayerRenderer",["invariant","ShowreelGraphicsUtils","ShowreelPathUtils","ShowreelTextUtils","ShowreelTimeSeriesValue","nullthrows","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelGraphicsUtils").getTimeSeries,i=b("ShowreelGraphicsUtils").rgbaToColorAlpha,j=b("ShowreelPathUtils").getBackgroundsFor,k=b("ShowreelPathUtils").getUnderlinesFor,l=(a=b("ShowreelTextUtils")).HORIZONTAL_ELLIPSIS,m=a.getStyle,n=a.getTextDataKeyframe,o=a.getTextProperties,p=a.setTokenizer,q=a.transformText,r=a.truncateText,s="standard",t="background",u="underline";e.exports=function(){__p&&__p();function a(a){this.$5=new(b("pixi-js").Text)("",null,a)}var c=a.prototype;c.updateRenderer=function(a,c,d,e,f,g){__p&&__p();var i=this;this.$5==null&&(this.$5=new(b("pixi-js").Text)());this.$5.parent!==e&&(e.removeChildren(),e.addChild(this.$5));d=a.layout;e=d||{};d=e.fontSize;var j=e.lineBreakStrategy,k=e.background;e=e.underline;var l=this.$5;this.$3=k;this.$4=e;j?l.updateText=function(){p(j);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b("pixi-js").Text.prototype.updateText.apply(this,c);p(s)}:l.updateText=b("pixi-js").Text.prototype.updateText;d==="auto"?this.$1=new(b("ShowreelTimeSeriesValue"))(h(a,f,function(b){return i.$6(b,a,c,f,g)})):this.$1=new(b("ShowreelTimeSeriesValue"))(this.$7(a,c,f,g))};c.rendererShouldUpdate=function(){return!1};c.$7=function(a,c,d,e){__p&&__p();var f=this,g=a.outPoint,h=a.textData,i=function(a,c){if(c>a.length){var d=b("nullthrows")(a[a.length-1]);c=new Array(c-a.length);return a.concat(c.fill(d))}return a},j=function(b,g){g=g.time;var h=f.$6(g,a,c,d,e);return i(b,g).concat(h)};return i(h.document.keyframes.reduce(j,[]),g)};c.updateTarget=function(a,b,c,d,e,f,h){__p&&__p();c=this.$5;f=d.scale.getValue(a);h=d.anchor.getValue(a);this.$1||g(0,17716);d=this.$1.getValue(a);var i=this.$8(d),j=d.scale||{x:1,y:1},k=d.text,l=d.style,m=c.style!==l;b=this.$9(b,a);(m||b)&&(c.style=l);c.text!==k&&(c.text=k);this.$10(d,c);this.$11(c);this.$12(c);e.pivot.set(h.x-i.x,h.y-i.y);e.scale.set(f.x*j.x,f.y*j.y)};c.$9=function(a,b){a=n(a,b);if(this.$2!==a){this.$2=a;return!0}return!1};c.$6=function(a,c,d,e,f){__p&&__p();c=o(c,e,a,d,f);e=c.text;a=c.characterLimit;d=c.textTransform;f=m(c);var g=this.$13(c,f);a=Math.min(b("nullthrows")(a),g);g=r(b("nullthrows")(e),a,a===0?"":l);e=q(g,d);return Object.assign({},c,{text:e,style:f})};c.$13=function(a,c){__p&&__p();var d=a.overflow,e=a.text||"";a=a.boxTextSize?a.boxTextSize[0]:null;d=d==="truncate"&&e&&a!=null;var f=c.clone();f.wordWrap=!1;c=function(a){return b("pixi-js").TextMetrics.measureText(a,f).width};d=d&&c(e)>a;if(d){for(var d=e.length;d>0;d--){var g=c(e.slice(0,d)+l);if(g<=a)return d}return 0}return Infinity};c.$8=function(a){var b=a.boxTextSize;a=a.boxTextPosition;return{x:a?a[0]:0,y:a?a[1]:0,width:b?b[0]:0,height:b?b[1]:0}};c.$10=function(a,b){__p&&__p();var c=a.textBoxAlignment,d=a.textBoxVAlignment;a=this.$8(a);switch(c){case"center":b.x=(a.width-b.width)/2;break;case"right":b.x=a.width-b.width;break;default:case"left":b.x=0;break}switch(d){case"middle":b.y=(a.height-b.height)/2;break;case"bottom":b.y=a.height-b.height;break;default:case"top":b.y=0;break}};c.$11=function(a){__p&&__p();var c=this.$3,d=a.text,e=a.style,f=a.parent;if(c!=null){var g=c.colour,h=c.radius;h=h===void 0?0:h;var k=c.padding;k=k===void 0?0:k;c=c.wrap;c=c===void 0?"paragraph":c;var l=!!f.getChildByName(t),m;l?m=f.getChildByName(t):(m=new(b("pixi-js").Graphics)(),m.name=t,f.addChildAt(m,0));m.clear();if(d){l=i(g);var n=l[0],o=l[1];g=Object.assign(new(b("pixi-js").TextStyle)(e),(f=e.originalFontSizings)!=null?f:{});l=b("pixi-js").TextMetrics.measureText(d,g);e=j(l,h,k,c);e.forEach(function(a){m.beginFill(n,o),m.drawShape(a),m.endFill()});m.position.x=a.position.x;m.position.y=a.position.y;m.pivot.x=a.pivot.x;m.pivot.y=a.pivot.y}}};c.$12=function(a){__p&&__p();var c=this.$4,d=a.text,e=a.style,f=a.parent;if(c!=null){var g=c.colour,h=c.thickness;h=h===void 0?5:h;c=c.distance;c=c===void 0?0:c;var j=!!f.getChildByName(u),l;j?l=f.getChildByName(u):(l=new(b("pixi-js").Graphics)(),l.name=u,f.addChildAt(l,0));l.clear();if(d){j=i(g);var m=j[0],n=j[1];g=Object.assign(new(b("pixi-js").TextStyle)(e),(f=e.originalFontSizings)!=null?f:{});j=b("pixi-js").TextMetrics.measureText(d,g);e=k(j,h,c);e.forEach(function(a){l.beginFill(m,n),l.drawShape(a),l.endFill()});l.position.x=a.position.x;l.position.y=a.position.y;l.pivot.x=a.pivot.x;l.pivot.y=a.pivot.y}}};return a}()}),null);
__d("ShowreelTextLayerRenderer",["ShowreelKineticTextLayerRenderer","ShowreelLayerRenderer","ShowreelStandardTextLayerRenderer","ShowreelTextUtils","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelTextUtils").setTokenizer,h="standard";e.exports=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ShowreelTextLayerRenderer1=document.createElement("canvas"),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.createTarget=function(){return new(b("pixi-js").Container)()};d.updateRenderer=function(){var a=this.layer.layout||{},c=this.$ShowreelTextLayerRenderer1;switch(a.textType){case"kinetic":this.textLayer=new(b("ShowreelKineticTextLayerRenderer"))();break;case"standard":default:this.textLayer=new(b("ShowreelStandardTextLayerRenderer"))(c);break}this.textLayer.updateRenderer(this.layer,this.parentLayer,this.transforms,this.target,this.animation,this.cache)};d.updateTarget=function(b){a.prototype.updateTarget.call(this,b),this.textLayer.updateTarget(b,this.layer,this.parentLayer,this.transforms,this.target,this.animation,this.cache)};d.render=function(b){this.layer.layout&&this.layer.layout.lineBreakStrategy&&g(this.layer.layout.lineBreakStrategy),a.prototype.render.call(this,b),g(h)};d.rendererShouldUpdate=function(b,c){return a.prototype.rendererShouldUpdate.call(this,b,c)||this.textLayer.rendererShouldUpdate()};return c}(b("ShowreelLayerRenderer"))}),null);
__d("ShowreelTypes",["pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports.switchLayer=function(a,b){switch(a._type){case"CompLayer":return!b.CompLayer?null:b.CompLayer(a);case"ImageLayer":return!b.ImageLayer?null:b.ImageLayer(a);case"NullLayer":return!b.NullLayer?null:b.NullLayer(a);case"ShapeLayer":return!b.ShapeLayer?null:b.ShapeLayer(a);case"SolidLayer":return!b.SolidLayer?null:b.SolidLayer(a);case"TextLayer":return!b.TextLayer?null:b.TextLayer(a);default:throw new Error("Unknown Layer type "+a._type)}}}),null);
__d("ShowreelLayerRenderers",["invariant","ShowreelImageLayerRenderer","ShowreelParentLayerRenderer","ShowreelShapeLayerRenderer","ShowreelSolidLayerRenderer","ShowreelTextLayerRenderer","ShowreelTypes","nullthrows","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelTypes").switchLayer;e.exports=function(){__p&&__p();function a(){this.$1={},this.$2={},this.$4=new WeakMap()}var c=a.prototype;c.render=function(a){var b=this.$5(),c=this.$6();c.concat(b).forEach(function(b){return b.render(a)})};c.getRoots=function(){var a=this,b=this.$5(),c=function(b){var c=a.$7(b);return c[0]||b},d=function(a,b){return b.layer.index-a.layer.index};return b.sort(d).map(c).map(function(a){return a.target})};c.getRenderer=function(a){return this.$1[a]};c.getRoot=function(a){a=this.$1[a];var b=this.$7(a);return(b[0]||a).target};c.update=function(a,b,c){var d=this,e=i(a),f=i(this.$3);e.forEach(function(e){f.has(e)?d.$8(e,a,b,c):d.$9(e,a,b,c)});f.forEach(function(a){e.has(a)||d.$10(a)});this.$3=a};c.$5=function(){var a=this;return Object.keys(this.$1).map(function(b){return a.$1[b]})};c.$6=function(){var a=this;return Object.keys(this.$2).map(function(b){return a.$2[b]}).reduce(function(a,b){return a.concat(b)},[])};c.$9=function(a,c,d,e){__p&&__p();a=e.getLayerByName(a);var f=e.getParentLayer(a);this.$1[a.name]&&g(0,3536,a.name);var i=h(a,{SolidLayer:function(a){return new(b("ShowreelSolidLayerRenderer"))(a,f,c,d)},ImageLayer:function(a){return new(b("ShowreelImageLayerRenderer"))(a,f,c,d)},ShapeLayer:function(a){return new(b("ShowreelShapeLayerRenderer"))(a,f,c,d)},TextLayer:function(a){return new(b("ShowreelTextLayerRenderer"))(a,f,c,d)}});if(i){i=i;this.$1[a.name]=i;this.$11(a,i,c,d,e)}};c.$8=function(a,c,d,e){var f=this.$1[a],g=this.$2[a],h=b("nullthrows")(e.getLayerByName(a),"Could not find layer "+a+" in the Layer Index"),i=e.getParentLayer(h);f&&f.maybeUpdateRenderer(h,i,c,d);g&&g.forEach(function(a){a.maybeUpdateRenderer(h,i,c,d)})};c.$11=function(a,b,c,d,e){this.$4.set(b,this.$12(a,b.target,c,d,e))};c.$7=function(a){return this.$4.get(a)||[]};c.$10=function(a){delete this.$1[a],delete this.$2[a]};c.$12=function(a,c,d,e,f){a=f.getLayerByIndex((a=a.parent)!=null?a:-1);if(a){c=new(b("ShowreelParentLayerRenderer"))(c,a,null,d,e);this.$2[a.name]=(this.$2[a.name]||[]).concat(c);return this.$12(a,c.target,d,e,f).concat(c)}return[]};return a}();function i(a){return a?new Set(a.layers.map(function(a){return a.name})):new Set()}}),null);
__d("ShowreelThirdPartyYoga",["ShowreelThirdPartyYogaBind","ShowreelThirdPartyYogaCommon"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ShowreelThirdPartyYogaBind");c=b("ShowreelThirdPartyYogaCommon");var g=!1;d=null;a({},function(a,b){if(g)return;g=!0;if(a)throw a;d=b});if(!g)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");e.exports=c(d.bind,d.lib)}),null);
__d("ShowreelFrameRenderer",["invariant","ShowreelDragAndDropController","ShowreelFrameUtils","ShowreelLayerIndex","ShowreelLayerRenderers","ShowreelLayerUtils","ShowreelTimeSeriesValue","ShowreelYogaUtils","isFalsey","nullthrows","pixi-js"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelFrameUtils").getLastRenderableFrame,i=b("ShowreelLayerUtils").getTrackMatteForLayer,j=b("ShowreelYogaUtils").applyFlexLayout,k=b("ShowreelYogaUtils").createFlexNode;a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$3={};this.$4=new WeakMap();this.$5=!1;this.$6=function(a,b){var c=b.x,d=b.y,e=b.scale;b=b.rotation;var g=f.$3[a.name];g==null&&(g={x:0,y:0,rotation:0,scale:0});g.x+=c;g.y+=d;g.rotation+=b;g.scale+=e;f.$3[a.name]=g};this.renderers=new(b("ShowreelLayerRenderers"))();this.root=new(b("pixi-js").Container)();b("isFalsey")(d)?this.root.scale.set(1):this.root.scale.set(d);this.$1=new(b("ShowreelDragAndDropController"))(this.root,this.$6);this.$5=!!e;this.update(a,c)}var c=a.prototype;c.update=function(a,c){__p&&__p();this.caches={};this.assets=c;this.animation=a;this.index=new(b("ShowreelLayerIndex"))(a);this.renderers.update(a,c,this.index);this.root.removeChildren();(a=this.root).addChild.apply(a,this.renderers.getRoots());this.$7();this.$8();this.$9();this.$10()};c.$10=function(){var a=this,b=this.animation;b.layers.filter(function(a){return a==null?void 0:(a=a.layout)==null?void 0:a.draggable}).map(function(b){return[a.renderers.getRoot(b.name),b]}).filter(Boolean).forEach(function(b){var c=b[0];b=b[1];return a.$1.addInteractivity(c,b)})};c.$7=function(){__p&&__p();var a=this,b,c=this.animation,d=this.$4;b=(b=c.layout)==null?void 0:b.flex;if(b){var e,f=(e=d.get(this.root))!=null?e:k(),g=b.children||[],i=h(this.animation);e=parseInt(c.width,10);c=parseInt(c.height,10);d.set(this.root,f);while(f.getChildCount())f.removeChild(f.getChild(0));this.index.getLayersOrderedByDepth().filter(function(a){return g.includes(a.name)}).sort(function(a,b){return g.indexOf(b.name)-g.indexOf(a.name)}).map(function(b){return a.renderers.getRenderer(b.name)}).filter(Boolean).filter(function(a){return a.inFrame(i)}).map(function(b){return a.renderers.getRoot(b.layer.name)}).forEach(function(a){var b=k();f.insertChild(b);d.set(a,b)});j(f,Object.assign({},{width:e,height:c},b));this.$11()}};c.render=function(a){this.renderers.render(a),this.$12(),this.$13(),this.$14(),this.$5&&this.$15()};c.$15=function(){__p&&__p();var a=this.root.scale.x;if(a===1)return;this.renderers.getRoots().map(c).filter(Boolean).filter(function(a){return a.style.originalFontSizings==null}).forEach(function(b){var c=b.style,d=c.fontSize,e=c.wordWrapWidth;c=c.lineHeight;b.style=Object.assign(b.style,{fontSize:d*a<1?1:d*a,wordWrapWidth:e?e*a:e,lineHeight:c*a});b.style.originalFontSizings={fontSize:d,wordWrapWidth:e,lineHeight:c};b.scale.set(b.scale.x/a,b.scale.y/a)});function c(a){if(a instanceof b("pixi-js").Text)return a;return Array.isArray(a.children)?a.children.map(c).find(Boolean):null}};c.$11=function(){var a=this.animation.outPoint-1;this.$2=null;this.render(a);this.$2=this.$16()};c.$16=function(){__p&&__p();var a=this.renderers,b=this.$4,c=b.get(this.root),d={};c!=null||g(0,12608);this.$17(function(c,d,e){e=a.getRoot(c.name);c=e?b.get(e):null;d=(d=d==null?void 0:d.flex)!=null?d:{};if(e!=null&&c!=null){e=e.mask?e.mask.getBounds():e.getBounds();var f=e.width;e=e.height;j(c,Object.assign({},{width:f,height:e},d))}});c.calculateLayout();this.$17(function(c,e,f){e=a.getRoot(c.name);f=e?b.get(e):null;if(e!=null&&f!=null){e=e.getBounds();f=f.getComputedLayout();d[c.name]={x:f.left-e.left,y:f.top-e.top}}});return d};c.$13=function(){var a=this.$2;if(a==null)return;var b=this.renderers;this.$17(function(c,d,e){d=a[c.name];e=b.getRoot(c.name);d!=null&&e!=null&&(e.x+=d.x,e.y+=d.y)})};c.$14=function(){var a=this.$3,b=this.renderers;this.$17(function(c,d,e){d=a[c.name];e=b.getRoot(c.name);d!=null&&e!=null&&(e.x+=d.x,e.y+=d.y,e.rotation+=d.rotation,e.scale.x+=d.scale,e.scale.y+=d.scale)})};c.$12=function(){__p&&__p();var a=this.renderers,c=this.animation;this.$18(function(d,e){__p&&__p();d=a.getRoot(d.name);if(e.align||e.vAlign){if(e.parent!=null){var f=e.parent;f=b("nullthrows")(a.getRoot(f),"Could not find parent display object");f=f.getBounds()}else f=new(b("pixi-js").Rectangle)(0,0,c.width,c.height);l(d,f,e)}})};c.$9=function(){__p&&__p();var a=this.renderers,b=this.animation;this.$18(function(c,d,e){__p&&__p();if("width"in d||"height"in d){var f=a.getRenderer(d.child||"");if(f){var g=f.layer,h=Math.max(c.inPoint,b.inPoint);c=Math.min(c.outPoint,b.outPoint);h=g.inPoint<=h&&g.outPoint>=c;if(!h)return}g=m(d,e,f);g&&e.wrapAround(g)}})};c.$17=function(a){var b=this.renderers,c=this.root,d=this.index;d=d.getLayersOrderedByDepth();var e=c.scale,f=e.x;e=e.y;c.scale.set(1);d.forEach(function(c){var d=b.getRenderer(c.name),e=c.outPoint<=c.inPoint,f=c==null?void 0:c.layout;d&&!e&&a(c,f,d)});c.scale.set(f,e)};c.$18=function(a){this.$17(function(b,c,d){c!=null&&a(b,c,d)})};c.$8=function(){__p&&__p();var a=this.index,c=this.renderers,d=this.animation;d=d.layers;d.forEach(function(d){var e=d.name,f=d.trackMatte;e=c.getRenderer(e);d=i(d,a);if(e&&f&&d){f=b("nullthrows")(c.getRenderer(d.name),"Could not find renderer for mask");d=n(f.target);d||g(0,2912);e.target.mask=d}})};return a}();e.exports=a;function l(a,b,c){__p&&__p();var d=a.getBounds();switch(c.align){case"left":a.x+=b.left-d.left;break;case"center":a.x+=(b.width-d.width)/2+b.left-d.left;break;case"right":a.x+=b.right-d.right;break}switch(c.vAlign){case"top":a.y+=b.top-d.top;break;case"middle":a.y+=(b.height-d.height)/2+b.top-d.top;break;case"bottom":a.y+=b.bottom-d.bottom;break}}function m(a,c,d){__p&&__p();if(a.width!==null&&a.height!==null)return new(b("ShowreelTimeSeriesValue"))(new(b("pixi-js").Rectangle)(0,0,a.width,a.height));if(!d)throw new Error("Must have pass child when layout width / height is null");c=d.layer;var e=c.layout;return d.getBounds().map(function(c){var d;c=new(b("pixi-js").Rectangle)(0,0,a.width===null?c.width:a.width,a.height===null?c.height:a.height);d=(d=e==null?void 0:e.padding)!=null?d:0;d!==0&&c.pad(d);return c})}function n(a){a=a;var c=function(a){return a instanceof b("pixi-js").Graphics||a instanceof b("pixi-js").Sprite};while(a&&!c(a))a=a.children?a.children[0]:null;return a}}),null);
__d("ShowreelSnapshotView",["ShowreelRendererUtils","pixi-js"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelRendererUtils").createPixiRenderer;a=function(){__p&&__p();function a(a){var b=a.width,c=a.height,d=a.frameNumber,e=a.view,f=a.target;a=a.scale;this.frameNumber=d;this.$1=b;this.$2=c;this.$4=a;this.$3=g(b,c,f,e)}var b=a.prototype;b.update=function(a){var b=a.width,c=a.height,d=a.scale;a=a.frameNumber;var e=this.$3;(b!==this.$1||c!==this.$2)&&e.resize(b,c);this.$4=d;this.frameNumber=a};b.render=function(a){var b=this.$4,c=this.$3,d=a.scale.x,e=a.scale.y;a.scale.set(b.x*d,b.y*e);c.render(a);a.scale.set(d,e)};b.destroy=function(){this.$3.destroy()};return a}();e.exports=a}),null);
__d("ShowreelTicker",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){var b=this;this.$1=30;this.$3=!1;this.$7=function(a){b.$4=requestAnimationFrame(b.$7);var c=a-b.$5;c>b.$2&&(b.$5=a-c%b.$2,b.$6())};this.$6=a}var b=a.prototype;b.isPlaying=function(){return this.$3};b.getFrameInterval=function(){return this.$2};b.getFrameRate=function(){return this.$1};b.setFrameRate=function(a){this.$1=a,this.$2=1e3/a};b.start=function(){this.$3=!0,this.$5=performance.now(),this.$7(0)};b.stop=function(){this.$3=!1,cancelAnimationFrame(this.$4)};b.destroy=function(){this.stop()};return a}();e.exports=a}),null);
__d("ShowreelVideoManager",["Promise","BodymovinTypes.flow","ShowreelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BodymovinTypes.flow").switchLayer,h=4,i=function(){};a=function(){__p&&__p();function a(a,b){this.$2=b,this.$3=a,this.$1=j(a)}var c=a.prototype;c.playPause=function(a,c){__p&&__p();var d=this;this.$2.forEachVideo(function(e){var f=e.id;e=e.video;var g=d.$1[f];if(!g){b("ShowreelLogger").warn("Cannot play/pause video "+f+" because it is being used by a layer");return}f=c&&a>=g.inPoint&&a<=g.outPoint;e.playing!==f&&(f?e.play():e.pause())})};c.reset=function(a,c,d){__p&&__p();var e=this,f=function(a){return c?a.play():a.pause()},g=this.$2.mapVideos(function(c){__p&&__p();var g=c.id,i=c.video,j=c.texture;return new(b("Promise"))(function(c,k){__p&&__p();var l=e.$1[g];if(!l){b("ShowreelLogger").warn("Video "+g+" is not being used by a layer");c();return}var m=1/e.$3.frameRate;l=Math.max(m*(a-l.inPoint),0);var n=Math.abs(i.currentTime-l);if(d?n<m*2:n===0){f(i);c();return}m=function a(){i.removeEventListener("canplaythrough",a),p()};var o=function(){j.baseTexture.update(),f(i),c()},p=function a(){i.readyState===h?o():window.setTimeout(a,10)};n=function a(b){i.removeEventListener("error",a),k(b)};i.addEventListener("error",n);i.currentTime=l;i.readyState===h?o():i.addEventListener("canplaythrough",m)})});return b("Promise").all(g).then(i)};return a}();function j(a){return a.assets.reduce(function(b,c){var d=a.layers.find(function(a){return g(a,{ImageLayer:function(a){return a.referenceId===c.id}})});d&&(b[c.id]=d);return b},{})}e.exports=a}),null);
__d("ShowreelRenderer",["regeneratorRuntime","ShowreelAssetLoader","ShowreelAudioManager","ShowreelCanvasRenderer","ShowreelCanvasRendererPool","ShowreelFrameRenderer","ShowreelFrameUtils","ShowreelLogger","ShowreelRendererUtils","ShowreelSnapshotView","ShowreelTicker","ShowreelVideoManager","nullthrows","performance","pixi-js","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ShowreelFrameUtils").getLastRenderableFrame,i=b("ShowreelRendererUtils").createPixiRenderer,j=new(b("ShowreelCanvasRendererPool"))();a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;c===void 0&&(c=null);d===void 0&&(d=null);this.$8=!1;this.$12=!1;this.$19=function(){__p&&__p();if(!e.$4.isInViewPort())return;e.$7+=1;var a=h(e.$2),b=e.$7>=a;e.render(b?a:e.$7);e.$8&&(e.$8=!1,e.$1.forEachVideo(function(a){a.video.play()}),e.$10.play());if(b){a=!1;typeof e.$3.repeatCount!=="number"||e.$3.repeatCount===-1?a=!0:e.$3.repeatCount>0&&(a=!0,e.$3.repeatCount--,e.$3.onRepeatCountChanged&&e.$3.onRepeatCountChanged(e.$3.repeatCount));a?(e.$7=0,e.$20(),e.$10.play(),e.$10.updateCurrentTime(0)):e.setIsPlaying(!1)}};var f=a.animation,g=a.initialFrameNumber,i=a.container,k=a.scale,l=a.isPlaying,m=a.inViewPort;m=m===void 0?!0:m;var n=a.continuousRender,o=a.target,p=a.width,q=a.height,r=a.useCanvasScaling;r=r===void 0?!1:r;var s=a.useFontScaling;s=s===void 0?!1:s;var t=a.useEmulatedAntialiasing;t=t===void 0?!1:t;var u=f.width,v=f.height;p=(p=p)!=null?p:u;q=(q=q)!=null?q:v;u=r?u:p;v=r?v:q;r=r?1:k;k=(k=a.assets)!=null?k:b("nullthrows")(d);d={rendererSize:{width:u,height:v},viewSize:{width:p,height:q},target:o};this.$1=b("nullthrows")(k);this.$13=c;this.$11=!1;this.$7=g||0;this.$5=new(b("ShowreelTicker"))(this.$19);this.$6=new(b("ShowreelFrameRenderer"))(f,k,r,s);this.$3=a;this.$2=f;this.$9=new(b("ShowreelVideoManager"))(f,k);this.$10=new(b("ShowreelAudioManager"))(f,k);this.$4=new(b("ShowreelCanvasRenderer"))(j,i,d,m);this.$14=!!n;this.$16=new Map();this.$18=v;this.$17=u;f&&this.$5.setFrameRate(f.frameRate);if(t){b("pixi-js").settings.PRECISION_FRAGMENT=b("pixi-js").PRECISION.HIGH;p=new(b("pixi-js").filters.FXAAFilter)();p.resolution=2;this.$6.root.filters=[p]}g!==void 0&&this.$20().then(function(){return e.render(g)})["catch"](function(a){return b("ShowreelLogger").error("Failed to do initial render",a)});if(this.$14){q=function a(){e.$4.render(e.$6.root),e.$15=window.requestAnimationFrame(a)};q()}l===!0&&this.setIsPlaying(!0)}var c=a.prototype;c.render=function(a){__p&&__p();if(this.$12){b("recoverableViolation")("Trying to call render on a disposed renderer","Showreel");return}var c=this.$3,d=c.onStartFrameRender;c=c.onFinishFrameRender;try{d&&d(a);this.$9.playPause(a,this.isPlaying());d=(g||(g=b("performance"))).now();this.$6.render(a);this.$14||this.$4.render(this.$6.root);d=g.now()-d;var e=this.$5.getFrameInterval();d>e&&b("ShowreelLogger").log("Frame "+a+" took "+d+"ms. "+("It should take less than "+e+"ms"));c&&c(a,d,e)}catch(c){b("ShowreelLogger").error("Failed to render frame "+a,c)}};c.screenshot=function(a){return this.toCanvas(a).toDataURL()};c.toCanvas=function(a){var c=this.$2,d=new(b("ShowreelFrameRenderer"))(c,this.$1),e=document.createElement("canvas"),f=i(c.width,c.height,"webgl",e);e.style.width=c.width+"px";e.style.height=c.height+"px";d.render(a);f.render(d.root);return e};c.isPlaying=function(){return this.$5.isPlaying()};c.setInViewPort=function(a){this.$4.setInViewPort(a)};c.setContainer=function(a){this.$4.setContainer(a)};c.setAnimation=function(a,c){__p&&__p();var d=this;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:c===void 0&&(c=null);e.prev=1;if(!(c!=null)){e.next=6;break}this.$1=c;e.next=9;break;case 6:e.next=8;return b("regeneratorRuntime").awrap(b("nullthrows")(this.$13).getAssets(a));case 8:this.$1=e.sent;case 9:this.$10.destroy();this.$2=a;this.$9=new(b("ShowreelVideoManager"))(a,this.$1);this.$10=new(b("ShowreelAudioManager"))(a,this.$1);this.$5.setFrameRate(a.frameRate);this.$6.update(a,this.$1);this.$21();e.next=18;return b("regeneratorRuntime").awrap(this.$20());case 18:this.$16.forEach(function(a){return d.$22(a)});this.render(this.$7);e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](1),b("ShowreelLogger").error("Failed to set animation",a,e.t0);case 25:case"end":return e.stop()}},null,this,[[1,22]])};c.getCurrentFrameNumber=function(){return this.$7};c.setCurrentFrameNumber=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.$7=a;c.next=3;return b("regeneratorRuntime").awrap(this.$20());case 3:this.$11=!1,this.render(this.$7),this.$10.updateCurrentTime(this.$7/this.$2.frameRate);case 6:case"end":return c.stop()}},null,this)};c.setIsPlaying=function(a){var b=this.$3.onStateChanged;a===!0?(this.$8=!0,this.$11=!1,this.$5.start(),b&&b("playing")):(this.$11=!0,this.$1.forEachVideo(function(a){a.video.pause()}),this.$10.pause(),this.$5.stop(),b&&b("paused"))};c.setRepeatCount=function(a){this.$3.repeatCount=a<-1?0:a};c.getRepeatCount=function(){return this.$3.repeatCount};c.getRenderTarget=function(){return this.$3.target};c.getView=function(){return this.$4.getView()};c.dispose=function(){var a=this;this.$12?b("recoverableViolation")("Trying to dispose of already disposed renderer","Showreel"):(this.$12=!0,this.$4.dispose(),delete this.$4,this.$14&&window.cancelAnimationFrame(this.$15),this.$5.destroy(),this.$10.destroy(),this.$16.forEach(function(b,c){return a.unregisterSnapshotView(c)}))};c.registerSnapshotView=function(a,c,d,e){var f=this.$3.target,g={x:a/this.$17,y:c/this.$18};a={width:a,height:c,view:e,scale:g,frameNumber:d,target:f};c=this.$16.get(e);c!=null?c.update(a):(c=new(b("ShowreelSnapshotView"))(a),this.$16.set(e,c));this.$22(c)};c.unregisterSnapshotView=function(a){var b=this.$16.get(a);b!=null&&(b.destroy(),this.$16["delete"](a))};c.$22=function(a){var b=this.$6.root,c=a.frameNumber,d=this.getCurrentFrameNumber();this.$6.render(c);a.render(b);this.$6.render(d)};c.$20=function(){return this.$9.reset(this.$7,this.isPlaying(),this.$11)};c.$21=function(){var a=this.$7/this.$2.frameRate;this.$10.reset(a,this.isPlaying())};a.create=function(c){__p&&__p();var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d=c.animation;e=new(b("ShowreelAssetLoader"))();g.next=4;return b("regeneratorRuntime").awrap(e.getAssets(d));case 4:f=g.sent;return g.abrupt("return",new a(c,e,f));case 6:case"end":return g.stop()}},null,this)};return a}();e.exports=a}),null);
__d("buildAdsAnimatorTemplate",["ShowreelAnimationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelAnimationUtils").set;a=function(a,b){if(b&&"logo_background_solid_color"in b){var c=(a.contentMap||[]).find(function(a){a=a.id;return a==="logo_background_solid_color"}),d=b.logo_background_solid_color;typeof d==="string"&&(d.charAt(0)!=="#"&&(d="#"+d.slice(2)));c&&(c.paths||[]).forEach(function(b){return g(a,b,d)})}return a};e.exports=a}),null);
__d("VCKContentUtils",[],(function(a,b,c,d,e,f){"use strict";e.exports={getDisabledLayers:function(a){a=a.disabledLayers||[];return a}}}),null);
__d("VCKClientLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";e.exports={VCK_MISSING_FONT:"vck_missing_font",VCK_SERVER_RENDERING_FAILED:"vck_server_rendering_failed",VCK_SERVER_RENDERING_TIMEOUT:"vck_server_rendering_timeout",VCK_PARSE_SPECIFICATION_ERROR:"vck_parse_specification_error",VCK_PARSE_SECTIONS_ERROR:"vck_parse_sections_error",VCK_PARSE_VARIABLE_ERROR:"vck_parse_variable_error",VCK_WRONG_ENTRY_POINT_FOR_BLUE_TIP:"vck_wrong_entry_point_for_blue_tip",VCK_PARSE_SMART_CROP_PAYLOAD_ERROR:"vck_parse_smart_crop_payload_error",VCK_PARSE_STICKER_RESOURCES_ERROR:"vck_parse_sticker_resources_error",VCK_PARSE_BACKGROUND_ASPECT_RATIO_ERROR:"vck_parse_background_aspect_ratio_error",VCK_STORIFY_VIDEO_ENQUEUE_ERROR:"vck_storify_video_enqueue_error",VCK_STORIFY_VIDEO_SUCCESS_CALLBACK_ERROR:"vck_storify_video_success_callback_error",VCK_CONFIRM_VIDEO_CREATE:"vck_confirm_video_create",VCK_CONFIRM_MULTIPLE_VIDEO_CREATE:"vck_confirm_multiple_video_create",VCK_DRAFT_CONTENT_MISSING_FONT_RESOURCES:"vck_draft_content_missing_font_resources",VCK_TRANSCODE_SAFE_IMAGE_ERROR:"vck_transcode_safe_image_error",VCK_SELECT_ENHANCEMENT_TAB:"vck_select_enhancement_tab",VCK_OPEN_DIALOG:"vck_open_dialog",VCK_EXTRACT_COLOR_LOAD_SINGLE_IMAGE_ERROR:"vck_extract_color_load_single_image_error"}}),null);
__d("VCKErrorUtils",[],(function(a,b,c,d,e,f){"use strict";a={updateErrorName:function(a,b){a&&a.name&&(a.name=b);return a}};e.exports=a}),null);
__d("VCKImageCroppingUtils",["AdsInterfacesLoggerUtils","VCKClientLoggingEvents","VCKErrorUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getDefaultImageCrop:function(a,b,c){var d,e,f,g=b/a;g>c?(g=a,f=Math.round(g*c),d=Math.round((b-f)/2),e=0):(f=b,g=Math.round(b/c),e=Math.round((a-g)/2),d=0);return{x:d,y:e,width:f,height:g}},getAspectRatioValueFromName:function(a){switch(a){case"1:1":return 1;case"9:16":return 9/16;default:return 1}},getAspectRatioValueFromBackgroundComponent:function(a,c){try{if(a&&a.type==="background"){var d=JSON.parse(a.variables.background_image_crop_window.default_value);return d.width/d.height}}catch(c){b("AdsInterfacesLoggerUtils").logException(b("VCKErrorUtils").updateErrorName(c,b("VCKClientLoggingEvents").VCK_PARSE_BACKGROUND_ASPECT_RATIO_ERROR),{payload_on_error:a,is_vck:!0})}return g.getAspectRatioValueFromName(c)},getAspectRatioNameFromValue:function(a){if(a===1)return"1:1";else if(a>9/16*.95&&a<9/16*1.05)return"9:16";else return"1:1"}};e.exports=g}),null);
__d("vccUpdateVariableCalculateNewCoordinateHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="_",h="bottom",i="right",j="middle";function a(a,b,c,d,e,f,k,l){__p&&__p();b=b;c=c;a!=null&&a.box_window!=null&&(b=a.box_window.width,c=a.box_window.height);var m,n;if(f==="center")m=j,n=j;else{f=f.split(g);m=f[1];n=f[0]}f=Math.floor(b*k);k=Math.floor(c*l);l=f+d/2;var o=k+e/2;m===j?l=b/2:m===i&&(l=b-f-d/2);n===j?o=c/2:n===h&&(o=c-k-e/2);a!=null&&a.box_window!=null&&(l+=a.box_window.x,o+=a.box_window.y);return{marginLeft:l,marginTop:o,width:d,height:e}}e.exports=a}),null);
__d("vccUpdateVariableFitToBoundingBox",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a===0||b===0||c===0||d===0)return{width:a,height:b};var e=a/b,f=c/d;e>f?(a=c,b=a/e):(b=d,a=b*e);return{width:a,height:b}}e.exports=a}),null);
__d("vccUpdateVariableGetMinMarginPercent",[],(function(a,b,c,d,e,f){"use strict";var g=.07,h=.1;function a(a){switch(a){case"9:16":return{minHorizontalMarginPercent:g,minVerticalMarginPercent:h};default:return{minHorizontalMarginPercent:g,minVerticalMarginPercent:g}}}e.exports=a}),null);
__d("vccUpdateVariableTranslateImageScale",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1,h=.5,i=1,j=1.25;function a(a){var b=g;switch(a){case"small":b=h;break;case"medium":b=i;break;case"large":b=j;break}return b}e.exports=a}),null);
__d("VCKEnhancementsUtils",["VCKImageCroppingUtils","vccUpdateVariableCalculateNewCoordinateHelper","vccUpdateVariableFitToBoundingBox","vccUpdateVariableGetMinMarginPercent","vccUpdateVariableTranslateImageScale"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=250,h=250,i={addStickers:function(a,b){if(!b||!b.stickers||!Array.isArray(b.stickers)||b.stickers.length<=0)return a;b=b.stickers[0];b=i._adjustStickerDuration(b,a.animation.outPoint);b=i._adjustStickerSizeAndPosition(b,a.animation.width,a.animation.height);a.animation.assets=a.animation.assets.concat(b.assets);a.animation.layers=b.layers.concat(a.animation.layers);return a},_adjustStickerDuration:function(a,b){a.layers.forEach(function(a){a.inPoint=0,a.outPoint=b});return a},_adjustStickerSizeAndPosition:function(a,c,d){__p&&__p();var e=0,f=0,i=b("vccUpdateVariableTranslateImageScale")(a.variables.sticker_size.value||a.variables.sticker_size.default_value),j=i*g,k=i*h;a.assets.forEach(function(a){var c=b("vccUpdateVariableFitToBoundingBox")(a.originalWidth,a.originalHeight,j,k);e=c.width;f=c.height;a.width=e;a.height=f;a.originalWidth=e;a.originalHeight=f});i=b("VCKImageCroppingUtils").getAspectRatioNameFromValue(c/d);i=b("vccUpdateVariableGetMinMarginPercent")(i);var l=i.minHorizontalMarginPercent,m=i.minVerticalMarginPercent;a.layers.forEach(function(g){var h=b("vccUpdateVariableCalculateNewCoordinateHelper")(null,c,d,e,f,a.variables.sticker_position.value||a.variables.sticker_position.default_value,l,m);g=g.transform;var i=g.anchorPoint;g=g.position;i.animated===0&&(i=i,i.value=[e/2,f/2,0]);g.animated===0&&(g=g,g.value=[h.marginLeft,h.marginTop,0])});return a}};e.exports=i}),null);
__d("buildVCKProductShowcaseTemplate",["ShowreelSpecificationModifiers","VCKEnhancementsUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){if(!c)return a;var d=b("immutable").Set();c.disabledLayers&&(d=c.disabledLayers);var e=a;d.forEach(function(c){a=b("ShowreelSpecificationModifiers").removeLayer(e,c,!0)});e=b("VCKEnhancementsUtils").addStickers(e,c);return e};e.exports=a}),null);
__d("buildStorifyMusicGirlTemplate",["ShowreelSpecificationModifiers","VCKContentUtils","buildVCKProductShowcaseTemplate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelSpecificationModifiers").removeLayer,h=b("VCKContentUtils").getDisabledLayers,i="section_1_text_2_text",j="section_1_text_3_text";a=function(a,c){a=b("buildVCKProductShowcaseTemplate")(a,c);if(!c)return a;var d=h(c),e=k(c[i])||d.indexOf("headline")!==-1;c=k(c[j])||d.indexOf("body")!==-1;(e||c)&&(a=g(a,"shape_underline"));return a};function k(a){return typeof a==="string"&&a.trim().length===0}e.exports=a}),null);
__d("VCEColorPickerConstants",[],(function(a,b,c,d,e,f){"use strict";a="#ffffff";b="#000000";c=[{textColor:"#000000",backgroundColor:"#ffffff",opacity:.8},{textColor:"#ffffff",backgroundColor:"#b9cad2",opacity:.8},{textColor:"#ffffff",backgroundColor:"#5f6673",opacity:.8},{textColor:"#ffffff",backgroundColor:"#a3cedf",opacity:.8},{textColor:"#ffffff",backgroundColor:"#54c7ec",opacity:.8},{textColor:"#ffffff",backgroundColor:"#6bcebb",opacity:.8},{textColor:"#ffffff",backgroundColor:"#a3ce71",opacity:.8},{textColor:"#ffffff",backgroundColor:"#fcd872",opacity:.8},{textColor:"#ffffff",backgroundColor:"#f7923b",opacity:.8},{textColor:"#ffffff",backgroundColor:"#fb724b",opacity:.8},{textColor:"#ffffff",backgroundColor:"#f35369",opacity:.8},{textColor:"#ffffff",backgroundColor:"#ec7ebd",opacity:.8},{textColor:"#ffffff",backgroundColor:"#8c72cb",opacity:.8},{textColor:"#ffffff",backgroundColor:"#ffffff",opacity:0},{textColor:"#000000",backgroundColor:"#ffffff",opacity:0}];d=224;f="#000000";var g=1,h="#ffffff",i=.8;e.exports={WHITE:a,BLACK:b,COLOR_OPTIONS:c,COLOR_DIALOG_WIDTH:d,DEFAULT_FONT_COLOR:f,DEFAULT_FONT_OPACITY:g,DEFAULT_BACKGROUND_COLOR:h,DEFAULT_BACKGROUND_OPACITY:i}}),null);
__d("VCEOverlayTemplateFetchingParams",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({targetID:void 0,originalVideoID:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("VCEOverlayTemplateUtils",["AdsInterfacesLoggerUtils","VCEColorPickerConstants","VCEConstants","VCEOverlayTemplateFetchingParams","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("VCEConstants")).LARGE_FONT_SIZE,h=a.LARGE_IMAGE_SCALE,i=a.MEDIUM_FONT_SIZE,j=a.MEDIUM_IMAGE_SCALE,k=a.MIN_OVERLAY_SECONDS,l=a.SMALL_FONT_SIZE,m=a.SMALL_IMAGE_SCALE,n=a.VCE_PLAYER_HEIGHT,o=a.VCE_PLAYER_WIDTH,p=b("immutable").fromJS,q={getTemplateWithResources:function(a){__p&&__p();var b=JSON.parse(a.template.specification),c={};a.template.content.forEach(function(a){c[a.key]=q._getShowreelVariableValue(b,a)});b.animation.width=c.videoWidth;b.animation.height=c.videoHeight;b.animation.outPoint=c.videoOutPoint;b.animation.frameRate=c.frameRate;var d={};a.available_fonts.forEach(function(a){d[a.key]={name:a.key,uri:a.value}});a={content:babelHelpers["extends"]({},c,{font_resources:d}),specification:b};return{template:a,available_fonts:d}},_getShowreelVariableValue:function(a,b){__p&&__p();var c=JSON.parse(b.value);if(c!==null)return c;c=a.contentMap;if(!c)return"";a=c.find(function(a){return a.id===b.key});switch(a){case"Array":case"RGBAColour":return[];case"Number":return 0;default:return""}},getScale:function(a){return Math.max(a.width/o,a.height/n)},getFontScale:function(a){return(a.width/o+a.height/n)/2},getTextOverlayGlobalProperties:function(a,c){if(c.length){c=c[0];return{position:c.position,background_color:c.background_color,background_opacity:c.background_opacity,text_color:c.text_color,font_family:c.font_family,font_size:c.font_size}}return{position:"bottom_center",background_color:b("VCEColorPickerConstants").DEFAULT_BACKGROUND_COLOR,background_opacity:b("VCEColorPickerConstants").DEFAULT_BACKGROUND_OPACITY,text_color:b("VCEColorPickerConstants").DEFAULT_FONT_COLOR,font_family:"roboto_medium",font_size:Math.round(i*q.getFontScale(a))}},getAvailableTimeSegment:function(a,b){__p&&__p();if(a===null||a===void 0)return null;else{var c=a.outPoint-1,d=a.inPoint;b.forEach(function(a){d=Math.max(a.end,d)});b=k*a.frameRate;a=c-d;b=Math.max(b,Math.min(Math.floor(.2*c),a));return c-d>=b?{start:d,end:d+b}:null}},getDefaultTextOverlaySpec:function(a,b){var c=q.getAvailableTimeSegment(a,b.map(function(a){return{start:a.start_frame,end:a.end_frame}}));if(!c||!a)return null;else return babelHelpers["extends"]({},q.getTextOverlayGlobalProperties(a,b),{text:"",start_frame:c.start,end_frame:c.end})},getStartingDefaultTextOverlaySpecs:function(a){var c=q.getDefaultTextOverlaySpec(a,[]);if(c)return[c];else b("AdsInterfacesLoggerUtils").logException(new Error("null_default_text_overlay"),{payload_on_error:{animation:a}});return[]},fetchFontsAndApply:function(a){typeof document.fonts==="object"&&typeof FontFace==="function"?Object.keys(a).forEach(function(c){c=a[c];c=new FontFace(c.name,"url("+c.uri+") format('truetype')");b("promiseDone")(c.load(),function(a){document.fonts.add(a)})}):Object.keys(a).forEach(function(b){b=a[b];b="@font-face { font-family: '"+b.name+"'; src: url("+b.uri+") format('truetype'); }";window.document.styleSheets[0].insertRule(b,0)})},getFontSizeDisplayNames:function(a){a=q.getFontScale(a);return new Map([[Math.round(l*a),"Small"],[Math.round(i*a),"Medium"],[Math.round(g*a),"Large"]])},getDefaultImageOverlaySpec:function(a,b,c){a=q.getAvailableTimeSegment(a,b.map(function(a){return{start:a.start_frame,end:a.end_frame}}));if(!a)return null;else return{image_hash:c,position:"top_left",image_size:m,opacity:100,start_frame:a.start,end_frame:a.end}},getImageSizeDisplayNames:function(){return new Map([[m,"Small"],[j,"Medium"],[h,"Large"]])},getImageInfoWithTemplate:function(a,b){a=q.getImageInfoWithUrls(a);var c=a.imageInfo;a=a.urls;return{imageInfo:c,template:babelHelpers["extends"]({},b,{content:babelHelpers["extends"]({},b.content,{image_info:c},a)})}},getImageInfoWithUrls:function(a){var c={hash:"",height:0,loadState:"ERROR",name:"Image not found",url:"",url_128:"",url_256:"",url_256_height:0,url_256_width:0,width:0,variants:{data:[]}},d={},e={};a.forEach(function(a,f){var g=a.hash;a=a.image;typeof a==="string"||a.url===void 0||a.url===""?(d[g]=c,e["image"+f]="",b("AdsInterfacesLoggerUtils").logException(new Error("fetch_image_info_failed"),{payload_on_error:g})):(d[g]=a,e["image"+f]=a.url)});return{imageInfo:d,urls:e}},getUpdatedStateInfo:function(a,c,d,e,f,g){e=(e=(e=e)!=null?e:a.overlaidFromVideoID)!=null?e:a.id;a=a.overlaidFromParams;f=(f=f)!=null?f:p((f=a==null?void 0:a.text_overlay_specs)!=null?f:[]).toJS();a=(g=g)!=null?g:p((g=a==null?void 0:a.image_overlay_specs)!=null?g:[]).toJS();g=new(b("VCEOverlayTemplateFetchingParams"))({targetID:c,originalVideoID:e});c=d.get(g);d=c.hasValue()?c.getValue():null;return{videoID:e,newTextOverlaySpecs:f,newImageOverlaySpecs:a,templateWithResources:d}}};e.exports=q}),null);
__d("VCEOverlayImageLayerUtils",["ShowreelAnimationUtils","VCEConstants","VCEOverlayTemplateUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelAnimationUtils").set,h=b("VCEConstants").OVERLAY_FADE_SPEED_FRAMES,i=b("VCEConstants").OVERLAY_PADDING,j=b("immutable").fromJS,k={opacity:["transform.opacity.value[0].end","transform.opacity.value[1].start","transform.opacity.value[1].end","transform.opacity.value[2].start"],position:["transform.position.value"],startFadeIn:["inPoint","transform.opacity.value[0].time"],stopFadeIn:["transform.opacity.value[1].time"],startFadeOut:["transform.opacity.value[2].time"],stopFadeOut:["outPoint","transform.opacity.value[3].time"]},l={updateSpecification:function(a,b,c,d,e,f){c=l._getScaledImageDimensions(a.image_size,c,d);var g=c[0];c=c[1];a=l._getImageLayer(a,[g,c],d,e,f);d.animation.layers.push(a);d.animation.assets.push({id:a.referenceId,width:g,height:c,name:"img_0.png",_type:"ImageSource",url:b,originalWidth:g,originalHeight:c});return d},_getScaledImageDimensions:function(a,c,d){var e=i*2*b("VCEOverlayTemplateUtils").getScale(d.animation),f=d.animation.width-e;d=d.animation.height-e;e=Math.min(f/c[0],d/c[1]);f=c[0]*e*a;d=c[1]*e*a;return[f,d]},_getImageLayer:function(a,b,c,d,e){var f={opacity:[a.opacity],position:l._getImagePosition(a.position,c,b),startFadeIn:a.start_frame,stopFadeIn:a.start_frame+h,startFadeOut:a.end_frame-h,stopFadeOut:a.end_frame},i=j(d).toJS();i.index=e;i.name+=e;i.referenceId+=e;Object.keys(f).forEach(function(a){var b=k[a];b.forEach(function(b){i=g(i,b,f[a])})});return i},_getImagePosition:function(a,c,d){var e=c.animation.width,f=c.animation.height,g=d[0];d=d[1];c=b("VCEOverlayTemplateUtils").getScale(c.animation);var h=i*c;a.includes("center")?h=e/2-g/2:a.includes("right")&&(h=e-g-h);e=i*c;a.includes("middle")?e=f/2-d/2:a.includes("bottom")&&(e=f-d-e);return[h,e,0]}};e.exports=l}),null);
__d("VCEOverlayTemplateData",[],(function(a,b,c,d,e,f){a={ddd:!1,index:1,name:"text",parent:2,stretch:1,transform:{opacity:{animated:1,value:[{inValue:{x:[.833],y:[.833]},outValue:{x:[.167],y:[.167]},name:["0p833_0p833_0p167_0p167"],time:10,start:[0],end:[100],_type:"KeyframedValueProperty"},{inValue:{x:[.833],y:[.833]},outValue:{x:[.167],y:[.167]},name:["0p833_0p833_0p167_0p167"],time:15,start:[100],end:[100],_type:"KeyframedValueProperty"},{inValue:{x:[.833],y:[.833]},outValue:{x:[.167],y:[.167]},name:["0p833_0p833_0p167_0p167"],time:65,start:[100],end:[0],_type:"KeyframedValueProperty"},{time:70,_type:"KeyframedEndValueProperty"}],propertyIndex:11,_type:"ValueKeyframedProperty"},rotation:{animated:0,value:0,propertyIndex:10,_type:"ValueProperty"},position:{animated:0,value:[0,0,0],propertyIndex:2,_type:"MultiDimensionalProperty"},anchorPoint:{animated:0,value:[0,0,0],propertyIndex:1,_type:"MultiDimensionalProperty"},scale:{animated:0,value:[100,100,100],propertyIndex:6,_type:"MultiDimensionalProperty"},_type:"TransformHelper"},autoOrient:!1,textData:{document:{keyframes:[{textProperties:{boxTextSize:[400,20],boxTextPosition:[0,0],size:20,font:"font1",text:"Cash on delivery",justificaiton:2,tracking:0,lineHeight:20,baselineShift:0,fontColor:[1,1,1],_type:"TextPropertyLayer"},time:0,_type:"TextDocumentKeyFrameLayer"}],_type:"TextDocumentLayer"},textPath:[],moreOptions:{groupingAlignment:1,_type:"TextMoreOptionLayer"},animatedProperties:[],_type:"TextDatumLayer"},inPoint:11,outPoint:69,startTime:0,blendMode:"normal",_type:"TextLayer"};b={ddd:!1,index:3,name:"image",referenceId:"image",stretch:1,transform:{opacity:{animated:1,value:[{inValue:{x:[.833],y:[.833]},outValue:{x:[.167],y:[.167]},name:["0p833_0p833_0p167_0p167"],time:0,start:[0],end:[100],_type:"KeyframedValueProperty"},{inValue:{x:[.833],y:[.833]},outValue:{x:[.167],y:[.167]},name:["0p833_0p833_0p167_0p167"],time:3,start:[100],end:[100],_type:"KeyframedValueProperty"},{inValue:{x:[.833],y:[.833]},outValue:{x:[.167],y:[.167]},name:["0p833_0p833_0p167_0p167"],time:61.997,start:[100],end:[0],_type:"KeyframedValueProperty"},{time:65,_type:"KeyframedEndValueProperty"}],propertyIndex:11,_type:"ValueKeyframedProperty"},rotation:{animated:0,value:0,propertyIndex:10,_type:"ValueProperty"},position:{animated:0,value:[0,0,0],propertyIndex:2,_type:"MultiDimensionalProperty"},anchorPoint:{animated:0,value:[0,0,0],propertyIndex:1,_type:"MultiDimensionalProperty"},scale:{animated:0,value:[100,100,100],propertyIndex:6,_type:"MultiDimensionalProperty"},_type:"TransformHelper"},autoOrient:!1,inPoint:0,outPoint:65,startTime:0,blendMode:"normal",_type:"ImageLayer"};e.exports={imageLayer:b,textLayer:a}}),null);
__d("VCKColorUtils",["colr"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isHexColor:function(a){return a.split(",").length<=1},isRGBAColor:function(a){return a.split(",").length===4},convertHexColorToRGB:function(a){return b("colr").fromHex(a).toRgbArray().map(function(a){return a/255})},convertHexColorToRGBAFloat:function(a,b){return g.convertHexColorToRGB(a).concat(b)},convertHexColorToRGBAString:function(a,b){return g.isRGBAColor(a)?a:g.convertHexColorToRGB(a).concat(b).join(",")},convertColorToHex:function(a){return g.isHexColor(a)?a:b("colr").fromRgbArray(a.split(",").map(function(a){return parseFloat(a)*255})).toHex()},convertStringToRGBA:function(a){return a.split(",").map(function(a){return parseFloat(a)})},converRGBAToString:function(a){return a.join(",")},getOpacityFromRGBAString:function(a){a=g.convertStringToRGBA(a);return a.length===4?a[3]*100:0}};e.exports=g}),null);
__d("VCEOverlayTextLayerUtils",["ShowreelAnimationUtils","ShowreelTextUtils","VCEColorPickerConstants","VCEConstants","VCEOverlayTemplateUtils","VCKColorUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelAnimationUtils").set,h=b("VCEColorPickerConstants").DEFAULT_FONT_OPACITY,i=(a=b("VCEConstants")).OVERLAY_FADE_SPEED_FRAMES,j=a.OVERLAY_PADDING,k=a.OVERLAY_TEXT_PADDING,l=a.OVERLAY_TEXT_WRAP_FRACTION,m=a.OVERLAY_TEXTBOX_ROUNDNESS,n=b("immutable").fromJS,o={text:["textData.document.keyframes[0].textProperties.text"],fontFamily:["textData.document.keyframes[0].textProperties.font"],fontSize:["textData.document.keyframes[0].textProperties.size","textData.document.keyframes[0].textProperties.lineHeight"],color:["textData.document.keyframes[0].textProperties.fontColor"],dimensions:["textData.document.keyframes[0].textProperties.boxTextSize"],position:["textData.document.keyframes[0].textProperties.boxTextPosition"],startFadeIn:["inPoint","transform.opacity.value[0].time"],stopFadeIn:["transform.opacity.value[1].time"],startFadeOut:["transform.opacity.value[2].time"],stopFadeOut:["outPoint","transform.opacity.value[3].time"]},p={updateSpecification:function(a,c,d,e,f){d=p._getTextLayer(a,c,d,e,f);c.animation.layers.push(d);e=b("VCEOverlayTemplateUtils").getFontScale(c.animation);f={id:d.name,textAlign:"center",textVAlign:"middle",background:{colour:b("VCKColorUtils").convertHexColorToRGBAFloat(a.background_color,a.background_opacity),wrap:"block",padding:k*e,radius:m*e,_type:"BackgroundHelper"}};c.styles?c.styles.push(f):c.styles=[f];return c},_getTextLayer:function(a,c,d,e,f){__p&&__p();d=a.text===""?d:a.text;var j=[c.animation.width*l,c.animation.height*l],k={text:d,fontFamily:a.font_family,fontSize:a.font_size,color:b("VCKColorUtils").convertHexColorToRGBAFloat(a.text_color,h).slice(0,3),dimensions:j,position:[-j[0]/2,-j[1]/2],startFadeIn:a.start_frame,stopFadeIn:a.start_frame+i,startFadeOut:a.end_frame-i,stopFadeOut:a.end_frame},m=n(e).toJS();m.index=f;m.name+=f;Object.keys(k).forEach(function(a){var b=o[a];b.forEach(function(b){m=g(m,b,k[a])})});m.transform.position.value=p._getPosition(d,m,a.position,c);return m},_getTextboxDimensions:function(a,c,d){var e=n(c.animation).toJS();e.layers=[d].concat(e.layers);e=babelHelpers["extends"]({},c,{animation:e});a=b("ShowreelTextUtils").getTextDimensions(a,d.name,e);d=b("VCEOverlayTemplateUtils").getFontScale(c.animation);return[a.width+2*k*d,a.height+2*k*d]},_getPosition:function(a,c,d,e){__p&&__p();var f=e.animation.width,g=e.animation.height;a=p._getTextboxDimensions(a,e,c);c=a[0];a=a[1];e=b("VCEOverlayTemplateUtils").getFontScale(e.animation);c=c/2+j*e;d.includes("center")?c=f/2:d.includes("right")&&(c=f-c);f=a/2+j*e;d.includes("middle")?f=g/2:d.includes("bottom")&&(f=g-f);return[c,f,0]}};e.exports=p}),null);
__d("buildVCEOverlayTemplate",["ShowreelSpecificationModifiers","VCEOverlayImageLayerUtils","VCEOverlayTemplateData","VCEOverlayTextLayerUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ShowreelSpecificationModifiers").getLayer;a=function(a,c){__p&&__p();if(!c||!c.overlay_specs)return a;var d=c.overlay_specs,e=d.image_overlay_specs;d=d.text_overlay_specs;var f=1,h=b("VCEOverlayTemplateData").textLayer;d.forEach(function(d){a=b("VCEOverlayTextLayerUtils").updateSpecification(d,a,c.defaultText,h,f++)});var i=c.image_info,j=b("VCEOverlayTemplateData").imageLayer;e.forEach(function(d,e){var g=i[d.image_hash];a=b("VCEOverlayImageLayerUtils").updateSpecification(d,c["image"+e],[g.width,g.height],a,j,f++)});var k=g(a,"vce_video_only");k&&(k.index=f,a.animation.layers.forEach(function(a){a._type==="TextLayer"&&(a.parent=k.index)}));return a};e.exports=a}),null);
__d("VCCTemplateID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SLIDESHOW_EXAMPLE:"slideshow_example",VCC_SINGLE_PRODUCT_6_S_1_X_1:"vcc_single_product_6_s_1_x_1",VCC_SINGLE_PRODUCT_6_S_9_X_16:"vcc_single_product_6_s_9_x_16",VCC_BRAND_15_S_1_X_1:"vcc_brand_15_s_1_x_1",VCC_BRAND_15_S_9_X_16:"vcc_brand_15_s_9_x_16",VCC_MULTIPRODUCT_6_S_1_X_1:"vcc_multiproduct_6_s_1_x_1",VCC_MULTIPRODUCT_6_S_9_X_16:"vcc_multiproduct_6_s_9_x_16",VCC_PRODUCT_15_S_1_X_1:"vcc_product_15_s_1_x_1",VCC_PRODUCT_15_S_9_X_16:"vcc_product_15_s_9_x_16",VCK_SINGLE_IMAGE_6_S_1_X_1:"vck_single_image_6_s_1_x_1",VCK_SINGLE_IMAGE_6_S_9_X_16:"vck_single_image_6_s_9_x_16",VCK_BLURRY_BG_6_S_1_X_1:"vck_blurry_bg_6_s_1_x_1",VCK_BLURRY_BG_6_S_9_X_16:"vck_blurry_bg_6_s_9_x_16",VCK_NEKO_10_S_1_X_1:"vck_neko_10_s_1_x_1",VCK_ADS_ANIMATOR_1_X_1:"vck_ads_animator_1_x_1",VCK_ADS_ANIMATOR_9_X_16:"vck_ads_animator_9_x_16",VCK_ADS_ANIMATOR_KT_1_X_1:"vck_ads_animator_kt_1_x_1",VCK_AA_SHOWREEL_MULTIPHOTO_1_X_1:"vck_aa_showreel_multiphoto_1_x_1",VCK_AA_SHOWREEL_MULTIPHOTO_9_X_16:"vck_aa_showreel_multiphoto_9_x_16",VCK_SINGLE_IMAGE_SUNGLASSES_1_X_1:"vck_single_image_sunglasses_1_x_1",VCK_SINGLE_IMAGE_LUCKY_SHRUB_1_X_1:"vck_single_image_lucky_shrub_1_x_1",VCK_PARANOID_1_X_1:"vck_paranoid_1_x_1",VCK_MUSIC_GIRL_1_X_1:"vck_music_girl_1_x_1",VCK_ZIMA_1_X_1:"vck_zima_1_x_1",VCK_FATHERS_DAY_1_X_1:"vck_fathers_day_1_x_1",VCK_SLIDESHOW_10_SCENES_1_X_1:"vck_slideshow_10_scenes_1_x_1",VCK_SLIDESHOW_10_SCENES_9_X_16:"vck_slideshow_10_scenes_9_x_16",VCK_SINGLE_PRODUCT_10_SCENES_1_X_1:"vck_single_product_10_scenes_1_x_1",VCK_SINGLE_PRODUCT_10_SCENES_9_X_16:"vck_single_product_10_scenes_9_x_16",VCK_PRODUCT_10_SCENES_1_X_1:"vck_product_10_scenes_1_x_1",VCC_PRODUCT_10_SCENES_9_X_16:"vcc_product_10_scenes_9_x_16",VCK_SLIDE_LEFT_10_SCENES_1_X_1:"vck_slide_left_10_scenes_1_x_1",VCC_SWIPE_UP_AND_LEFT_10_SCENES_1_X_1:"vcc_swipe_up_and_left_10_scenes_1_x_1",VCC_SWIPE_UP_AND_LEFT_10_SCENES_9_X_16:"vcc_swipe_up_and_left_10_scenes_9_x_16",VCK_HOLIDAY_PRODUCT_10_SCENES_1_X_1:"vck_holiday_product_10_scenes_1_x_1",VCK_HOLIDAY_PRODUCT_10_SCENES_9_X_16:"vck_holiday_product_10_scenes_9_x_16",VCK_HOLIDAY_BENEFITS_10_SCENES_1_X_1:"vck_holiday_benefits_10_scenes_1_x_1",VCK_HOLIDAY_BENEFITS_10_SCENES_9_X_16:"vck_holiday_benefits_10_scenes_9_x_16",PRODUCT_SHOWCASE:"product_showcase",VCK_HOLIDAY_BENEFITS_15_S_1_X_1:"vck_holiday_benefits_15_s_1_x_1",VCK_HOLIDAY_BENEFITS_15_S_9_X_16:"vck_holiday_benefits_15_s_9_x_16",VCK_HOLIDAY_MULTIMESSAGE_15_S_1_X_1:"vck_holiday_multimessage_15_s_1_x_1",VCK_HOLIDAY_MULTIMSG_15_S_9_X_16:"vck_holiday_multimsg_15_s_9_x_16",VCK_HOLIDAY_PRODUCT_6_S_1_X_1:"vck_holiday_product_6_s_1_x_1",VCK_HOLIDAY_PRODUCT_6_S_9_X_16:"vck_holiday_product_6_s_9_x_16",VCK_HOLIDAY_SPLITSCREEN_15_S_1_X_1:"vck_holiday_splitscreen_15_s_1_x_1",VCK_HOLIDAY_SPLIT_15_S_9_X_16:"vck_holiday_split_15_s_9_x_16",TEMPLATE_2_BRAND_15_S_1_X_1:"template_2_brand_15_s_1_x_1",VCC_TEMPLATE_3_PRODUCT_15_S_B_1_X_1:"vcc_template_3_product_15_s_b_1_x_1",STORIFY_PORTAL_DUMMY:"storify_portal_dummy",STORIFY_TOTO:"storify_toto",STORIFY_HOLIDAY:"storify_holiday",STORIFY_MUSICGIRL:"storify_musicgirl",STORIFY_ONE:"storify_one",STORIFY_PARANOID:"storify_paranoid",STORIFY_REPTILIA:"storify_reptilia",STORIFY_THRILLER:"storify_thriller",STORIFY_UPRISING:"storify_uprising",STORIFY_KASHMIR:"storify_kashmir",STORIFY_ALIVE:"storify_alive",STORIFY_VOGUE:"storify_vogue",STORIFY_WATERFALLS:"storify_waterfalls",STORIFY_PAPARAZZI:"storify_paparazzi",STORIFY_FOOTLOOSE:"storify_footloose"})}),null);
__d("VCKTemplatesGroupsUtils",["VCCTemplateID","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Set(["vcc_brand_15_s_1_x_1","vcc_brand_15_s_9_x_16","vcc_multiproduct_6_s_1_x_1","vcc_multiproduct_6_s_9_x_16","vcc_product_15_s_1_x_1","vcc_product_15_s_9_x_16","vcc_single_product_6_s_1_x_1","vcc_single_product_6_s_9_x_16","vck_slide_left_10_scenes_1_x_1","vck_single_product_10_scenes_1_x_1","vck_single_product_10_scenes_9_x_16","vck_product_10_scenes_1_x_1","vcc_product_10_scenes_9_x_16","vcc_swipe_up_and_left_10_scenes_1_x_1","vcc_swipe_up_and_left_10_scenes_9_x_16","vck_holiday_product_10_scenes_1_x_1","vck_holiday_product_10_scenes_9_x_16","vck_holiday_benefits_10_scenes_1_x_1","vck_holiday_benefits_10_scenes_9_x_16"]),h=b("immutable").Set(["vcc_swipe_up_and_left_10_scenes_1_x_1","vcc_swipe_up_and_left_10_scenes_9_x_16","vck_slide_left_10_scenes_1_x_1","vck_holiday_benefits_10_scenes_1_x_1","vck_holiday_benefits_10_scenes_9_x_16"]),i=b("immutable").Set(["vck_holiday_product_10_scenes_1_x_1","vck_holiday_product_10_scenes_9_x_16"]);a={isMultipleImagesTemplate:function(a){return g.includes(a)},isTemplateWithOverlappingTransitions:function(a){return h.includes(a)},getOutpointForFlexibleTemplateWithOverlappingTransitions:function(a,b){return a-b},hasThemeColor:function(a){return i.includes(a)}};e.exports=a}),null);
__d("buildVCKFlexibleTemplate",["VCKTemplatesGroupsUtils","buildVCKProductShowcaseTemplate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){a=b("buildVCKProductShowcaseTemplate")(a,c);var d=-1;a.animation.layers.forEach(function(a){a.name.includes("background")&&a.name.includes("image")&&(a.outPoint>d&&(d=a.outPoint))});c=a.id;var e=a.animation.frameRate;b("VCKTemplatesGroupsUtils").isTemplateWithOverlappingTransitions(c)&&(d=b("VCKTemplatesGroupsUtils").getOutpointForFlexibleTemplateWithOverlappingTransitions(d,e));a.animation.outPoint=d;return a};e.exports=a}),null);
__d("ShowreelBespokeSpecificationBuilders",["buildAdsAnimatorTemplate","buildVCKProductShowcaseTemplate","buildVCKFlexibleTemplate","buildStorifyMusicGirlTemplate","buildVCEOverlayTemplate"],(function(a,b,c,d,e,f){"use strict";d={ads_animator:b("buildAdsAnimatorTemplate"),ads_animator_mvp_storyline:b("buildAdsAnimatorTemplate"),slideshow_example:a=b("buildVCKProductShowcaseTemplate"),vcc_product_showcase:a,vcc_single_product_6_s_1_x_1:a,vcc_single_product_6_s_9_x_16:a,vcc_template_2_brand_15_s_1_x_1:a,vcc_template_3_product_15_s_b_1_x_1:a,vcc_brand_15_s_1_x_1:a,vcc_brand_15_s_9_x_16:a,vcc_multiproduct_6_s_1_x_1:a,vcc_multiproduct_6_s_9_x_16:a,vcc_product_15_s_1_x_1:a,vcc_product_15_s_9_x_16:a,vck_holiday_benefits_15_s_1_x_1:a,vck_holiday_benefits_15_s_9_x_16:a,vck_holiday_multimessage_15_s_1_x_1:a,vck_holiday_multimsg_15_s_9_x_16:a,vck_holiday_product_6_s_1_x_1:a,vck_holiday_product_6_s_9_x_16:a,vck_holiday_splitscreen_15_s_1_x_1:a,vck_holiday_split_15_s_9_x_16:a,vck_single_image_6_s_1_x_1:a,vck_single_image_6_s_9_x_16:a,vck_blurry_bg_6_s_1_x_1:a,vck_blurry_bg_6_s_9_x_16:a,vck_neko_10_s_1_x_1:a,vck_ads_animator_1_x_1:a,vck_ads_animator_9_x_16:a,vck_ads_animator_kt_1_x_1:a,vck_aa_showreel_multiphoto_1_x_1:a,vck_aa_showreel_multiphoto_9_x_16:a,vck_single_image_sunglasses_1_x_1:a,vck_single_image_lucky_shrub_1_x_1:a,vck_paranoid_1_x_1:a,vck_music_girl_1_x_1:a,vck_zima_1_x_1:a,vck_fathers_day_1_x_1:a,vck_slideshow_10_scenes_1_x_1:c=b("buildVCKFlexibleTemplate"),vck_slideshow_10_scenes_9_x_16:c,vck_single_product_10_scenes_1_x_1:c,vck_single_product_10_scenes_9_x_16:c,vck_product_10_scenes_1_x_1:c,vcc_product_10_scenes_9_x_16:c,vck_holiday_product_10_scenes_1_x_1:c,vck_holiday_product_10_scenes_9_x_16:c,vck_holiday_benefits_10_scenes_1_x_1:c,vck_holiday_benefits_10_scenes_9_x_16:c,vcc_swipe_up_and_left_10_scenes_1_x_1:c,vcc_swipe_up_and_left_10_scenes_9_x_16:c,vck_slide_left_10_scenes_1_x_1:c,storify_portal_dummy:a,storify_toto:a,storify_holiday:a,storify_musicgirl:b("buildStorifyMusicGirlTemplate"),storify_one:a,storify_paranoid:a,storify_reptilia:a,storify_thriller:a,storify_uprising:a,storify_kashmir:a,storify_alive:a,storify_vogue:a,storify_waterfalls:a,storify_paparazzi:a,storify_footloose:a,vce_video_only:b("buildVCEOverlayTemplate")};e.exports=d}),null);
__d("ShowreelTypeValidators",["nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return Object.prototype.toString.call(a).slice(8,-1)};a=function(a){return{validate:function(b){return g(b)===a},getReason:function(b){return{message:"Expected %s to be a %s, but got %s",params:[b,a,g(b)]}}}};c=function(a){return{validate:function(b){return b>a},getReason:function(b){return{message:"Expected %s to be greater than %s",params:[b,a]}}}};d=function(a){return{validate:function(b){return b.length===a},getReason:function(b){return{message:"Expected %s to have length of %s, but got %s",params:[JSON.stringify(b),a,b.length]}}}};f=function(a){return{validate:function(b){return a.test(b)},getReason:function(b){return{message:"Expected %s to match RegExp %s",params:[b,a]}}}};var h=function(a){var b=a.from,c=a.to;return{validate:function(a){return a>=b&&a<=c},getReason:function(a){return{message:"Expected %s to be in the range [%s, %s]",params:[a,b,c]}}}},i=function(a){return{validate:function(b){return b.every(function(b){return a.validate(b)})},getReason:function(b){var c=b.find(function(b){return!a.validate(b)}),d=a.getReason(c);return{message:'Check on %s value failed at "%s": '+d.message,params:[JSON.stringify(b),c].concat(d.params)}}}},j={validate:function(a){return Array.isArray(a)},getReason:function(a){return{message:"Expected %s to be an Array",params:[a]}}},k=function(a){return{validate:function(b){return a.includes(b)},getReason:function(b){return{message:"Expected %s to be one of %s",params:[b,JSON.stringify(a)]}}}},l=/^#[0-9a-fA-F]{6}$/,m=function(a){return{validate:function(b){return a.every(function(a){a=a.validate;return a(b)})},getReason:function(c){var d=a.find(function(a){a=a.validate;return!a(c)});return b("nullthrows")(d).getReason(c)}}};e.exports={Number:a("Number"),String:a("String"),Array:j,Asset:a("String"),RGBAColour:m([j,d(4),i(h({from:0,to:1}))]),RGBColour:m([j,d(3),i(h({from:0,to:1}))]),HexColour:m([a("String"),f(l)]),Opacity:m([a("Number"),h({from:0,to:100})]),FontSize:m([a("Number"),c(0)]),CropType:m([a("String"),k(["center","fit"])]),Object:a("Object"),Boolean:a("Boolean"),KineticStyle:m([a("String"),k(["wordByWord","letterByLetter","lineByLine","outline","lineZoom","lineSlide"])])}}),null);
__d("ShowreelContentValidation",["ShowreelTypeValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=[],e=[];a.forEach(function(a){__p&&__p();var f=a.id,g=a.type,h=a.defaultValue,i=!(f in c),j=!("defaultValue"in a),k=!(g==null)&&!b("ShowreelTypeValidators")[g];if(g==null)return;if(i&&j){d.push({message:'Content is missing "%s" which has no default value. Will use value specified in animation',params:[a.id]});return}if(k){e.push({message:'Validation failed: Unknown type "%s"',params:[a.type]});return}j=i?h:c[f];k=b("ShowreelTypeValidators")[g];a=k.validate;i=k.getReason;if(!a(j)){h=i(j);k=h.message;a=h.params;e.push({message:"Validation failed: %s is not a valid %s: "+k,params:[f,g].concat(a)})}});return{failures:e,warnings:d}}e.exports={validateContent:a}}),null);
__d("ShowreelTypeUtils",[],(function(a,b,c,d,e,f){"use strict";e.exports={toSpecification:function(a){return a},toPatches:function(a){return a}}}),null);
__d("ShowreelPatchUtils",["invariant","ShowreelGraphicsUtils","ShowreelTypeUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelGraphicsUtils").hexToRgb,i=b("ShowreelTypeUtils").toPatches;e.exports={applyPatches:a};function a(a,b){__p&&__p();b=i((b=b==null?void 0:b._patches)!=null?b:[]);(b==null||!Array.isArray(b))&&(b=[]);b.forEach(function(b,c){switch(b.type){case"ImagePatch":j(b,a);break;case"AudioPatch":q(b,a,c);break;case"FillEffectPatch":m(b,a);break}})}function j(a,b){var c,d=a.url,e=a.width,f=a.height,g=a.position,h=a.name,i=b.animation,j=i.assets.length,m="image_"+j;c=(c=b.styles)!=null?c:[];i.assets.push(k(j,d,e,f));i.layers.unshift(l(h,m,e,f));b.styles=c.concat(o(h,{draggable:(j=a.interactive)!=null?j:!1,flex:{positionType:"absolute",position:[(g==null?void 0:g.y)||0,(g==null?void 0:g.x)||0,0,0]}}));p(h,b);return h}function k(a,b,c,d){return{url:b,width:c,height:d,_type:"ImageSource",id:"image_"+a,path:"images/",name:"img_"+a+".png",originalWidth:c,originalHeight:d}}function l(a,b,c,d){c=c/2;d=d/2;return{ddd:!1,index:1,name:a,referenceId:b,stretch:1,transform:{opacity:{animated:0,value:100,propertyIndex:11,_type:"ValueProperty"},rotation:{animated:0,value:0,propertyIndex:10,_type:"ValueProperty"},position:{animated:0,value:[0,0,0],propertyIndex:2,_type:"MultiDimensionalProperty"},anchorPoint:{animated:0,value:[c,d,0],propertyIndex:1,_type:"MultiDimensionalProperty"},scale:{animated:0,value:[100,100,100],propertyIndex:6,_type:"MultiDimensionalProperty"},_type:"TransformHelper"},effects:[],parent:0,autoOrient:!1,inPoint:0,outPoint:900,startTime:0,"class":"",type:2,layerHtmlId:"",hasMasks:0,blendMode:"normal",_type:"ImageLayer"}}function m(a,b){var c=a.colour,d=a.layerName;a=n(c);c=b.animation.layers.find(function(a){return a.name===d});c!=null||g(0,18291,d);Array.isArray(c.effects)||g(0,18292,c.name,typeof c.effects);c.effects.push(a)}function n(a){a=h(a);return{name:"Fill",np:9,matchName:"ADBE Fill",effectIndex:1,en:1,effects:[{name:"Color",matchName:"ADBE Fill-0002",effectIndex:0,value:{animated:0,value:[].concat(a,[1]),propertyIndex:3,_type:"MultiDimensionalProperty"},type:2,_type:"PointEffect"}],type:21,_type:"FillEffect"}}function o(a,b){return Object.assign({},{id:a},b)}function p(a,b){__p&&__p();var c,d=function(a){a=a.id;return a==="$animation"};c=(c=b.styles)!=null?c:[];d=c.find(d);if(!d){c.push({id:"$animation",flex:{children:[a]}});return}b.styles=c;d.flex=d.flex||{};d.flex.children=d.flex.children||[];d.flex.children.push(a)}function q(a,b,c){__p&&__p();var d=a.url,e=a.duration;a=babelHelpers["extends"]({start:0,volume:1},a.effect);b=b.animation;var f=b.assets.length;b.assets.forEach(function(b,a){b._type==="AudioSource"&&b.url===d&&(f=a)});var g="audio_"+f;c="$audio_"+g+"_"+c;f===b.assets.length&&b.assets.push(r(f,d,e));b.audioTracks===void 0&&(b.audioTracks=[]);b.audioTracks.push(s(c,g,a));return c}function r(a,b,c){return{url:b,_type:"AudioSource",id:"audio_"+a,name:"audio_"+a,duration:c}}function s(a,b,c){return babelHelpers["extends"]({name:a,referenceId:b,type:6,_type:"AudioLayer"},c)}}),null);
__d("ShowreelSpecificationBuilder",["invariant","ShowreelAnimationUtils","ShowreelBespokeSpecificationBuilders","ShowreelContentValidation","ShowreelGraphicsUtils","ShowreelLogger","ShowreelPatchUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ShowreelAnimationUtils").get,i=b("ShowreelAnimationUtils").getAssetForContent,j=b("ShowreelAnimationUtils").set,k=b("ShowreelContentValidation").validateContent,l=b("ShowreelGraphicsUtils").getColourType,m=b("ShowreelGraphicsUtils").transformColourTo,n=b("ShowreelPatchUtils").applyPatches,o=["padding","width","height","maxWidth","align","fontSize","textAlign","vAlign","textVAlign","characterLimit","textType","lineBreakStrategy","overflow","kineticTextStyles","background","flex","draggable","textTransform","fontStyle","fontWeight","underline","maxFontSize","minFontSize"];a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.build=function(a){__p&&__p();a===void 0&&(a=null);try{var c=t(this.$1),d=k(c.contentMap||[],a||{}),e=d.warnings;d=d.failures;e.forEach(function(a){var c=a.message;a=a.params;b("ShowreelLogger").warn.apply(b("ShowreelLogger"),[c].concat(a))});d.length>0&&d.forEach(function(a){var c=a.message;a=a.params;b("ShowreelLogger").warn.apply(b("ShowreelLogger"),[c].concat(a))});n(c,a||{});r(c,a||{});e=b("ShowreelBespokeSpecificationBuilders")[c.id];typeof e==="function"&&(c=e(c,a));(c.styles||[]).forEach(function(a){p(c.animation,a)});c.animation.name=c.id;return c.animation}catch(c){b("ShowreelLogger").error("Failed to build specification",a,c);throw c}};return a}();e.exports=a;function p(a,b,c){__p&&__p();c===void 0&&(c=null);var d=b.id==="$animation"?a:a.layers.find(function(a){return a.name===b.id});if(!d)return;var e=b.child,f={_type:"LayoutHelper"};o.forEach(function(a){a in b&&(f[a]=b[a])});c&&(f.parent=c.id);e&&(f.child=e.id);d.layout=f;e&&p(a,e,b)}var q=/^animation.assets\.\@id=([^.]+)$/;function r(a,b){__p&&__p();var c=a.contentMap||[];c.forEach(function(c){__p&&__p();c.paths.forEach(function(d){__p&&__p();var e=q.exec(d),f;if(Object.prototype.hasOwnProperty.call(b,c.id))f=b[c.id];else if(Object.prototype.hasOwnProperty.call(c,"defaultValue"))f=c.defaultValue;else return;e&&(f=i(e[1],f,a.animation));c.type==="Number"&&typeof f==="string"&&(f=parseFloat(f));(c.type==="HexColour"||c.type==="RGBColour"||c.type==="RGBAColour")&&(f=s(a,f,d));j(a,d,f)})})}function s(a,b,c){a=h(a,c);var d=l(a);d!=null||g(0,2572,a,c);return m(b,d)}function t(a){return JSON.parse(JSON.stringify(a))}}),null);
__d("ShowreelStaticRenderer",["Promise","DOM","ShowreelFrameRenderer","nullthrows","promiseDone","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=50,h=function(){var a=0;return function(c){a===0?b("promiseDone")(c(),function(){return a--}):b("requestIdleCallback")(function(){b("promiseDone")(c(),function(){return a--})},{timeout:(a+1)*g}),a++}}();e.exports=function(){__p&&__p();function a(a){this.$1=a,this.$2=new(b("ShowreelFrameRenderer"))(a.animation,a.assets,1,!1),this.$3=document.createElement("img"),this.$4()}var c=a.prototype;c.update=function(a){this.$1=a,this.$4()};c.$4=function(){__p&&__p();var a=this,c=this.$1,d=c.container,e=c.frameNumber,f=c.renderer,g=c.width,i=c.height,j=c.onReady;if(d==null)return;d.firstChild==null&&d.appendChild(this.$3);var k=((c=g)!=null?c:f.width)+"px",l=((g=i)!=null?g:f.height)+"px";this.$3.style.width=k;this.$3.style.height=l;h(function(){__p&&__p();return new(b("Promise"))(function(c){__p&&__p();var g;a.$2.render((g=e)!=null?g:0);f.render(a.$2.root);g=b("nullthrows")(f.extract).canvas();g.style.width=k;g.style.height=l;a.$5(d,g);j!=null&&j();g.toBlob(function(b){a.$3.onload=function(){a.$3.src&&(a.$5(d,a.$3),URL.revokeObjectURL(a.$3.src)),c()},a.$3.src=URL.createObjectURL(b)})})})};c.$5=function(a,c){a!=null&&c!=null&&(b("DOM").setContent(a,""),a.appendChild(c))};return a}()}),null);
__d("ShowreelVideoPlayerEventVariables",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={ENVIRONMENT:null,EVERSTORE_HANDLE:null}}var b=a.prototype;b.setEnvironment=function(a){this.$1.ENVIRONMENT=a};b.getEnvironment=function(){return this.$1.ENVIRONMENT};b.setEverstoreHandle=function(a){this.$1.EVERSTORE_HANDLE=a};b.getEverstoreHandle=function(){return this.$1.EVERSTORE_HANDLE};return a}();e.exports=new a()}),null);
__d("ShowreelVideoPlayerEventLogger",["ShowreelVideoPlayerEventVariables","UserAgentData","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("UserAgentData").browserFullVersion,i=b("UserAgentData").browserName,j=b("UserAgentData").platformName;a=function(){__p&&__p();function a(a){this.$4=[];this.$5=[];var c=a.eventHandler,d=a.templateID,e=a.clientID,f=a.sessionID,g=a.frameRate;a=a.playbackMode;this.$2=c||b("emptyFunction");this.$1={client_id:e,player_session_id:f,player_browser_os:j,player_browser_name:i,player_browser_version:h,playback_mode:a,template_id:d,frame_rate:g}}var c=a.prototype;c.setFrameRate=function(a){a!=null?this.$1.frame_rate=a:delete this.$1.frame_rate};c.setTemplateID=function(a){a!=null?this.$1.template_id=a:delete this.$1.template_id};c.setClientID=function(a){a!=null?this.$1.client_id=a:delete this.$1.client_id};c.created=function(){this.$6({event:"player_created"})};c.createRendererStart=function(){this.$3=(g||(g=b("performanceAbsoluteNow")))()};c.ready=function(){var a=this.$3;a=a!=null?(g||(g=b("performanceAbsoluteNow")))()-a:null;this.$6({event:"player_ready",time_to_ready:a})};c.started=function(a){this.$6({event:"player_started",frame_number:a}),this.$7()};c.stopped=function(a){var b=this.$4,c=this.$5;b=b.concat(c);var d=function(a,b){return a+b};this.$6({event:"player_stopped",frame_number:a,number_of_played_frames:b.length,number_of_long_frames:c.length,time_on_played_frames:b.reduce(d,0),time_on_long_frames:c.reduce(d,0)});this.$7()};c.frameRendered=function(a,b){a>b?this.$5.push(a):this.$4.push(a)};c["catch"]=function(a){var b=a.name,c=a.message;a=a.stack;this.$6({event:"player_error",error_name:b,error_message:c,error_stack:a})};c.$7=function(){this.$4=[],this.$5=[]};c.$8=function(){var a=b("ShowreelVideoPlayerEventVariables").getEverstoreHandle(),c=b("ShowreelVideoPlayerEventVariables").getEnvironment();return{player_everstore_handle:a,environment:c||"www",browser_timestamp:(g||(g=b("performanceAbsoluteNow")))(),pixel_ratio:window.devicePixelRatio}};c.$6=function(a){a=Object.assign({},a,this.$1,this.$8());this.$2(JSON.stringify(a))};return a}();e.exports=a}),null);
__d("ShowreelVideoPlayerController",["regeneratorRuntime","Promise","CancelablePromise","EventEmitter","ShowreelContentLoader","ShowreelRenderer","ShowreelSpecificationBuilder","ShowreelStaticRenderer","ShowreelVideoPlayerEventLogger","nullthrows","promiseDone","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();function a(a){this.$1=new(b("EventEmitter"))(),a&&this.setConfig(a)}var c=a.prototype;c.dispose=function(){this.$1.removeAllListeners()};c.onFrameNumberChanged=function(a){this.$1.addListener("frame_number_changed",a);return this};c.onPause=function(a){this.$1.addListener("pause",a);return this};c.onPlay=function(a){this.$1.addListener("play",a);return this};c.setFrameNumber=function(a){this.$1.emit("frame_number_changed",a);return this};c.pause=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.waitForRenderer());case 2:a=c.sent;a.setIsPlaying(!1);this.$1.emit("pause");return c.abrupt("return",this);case 6:case"end":return c.stop()}},null,this)};c.play=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.waitForRenderer());case 2:a=c.sent;a.setIsPlaying(!0);this.$1.emit("play");return c.abrupt("return",this);case 6:case"end":return c.stop()}},null,this)};c.onStateChanged=function(a){return this.$1.addListener("state_changed",a)};c.onStartFrameRender=function(a){return this.$1.addListener("start_frame_render",a)};c.onFinishFrameRender=function(a){return this.$1.addListener("finish_frame_render",a)};c.onRepeatCountChanged=function(a){return this.$1.addListener("repeat_count_changed",a)};c.onReady=function(a){return this.$1.addListener("ready",a)};c.onError=function(a){return this.$1.addListener("renderer_create_failed",a)};c.onRendererCreated=function(a){return this.$1.addListener("renderer_ready",a)};c.onStaticRendererCreated=function(a){return this.$1.addListener("static_renderer_ready",a)};c.waitForRenderer=function(){var a=this,c=this.getRenderer();return c!=null?b("Promise").resolve(c):new(b("Promise"))(function(b,c){var d=a.$1.addListener("renderer_ready",function(a){d.remove(),b(a)})})};c.setInViewPort=function(a){b("promiseDone")(this.waitForRenderer(),function(b){b.setInViewPort(a)})};c.getRenderer=function(){return this.$2||null};c.waitForStaticRenderer=function(){var a=this,c=this.getStaticRenderer();return c!=null?b("Promise").resolve(c):new(b("Promise"))(function(b,c){var d=a.$1.addListener("static_renderer_ready",function(a){d.remove(),b(a)})})};c.getStaticRenderer=function(){return this.$8||null};c.$9=function(a){this.$2=a,this.$1.emit("renderer_ready",a)};c.$10=function(a){__p&&__p();var c=this.$7;if(c==null){var d=a.onLogEvent,e=a.specification,f=a.clientID,g=a.playbackMode,h=e==null?void 0:e.id;e=e==null?void 0:(e=e.animation)==null?void 0:e.frameRate;c=new(b("ShowreelVideoPlayerEventLogger"))({sessionID:b("uuid")(),clientID:f,templateID:h,frameRate:e,eventHandler:d,playbackMode:(f=g)!=null?f:"animation"});this.$11(c);c.created();this.$7=c}else{c.setTemplateID((e=a==null?void 0:(h=a.specification)==null?void 0:h.id)!=null?e:null);c.setClientID((d=a==null?void 0:a.clientID)!=null?d:null)}return c};c.setConfig=function(a){__p&&__p();var c,d,e,f,g,h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:c=this.getRenderer();d=this.$6||{};e=a.specification,f=a.repeatCount,g=a.isPlaying;h=this.$10(a);this.$6=a;i.prev=5;c&&(f!=null&&f!==c.getRepeatCount()&&c.setRepeatCount(f),g!=null&&g!==c.isPlaying()&&c.setIsPlaying(g));if(!(d.specification!==e)){i.next=12;break}i.next=10;return b("regeneratorRuntime").awrap(this.$12(a));case 10:i.next=14;break;case 12:i.next=14;return b("regeneratorRuntime").awrap(this.$13(d,a));case 14:i.next=19;break;case 16:i.prev=16,i.t0=i["catch"](5),h["catch"](i.t0);case 19:case"end":return i.stop()}},null,this,[[5,16]])};c.$12=function(a){__p&&__p();var c=this;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:this.$3!=null&&this.$3.cancel(),this.$7&&this.$7.createRendererStart(),this.$3=new(b("CancelablePromise"))(new(b("Promise"))(function(d,e){__p&&__p();var f,g,h,i,j,k,l,m;return b("regeneratorRuntime").async(function(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:e=a.specification,g=a.content,h=a.resolveFonts;c.$2&&(c.$2.dispose(),c.$2=null);i=(f=a.contentLoader)!=null?f:new(b("ShowreelContentLoader"))(h,e);j=new(b("ShowreelSpecificationBuilder"))(e);k=j.build(g);n.next=7;return b("regeneratorRuntime").awrap(i.load(g,k));case 7:l=n.sent,m=l.assets,d({animation:k,assets:m,builder:j,config:a,contentLoader:i});case 10:case"end":return n.stop()}},null,this)})),this.$3.getPromise().then(function(b){var d=b.animation,e=b.assets,f=b.builder,a=b.config;b=b.contentLoader;var g=a.playbackMode;g==="static"?(c.$14(d,e,a),c.$5=b,c.$4=f):(c.$15(d,e,a),c.$5=b,c.$4=f,c.$1.emit("ready",!0))})["catch"](function(a){if(a.isCanceled!==!0){var b=c.$7;c.$1.emit("ready",!1);c.$1.emit("renderer_create_failed",a);b!=null&&b["catch"](a)}});case 4:case"end":return d.stop()}},null,this)};c.$14=function(a,c,d){var e=this;a={frameNumber:d.frameNumber,renderer:b("nullthrows")(d.sharedRenderer,"Shared renderer required with static playback"),animation:a,assets:c,width:d.width,height:d.height,container:d.container,onReady:function(){e.$1.emit("ready",!0)}};c=this.$8;c!=null?c.update(a):(c=new(b("ShowreelStaticRenderer"))(a),this.$8=c,this.$1.emit("static_renderer_ready",c))};c.$15=function(a,c,d){__p&&__p();var e=this;a=new(b("ShowreelRenderer"))({animation:a,assets:c,inViewPort:d.inViewPort,isPlaying:d.isPlaying,frameNumber:d.frameNumber,repeatCount:d.repeatCount,height:d.height,width:d.width,target:d.target,scale:d.scale,container:d.container,initialFrameNumber:d.frameNumber,useCanvasScaling:d.useCanvasScaling,useFontScaling:d.useFontScaling,continuousRender:d.continuousRender,clientID:d.clientID,onStateChanged:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["state_changed"].concat(c))},onStartFrameRender:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["start_frame_render"].concat(c))},onFinishFrameRender:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["finish_frame_render"].concat(c))},onRepeatCountChanged:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["repeat_count_changed"].concat(c))}});this.$9(a)};c.$13=function(a,c){__p&&__p();var d=this,e,f,g,h,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:if(!(c.playbackMode==="static")){j.next=4;break}j.next=3;return b("regeneratorRuntime").awrap(this.$16(a,c));case 3:return j.abrupt("return",j.sent);case 4:e=this.getRenderer();f=c.content,g=c.frameNumber,h=c.container;i=function(e){__p&&__p();var i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:o.prev=0;g!==e.getCurrentFrameNumber()&&e.setCurrentFrameNumber(g||0);e.setContainer(h);if(!d.$17(a,c)){o.next=11;break}j=b("nullthrows")(d.$4).build(f);k=(i=c.contentLoader)!=null?i:b("nullthrows")(d.$5);o.next=8;return b("regeneratorRuntime").awrap(k.load(f,j));case 8:l=o.sent,m=l.assets,e.setAnimation(j,m);case 11:o.next=17;break;case 13:o.prev=13,o.t0=o["catch"](0),n=d.$7,n!=null&&n["catch"](o.t0);case 17:case"end":return o.stop()}},null,this,[[0,13]])};if(!e){j.next=12;break}j.next=10;return b("regeneratorRuntime").awrap(i(e));case 10:j.next=14;break;case 12:j.next=14;return b("regeneratorRuntime").awrap(this.waitForRenderer().then(i));case 14:case"end":return j.stop()}},null,this)};c.$17=function(a,b){return a.content!==b.content||a.width!==b.width||a.height!==b.height};c.$16=function(a,c){__p&&__p();var d,e,f,g,h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:if(this.$17(a,c)){i.next=2;break}return i.abrupt("return");case 2:i.next=4;return b("regeneratorRuntime").awrap(this.waitForStaticRenderer());case 4:e=b("nullthrows")(this.$4).build(c.content);f=(d=c.contentLoader)!=null?d:b("nullthrows")(this.$5);i.next=8;return b("regeneratorRuntime").awrap(f.load(c.content,e));case 8:g=i.sent,h=g.assets,this.$14(e,h,c);case 11:case"end":return i.stop()}},null,this)};c.$11=function(a){__p&&__p();var b=this;this.onStateChanged(function(c){__p&&__p();var d=b.getRenderer();if(d!=null)d=d.getCurrentFrameNumber();else{var e;d=((e=b.$6)==null?void 0:e.frameNumber)||0}switch(c){case"playing":a.started(d);break;case"paused":a.stopped(d);break}});this.onRendererCreated(function(){a.ready()});this.onStaticRendererCreated(function(){a.ready()});this.onFinishFrameRender(function(b,c,d){a.frameRendered(c,d)})};return a}()}),null);
__d("ShowreelVideoPlayer.react",["React","ShimButton.react","ShowreelIntersectionObserver","ShowreelSharedRenderer.react","ShowreelVideoPlayerController","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.$3={};c.$5=!1;c.$6=!1;c.state={isBusy:!0};c.$8=function(a){c.$2=a,c.props.isListItem||c.$10()};c.$1=b.controller;c.$6=!b.isListItem;return c}var d=c.prototype;d.render=function(){var a=this.props.visible;return b("React").jsxs("div",{style:{width:this.props.width,height:this.props.height},children:[this.state.isBusy&&this.props.busyIndicator,b("React").jsx(b("ShimButton.react"),{style:{display:a===!0?"block":"none",outline:0,lineHeight:0},onClick:this.props.onClick,onRef:this.$8})]})};d.componentWillUnmount=function(){var a=this;this.$4=!0;this.$7!=null&&this.$7.dispose();Object.keys(this.$3).forEach(function(b){return a.$9(b)});var b=this.$1;b&&b!==this.props.controller&&(b.pause(),b.dispose())};d.componentDidMount=function(){var a=this;this.props.isListItem&&(this.$7=new(b("ShowreelIntersectionObserver"))(this,function(c){c=c.some(b("intersectionObserverEntryIsIntersecting"));var d=a.$1;d!=null&&d.setInViewPort(c);c&&a.$5===!1&&(a.$5=!0,a.$10())}))};d.$10=function(){__p&&__p();var a=this,c,d=this.props,e=this.$2,f=!!this.$4,g=this.$1;d.controller!=null&&d.controller!==g&&(g=d.controller);var h=d.specification,i=d.content,j=d.contentLoader,k=d.renderTarget,l=d.isPlaying,m=d.frameNumber,n=d.repeatCount,o=d.height,p=d.width,q=d.scale,r=d.isListItem,s=d.useCanvasScaling,t=d.useFontScaling,u=d.debug,v=d.clientID,w=d.resolveFonts,x=d.onLogEvent;if(!h||!i||!k||f)return;f=(f=this.props.playbackMode)!=null?f:(f=this.context)==null?void 0:f.playbackMode;c=(c=this.props.renderer)!=null?c:(c=this.context)==null?void 0:c.renderer;h={container:e,specification:h,content:i,contentLoader:(e=j)!=null?e:null,target:k,isPlaying:l,inViewPort:!r,frameNumber:m,repeatCount:n,height:o,width:p,scale:q,useCanvasScaling:s,useFontScaling:t,continuousRender:!!u,playbackMode:f,sharedRenderer:c,clientID:v,resolveFonts:w,onLogEvent:x};g!=null?g.setConfig(h):g=new(b("ShowreelVideoPlayerController"))(h);g.onReady(function(b){return a.setState({isBusy:!b})});this.$11(d,g);this.$1=g};d.$11=function(a,b){this.$12("onReady",a.onReady,function(a){return b.onReady(a)}),this.$12("onError",a.onError,function(a){return b.onError(a)}),this.$12("onStateChanged",a.onStateChanged,function(a){return b.onStateChanged(a)}),this.$12("onStartFrameRender",a.onStartFrameRender,function(a){return b.onStartFrameRender(a)}),this.$12("onFinishFrameRender",a.onFinishFrameRender,function(a){return b.onFinishFrameRender(a)}),this.$12("onRepeatCountChanged",a.onRepeatCountChanged,function(a){return b.onRepeatCountChanged(a)}),this.$12("onRendererCreated",a.onRendererCreated,function(a){return b.onRendererCreated(a)})};d.$12=function(a,b,c){var d=this.$3[a];d=b!==(d==null?void 0:d.listener);d&&(this.$9(a),b!=null&&(this.$3[a]=c(b)))};d.$9=function(a){var b=this.$3[a];b!=null&&(b.remove(),delete this.$3[a])};d.componentDidUpdate=function(){(!this.props.isListItem||this.$5)&&this.$10()};return c}(b("React").Component);a.contextType=b("ShowreelSharedRenderer.react").Context;a.defaultProps={frameNumber:0,isPlaying:!1,scale:1,visible:!0,debug:!1,renderTarget:"webgl",isListItem:!1,onReady:function(){}};e.exports=a}),null);
__d("AdsCanvasPreviewTemplateVideoPlayer.react",["invariant","React","ShowreelSpecificationLoader.react","ShowreelVideoPlayer.react","resolveShowreelFonts"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){if(a.specification==null||a.content.isLoading())return null;if(a.content.isEmpty()||!a.content.hasValue())return null;a.specification||g(0,4197);var c=a.specification.animation,d=a.width/c.width,e=c.width*d;c=c.height*d;return b("React").jsx(b("ShowreelVideoPlayer.react"),{content:a.content.getValueEnforcing(),frameNumber:a.frameNumber,height:c,isPlaying:a.isPlaying,resolveFonts:b("resolveShowreelFonts"),scale:d,specification:a.specification,visible:a.playerIsReady,width:e,onFinishFrameRender:a.onFinishFrameRender,onReady:a.onReady})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={frameNumber:0,playerIsReady:!1},d.$1=function(a){if(a.error)return null;var c=a.loading||d.props.content.isLoading()||!d.state.playerIsReady;c=c?d.props.renderWhileLoading:d.props.renderWhenLoaded;return b("React").jsxs("div",{children:[c,b("React").jsx(h,{content:d.props.content,frameNumber:d.state.frameNumber,isPlaying:d.props.isPlaying,playerIsReady:d.state.playerIsReady,specification:a.specification,width:d.props.width,onFinishFrameRender:d.$2,onReady:d.$3})]})},d.$2=function(a){d.state.frameNumber!==a&&d.setState({frameNumber:a,playerIsReady:!0})},d.$3=function(a){d.setState({playerIsReady:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a,b){if(!this.props.isPlaying)return;this.props.content.getValue()!==a.content.getValue()&&this.setState({playerIsReady:!1})};d.render=function(){return b("React").jsx(b("ShowreelSpecificationLoader.react"),{render:this.$1,templateID:this.props.showreelVideoTemplateID})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsCanvasPreviewTemplateVideoElement.react",["cx","fbt","AdsCanvasPreviewTemplateVideoPlayer.react","FDSSpinner.react","FDSText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return b("React").jsx("div",{className:"_6jg_",style:{height:a.height,width:a.width},children:b("React").jsx(b("FDSSpinner.react"),{shade:"light",title:h._("Creating Video Preview...")})})}function j(){return b("React").jsx("div",{className:"_6jh0",children:b("React").jsx(b("FDSText.react"),{color:"primary",palette:"dark",size:"body1",children:h._("Select a product set to see a preview of your dynamic video.")})})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_6jh1",children:b("React").jsx(b("AdsCanvasPreviewTemplateVideoPlayer.react"),{content:this.props.content,isPlaying:!0,renderWhenLoaded:this.props.showHint?b("React").jsx(j,{}):null,renderWhileLoading:b("React").jsx(i,{height:this.props.width,width:this.props.width}),showreelVideoTemplateID:this.props.showreelVideoTemplateID,width:this.props.width})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewTemplateVideoElementPlaceholder.react",["cx","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").jsx("div",{className:"_6s_i",style:{height:a.width,width:a.width},children:b("React").jsx(b("Image.react"),{src:h("23647")})})}e.exports=a}),null);
__d("AdsCanvasPreviewTemplateVideoElementContainer.react",["AdsCanvasPreviewTemplateVideoElement.react","AdsCanvasPreviewTemplateVideoElementPlaceholder.react","AdsFluxContainer","AdsLoadObjectUtils","React","adsCanvasPreviewTemplateVideoElementSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewTemplateVideoElementSelector").getStores()};c.calculateState=function(a,c){return b("adsCanvasPreviewTemplateVideoElementSelector")(c.element)};var d=c.prototype;d.render=function(){if(b("AdsLoadObjectUtils").anyLoadingOrEmpty([this.state.errors]))return null;return!this.state.errors.getValueEnforcing().isEmpty()?b("React").jsx(b("AdsCanvasPreviewTemplateVideoElementPlaceholder.react"),{width:this.props.width}):b("React").jsx(b("AdsCanvasPreviewTemplateVideoElement.react"),{content:this.state.content,showHint:!this.props.element.productSetID,showreelVideoTemplateID:this.props.element.getShowreelVideoTemplateID(),width:this.props.width})};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsCanvasPreviewVideoElement.react",["cx","ix","AdsVideoPlayer.react","BackgroundImage.react","Image.react","React","RichMediaPreviewUtil"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.videoElement;if(a.video){var c=a.video,d=c.preferredThumbnail,e=0,f=0;a.layout=="fit_to_height"?(f=this.props.fullHeight,e=Math.round(c.width*this.props.fullHeight/c.height)):(e=this.props.width,f=Math.round(c.height*this.props.width/c.width));a=(this.props.width-e)/2;a={height:f,width:e,overflow:"hidden",position:"relative",left:a,padding:b("RichMediaPreviewUtil").formatPadding(this.props.videoElement.padding)};return b("React").jsx("div",{"data-index":this.props.index,"data-testid":"preview-video-component",style:a,children:b("React").jsx(b("AdsVideoPlayer.react"),{autoPlay:!0,hideCloseButton:!0,loop:!0,muted:!0,playerHeight:f,playerWidth:e,ref:"videoPlayer",showControls:!1,videoID:c.id,children:b("React").jsx(b("BackgroundImage.react"),{backgroundSize:"contain","data-testid":"preview-video-thumbnail",height:f,src:d?d.uri:null,width:e})})})}return b("React").jsx("div",{children:b("React").jsx("div",{className:"_49qc",style:{height:this.props.width,width:this.props.width},children:b("React").jsx(b("Image.react"),{src:h("23647")})})})};return c}(b("React").Component);e.exports=a}),null);
__d("RichMediaPreviewButton.react",["cx","ix","Image.react","React","RichMediaElementTypeConstant","RichMediaElementUtil","colr"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RichMediaElementTypeConstant").RichMediaElementTypes;function a(a){var c=a.documentElements,d;a.instagramPreview===!0?d=h("306034"):d=j(a)>.5?h("23595"):h("23594");a=b("React").jsx("div",{className:(a.instagramPreview?"":"_2vyb")+(a.instagramPreview?" _5_kv":""),children:b("React").jsx(b("Image.react"),{src:d})});return Array.isArray(c)&&c.some(function(a){return a.type===8})||c.some(function(a){return a.elementType===i.VIDEO})?a:null}function c(a){var c;a.instagramPreview===!0?c=h("306031"):c=j(a)>.5?h("23597"):h("23596");return b("React").jsx("div",{className:(a.instagramPreview?"":"_51ll")+(a.instagramPreview?" _5_kw":""),children:b("React").jsx(b("Image.react"),{src:c})})}function j(a){var c=a.documentElements,d=null;Array.isArray(c)?d=b("RichMediaElementUtil").getHeaderElement(c):c.count()>0&&(d=c.first().getElementType()===i.HEADER?c.first():null);c=d?d.backgroundColor:a.documentTheme.substr(2);a=d?1-b("colr").fromHex(c).toGrayscale()/255:b("colr").fromHex(c).toGrayscale()/255;return a}e.exports={AudioButton:a,BackButton:c}}),null);
__d("AdsCanvasPreviewDynamicPhotoElementContainer.react",["cx","AdsCanvasPreviewDynamicPhotoElementKeyRecord","FDSSpinner.react","FluxContainer","Image.react","React","RichMediaPreviewUtil","adsCanvasBuilderPreviewDynamicPhotoElementSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasBuilderPreviewDynamicPhotoElementSelector").getStores()};c.calculateState=function(a,c){return b("adsCanvasBuilderPreviewDynamicPhotoElementSelector")(new(b("AdsCanvasPreviewDynamicPhotoElementKeyRecord"))({destinationSetID:c.dynamicPhotoElement.setID,productSetID:(a=c.productSetElement)==null?void 0:a.setID,retailerItemIDs:(a=c.productSetElement)==null?void 0:a.retailerItemIDs,limit:(a=c.productSetElement)==null?void 0:a.limit}))};var d=c.prototype;d.render=function(){__p&&__p();var a=this.state.previewDynamicPhotoElementLoadObject;if(a.isLoading()||!a.hasValue())return b("React").jsx(b("FDSSpinner.react"),{});var c=null,d=0,e=0;a=a.getValue();var f=this.props.dynamicPhotoElement.photo;!this.props.isInstagramPreview&&a?(c=a.source,e=a.width,d=a.height):f&&(c=f.src,e=f.width,d=f.height);if(c!=null){a=0;f=0;this.props.dynamicPhotoElement.layout=="fit_to_height"?(a=this.props.fullHeight,f=e*this.props.fullHeight/d):(f=this.props.width,a=d*this.props.width/e);d=f>this.props.width?this.props.width:f;e=(d-f)/2;d={height:a,width:d,overflow:"hidden",padding:b("RichMediaPreviewUtil").formatPadding(this.props.dynamicPhotoElement.padding),position:"relative"};e={position:"relative",left:e};return b("React").jsx("div",{"data-index":this.props.index,"data-testid":"preview-dynamic-photo-component",style:d,children:b("React").jsx("div",{style:{height:a,width:f,position:"relative"},children:b("React").jsx(b("Image.react"),{"data-testid":"preview-photo-image",height:a,src:c,style:e,width:f})})})}return b("React").jsx("div",{className:"_49qc",style:{height:this.props.width,width:this.props.width},children:b("React").jsx(b("Image.react"),{src:"/images/ads/rich_media/photo_placeholder.png"})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("AdsCanvasPreviewNavigationTabElement.react",["cx","React","SUIText.react","ge","getByPath","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=500,i=10,j=8,k=8,l="navigation_container_id",m="navigation_element_";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dragging:!1,leftOffset:j,preventOnSelectTab:!1,swipeOffset:0,touchObject:null},d.$3=function(a){a=d.$7(a);var b=a.x;a=a.y;d.setState({dragging:!0,preventOnSelectTab:!1,touchObject:{startX:b,startY:a,curX:b,curY:a}})},d.$5=function(a){__p&&__p();if(!d.state.dragging||!d.state.touchObject)return;var c=d.$7(a),e=c.x;c=c.y;var f=b("nullthrows")(d.state.touchObject);f.curX=e;f.curY=c;e=d.state.preventOnSelectTab;d.setState({preventOnSelectTab:e||Math.abs(f.curX-f.startX)>i,touchObject:f,swipeOffset:f.curX-f.startX});a.preventDefault()},d.$4=function(a){if(!d.state.dragging||!d.state.touchObject)return;a=d.state;var b=a.leftOffset;a=a.touchObject;a=a.curX-a.startX;d.setState({dragging:!1,leftOffset:d.$2(b,a),swipeOffset:0,touchObject:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){a.selectedIndex!==this.props.selectedIndex&&this.$1(this.props.selectedIndex)};d.render=function(){var a=this,c=this.$2(this.state.leftOffset,this.state.swipeOffset);return b("React").jsx("div",{className:"_1pcd",style:{width:this.props.width},onMouseDown:this.$3,onMouseLeave:this.state.dragging?this.$4:null,onMouseMove:this.state.dragging?this.$5:null,onMouseUp:this.$4,children:b("React").jsx("div",{className:"_nqw",id:l,style:{WebkitTransform:"translate3d("+c+"px, 0px, 0px)",transform:"translate3d("+c+"px, 0px, 0px)",msTransform:"translateX("+c+"px)",WebkitTransition:this.state.dragging?null:"-webkit-transform "+h+"ms ease",transition:this.state.dragging?null:"transform "+h+"ms ease"},children:this.props.tabNames.map(function(c,d){var e=d===a.props.selectedIndex;return b("React").jsx("div",{className:"_1pce",id:m+d,role:"menuitem",tabIndex:0,onClick:function(){return a.$6(d)},children:b("React").jsx(b("SUIText.react"),{color:e?"primary":"secondary",display:"block",size:"body1",weight:e?"bold":"normal",children:b("React").jsx("div",{className:"_1pcj"+(e?" _1pcl":""),children:c})})},d)}).toArray()})})};d.$7=function(a){var c=b("getByPath")(a,["touches","0","pageX"]);c==null&&(c=a.clientX);var d=b("getByPath")(a,["touches","0","pageY"]);d==null&&(d=a.clientY);return{x:c,y:d}};d.$2=function(a,c){var d=b("ge")(l);d=d&&d.scrollWidth>this.props.width?-1*(d.scrollWidth-this.props.width)-k:k;return Math.max(Math.min(j,a+c),d)};d.$6=function(a){if(a===this.props.selectedIndex||this.state.preventOnSelectTab)return;this.props.onChange(a)};d.$1=function(a){var c=b("ge")(m+a);if(!c)return;a=a===this.props.tabNames.count()-1?this.$2(-1*(c.offsetLeft+c.scrollWidth+k),0):this.$2(-1*c.offsetLeft,0);this.setState({leftOffset:a})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewDynamicNavigationTabElementContainer.react",["cx","AdsCanvasDynamicPreviewSelectBundleIndexAction","AdsCanvasPreviewNavigationTabElement.react","AdsFluxContainer","FDSSpinner.react","React","adsCanvasPreviewDynamicNavigationTabElementSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewDynamicNavigationTabElementSelector").getStores()};c.calculateState=function(){return b("adsCanvasPreviewDynamicNavigationTabElementSelector")()};var d=c.prototype;d.render=function(){return!this.state.isReady?b("React").jsx("div",{className:"_6qy-",children:b("React").jsx(b("FDSSpinner.react"),{})}):b("React").jsx(b("AdsCanvasPreviewNavigationTabElement.react"),{selectedIndex:this.state.selectedIndex,tabNames:this.state.tabNames,width:this.props.width,onChange:this.$1})};d.$1=function(a){b("AdsCanvasDynamicPreviewSelectBundleIndexAction").dispatch({index:a},{line:"70",module:"AdsCanvasPreviewDynamicNavigationTabElementContainer.react.js"})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("AdsCanvasPreviewManualNavigationTabElementContainer.react",["AdsCanvasPreviewNavigationTabElement.react","AdsCanvasSelectCanvasAction","AdsFluxContainer","React","adsCanvasPreviewManualNavigationTabElementSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(d.state.disabled)return;b("AdsCanvasSelectCanvasAction").dispatch({index:a},{line:"60",module:"AdsCanvasPreviewManualNavigationTabElementContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("adsCanvasPreviewManualNavigationTabElementSelector").getStores()};c.calculateState=function(){return b("adsCanvasPreviewManualNavigationTabElementSelector")()};var d=c.prototype;d.render=function(){return b("React").jsx(b("AdsCanvasPreviewNavigationTabElement.react"),{selectedIndex:this.state.selectedIndex,tabNames:this.state.tabNames,width:this.props.width,onChange:this.$1})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("AdsCanvasPreviewNavigationTabElementContainer.react",["AdsCanvasPreviewDynamicNavigationTabElementContainer.react","AdsCanvasPreviewManualNavigationTabElementContainer.react","AdsFluxContainer","React","adsCanvasPreviewNavigationTabElementSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewNavigationTabElementSelector").getStores()};c.calculateState=function(){return b("adsCanvasPreviewNavigationTabElementSelector")()};var d=c.prototype;d.render=function(){if(!this.state.hasBundleFolderSet&&!this.state.isManualTabs)return null;return this.state.hasBundleFolderSet?b("React").jsx(b("AdsCanvasPreviewDynamicNavigationTabElementContainer.react"),{width:this.props.width}):b("React").jsx(b("AdsCanvasPreviewManualNavigationTabElementContainer.react"),{width:this.props.width})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("AdsCanvasPreviewUtil",["cx","fbt","AdsCanvasPreviewProductItemInfoRecord","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").List([new(a=b("AdsCanvasPreviewProductItemInfoRecord"))({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"1/5 Carat Diamond Stud Earrings in 14K Yellow Gold, Adult Unisex",itemDescription:"$86.99 long long long long long long long long long long description"}),new a({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"short name",itemDescription:"$44.99"}),new a({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"Salter Electronic Baby and Toddler Scale, White",itemDescription:"$52.49,$69.99"}),new a({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"short name",itemDescription:"$86.99 long long long long long long long long long long description"}),new a({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"1/5 Carat Diamond Stud Earrings in 14K Yellow Gold, Adult Unisex",itemDescription:"$86.99"}),new a({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"Oval Garnet Stud Earrings in 14K White Gold (8x6mm), Women",itemDescription:"$44.99"}),new a({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"Salter Electronic Baby and Toddler Scale, White",itemDescription:"$52.49,$69.99"})]);c={getExampleProductSetItems:function(a,c){var d=b("immutable").List();if(!a)if(c<=i.size)d=i.slice(0,c);else for(var a=0;a<c;a++)d=d.push(new(b("AdsCanvasPreviewProductItemInfoRecord"))({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"1/5 Carat Diamond Stud Earrings in 14K Yellow Gold, Adult Unisex",itemDescription:"$86.99 long long long long long long long long long long description"}));else for(var a=0;a<c;a++)d=d.push(new(b("AdsCanvasPreviewProductItemInfoRecord"))({itemImageURL:"/images/ads/common/place_holder_image_600x600.png",itemHeadline:"Headline",itemDescription:"$0.00"}));return d},getPreviewSectionItemDescription:function(a,c){if(a!=null&&c!=null&&c.includes("product.current_price")){c=a.split("|");var d,e;c.length===2?(d=c[0],e=c[1]):c.length===1?(d=c[0],e=null):(d=null,e=null);return b("React").jsxs("div",{children:[b("React").jsx("span",{className:"_6_zd",children:d}),b("React").jsx("span",{className:"_6_ze",children:e})]})}return b("React").jsx("div",{children:a})},getTextPromotionPlaceholder:function(){return h._("Include discount text here")}};e.exports=c}),null);
__d("AdsCanvasPreviewProductElementsCell.react",["cx","invariant","AdsCanvasPreviewUtil","Image.react","LineClamp.react","React","isFalsey","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("keyMirror")({TWO_COLUMNS_GRID:null,THREE_COLUMNS_GRID:null,CAROUSEL:null});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.itemDescriptionTemplate,d=a.productSetItem,e=a.sectionType;a=a.width;var f=d.get("itemImageURL");if(b("isFalsey")(f))return b("React").jsx("div",{});var g;switch(e){case i.THREE_COLUMNS_GRID:g="33%";break;case i.CAROUSEL:a!=null||h(0,12469);g=Math.floor((a-28)/2.45)+"px";break;case i.TWO_COLUMNS_GRID:default:g="49.5%";break}e=d.get("itemHeadline");a=b("AdsCanvasPreviewUtil").getPreviewSectionItemDescription(d.get("itemDescription"),c);return b("React").jsxs("div",{className:this.props.className,style:{width:g},children:[b("React").jsx(b("Image.react"),{draggable:!1,src:f,style:{width:"100%"}}),b("React").jsxs("div",{className:"_6_-i",children:[b("React").jsx(b("LineClamp.react"),{className:"_6_zb",fitHeightToShorterText:!0,lineHeight:14,lines:2,children:e}),b("React").jsx(b("LineClamp.react"),{className:"_6_zc",fitHeightToShorterText:!1,lineHeight:16,lines:2,children:a})]})]})};return c}(b("React").Component);a.SECTION_TYPE=i;e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsSectionTitle.react",["cx","fbt","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){return c.refs.sectionTitle},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{children:b("React").jsxs("div",{className:"_6_za",children:[b("React").jsx("span",{ref:"sectionTitle",children:this.props.title!=null?this.props.title:h._("Section Title")}),b("React").jsxs(b("XUIContextualDialog.react"),{contextRef:this.$1,hoverContextRef:this.$1,position:"right",width:b("XUIContextualDialog.react").WIDTH.WIDE,children:[b("React").jsx(b("XUIContextualDialogTitle.react"),{}),b("React").jsx(b("XUIContextualDialogBody.react"),{children:h._("People will see the sections most relevant to them.")})]})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsCarouselSection.react",["AdsCanvasPreviewCarouselSlider.react","AdsCanvasPreviewProductElementsCell.react","AdsCanvasPreviewProductElementsSectionTitle.react","React","cxMargin","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasPreviewProductElementsCell.react").SECTION_TYPE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{width:this.props.width,children:this.$1()})};d.$1=function(){var a=this.props,c=a.itemDescriptionTemplate,d=a.productSetItems,e=a.showSectionTitle;a=a.width;return!d||d.size===0?null:b("React").jsxs("div",{children:[e?b("React").jsx(b("AdsCanvasPreviewProductElementsSectionTitle.react"),{}):null,this.$2(c,d,a)]})};d.$2=function(a,c,d){var e=c.map(function(c,e){return b("React").jsx("div",{children:b("React").jsx(b("AdsCanvasPreviewProductElementsCell.react"),{itemDescriptionTemplate:a,itemIndex:e,productSetItem:c,sectionType:g.CAROUSEL,width:d})},e)});c=c.size;var f=Math.round((d-20)/2.45);return b("React").jsx("div",{className:"_3-9b",children:b("React").jsx(b("AdsCanvasPreviewCarouselSlider.react"),{carouselLength:c,currentItemIndex:0,hideIndicator:!0,leftOffsetInMiddle:16,slideHeight:230,slideWidth:f,children:e.toArray()})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsCategoryNavigationSection.react",["cx","fbt","AdsCanvasPreviewProductElementsSectionTitle.react","CssBackgroundImage.react","FDSText.react","LineClamp.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=Math.floor((a.width-4)/2)+"px";return b("React").jsxs("div",{children:[b("React").jsx(b("AdsCanvasPreviewProductElementsSectionTitle.react"),{title:h._("Shop by Category")}),b("React").jsx("div",{className:"_71k-",children:a.categories.map(function(a,d){var e;return(e=b("React")).jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",className:"_3-94",imageURI:a.img,style:{backgroundSize:"contain",height:c,width:c},children:e.jsx("div",{className:"_74e8",children:e.jsx(b("FDSText.react"),{color:"white",size:"body1",textAlign:"center",weight:"bold",width:"100%",children:e.jsx(b("LineClamp.react"),{fitHeightToShorterText:!0,lineHeight:20,lines:3,children:a.title})})})},d)})})]})}e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsCategoryNavigationSectionContainer.react",["AdsCanvasPreviewProductElementsCategoryNavigationSection.react","AdsFluxContainer","React","adsCanvasPreviewProductElementsCategoryNavigationSectionSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("adsCanvasPreviewProductElementsCategoryNavigationSectionSelector").getStores()};c.calculateState=function(a,c){return b("adsCanvasPreviewProductElementsCategoryNavigationSectionSelector")({productSetID:c.productSetID})};var d=c.prototype;d.render=function(){var a=this.state.defaultCategories;return!a.hasValue()?null:b("React").jsx(b("AdsCanvasPreviewProductElementsCategoryNavigationSection.react"),{categories:a.getValueEnforcing(),width:405})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsCanvasPreviewProductElementsCarouselProductCard.react",["cx","AdsCanvasPreviewUtil","Image.react","LineClamp.react","React","isFalsey"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,b=a.itemDescriptionTemplate,c=a.productSetItem;a=a.width;return this.$1(b,c,a)};d.$1=function(a,c,d){var e=c.get("itemImageURL");if(b("isFalsey")(e))return b("React").jsx("div",{});var f=Math.round(d*.8)+"px";d=Math.round(d*.8-125)+"px";var g=c.get("itemHeadline");c=b("AdsCanvasPreviewUtil").getPreviewSectionItemDescription(c.get("itemDescription"),a);return b("React").jsxs("div",{className:"_71m7",style:{width:f},children:[b("React").jsx(b("Image.react"),{draggable:!1,height:100,src:e,width:100}),b("React").jsx("div",{className:"_71ma",children:b("React").jsxs("div",{className:"_71mb",style:{width:d},children:[b("React").jsx(b("LineClamp.react"),{className:"_6_zb",fitHeightToShorterText:!0,lineHeight:14,lines:2,children:g}),b("React").jsx(b("LineClamp.react"),{className:"_6_zc",fitHeightToShorterText:!0,lineHeight:16,lines:2,children:c})]})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsGroupCarouselSection.react",["AdsCanvasPreviewCarouselSlider.react","AdsCanvasPreviewProductElementsCarouselProductCard.react","AdsCanvasPreviewProductElementsSectionTitle.react","Grid.react","React","cxMargin","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("Grid.react").GridItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{width:this.props.width,children:this.$1()})};d.$1=function(){var a=this.props,c=a.itemDescriptionTemplate,d=a.productSetItems,e=a.showSectionTitle;a=a.width;return!d||d.size===0?null:b("React").jsxs("div",{children:[e?b("React").jsx(b("AdsCanvasPreviewProductElementsSectionTitle.react"),{}):null,this.$2(c,d,a)]})};d.$2=function(a,c,d){var e=[],f=3;for(var g=0;g<c.size;g+=f)e.push(c.slice(g,g+f));g=e.map(function(c,e){c=c.map(function(c,e){return b("React").jsx("div",{className:"_3-94",children:b("React").jsx(b("AdsCanvasPreviewProductElementsCarouselProductCard.react"),{itemDescriptionTemplate:a,productSetItem:c,width:d})},e)});return b("React").jsx("div",{children:c},e)});f=Math.round(d*.8);return b("React").jsx("div",{className:"_3-9b",children:b("React").jsx(b("AdsCanvasPreviewCarouselSlider.react"),{carouselLength:g.length,currentItemIndex:0,hideIndicator:!0,leftOffsetInMiddle:16,slideHeight:315,slideWidth:f,children:g})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsPromotionSection.react",["cx","AdsCanvasPreviewUtil","AdsCanvasStorefrontPromotionTypes","CssBackgroundImage.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.productSetElement.storefrontSetting,c=a&&a.enableSections;if(!c)return null;c=a.promotionSectionSetting;if(!c)return null;a=c.get("enable");var d=c.get("promotionType"),e=c.get("title"),f=c.get("subTitle");c=c.get("photo");if(!a||!d)return null;switch(d){case b("AdsCanvasStorefrontPromotionTypes").TEXT:(e==null||e.length===0)&&(f==null||f.length===0)&&(e=b("AdsCanvasPreviewUtil").getTextPromotionPlaceholder());return b("React").jsx("div",{children:b("React").jsx("div",{className:"_73k9",children:b("React").jsxs("div",{className:"_73ka",children:[b("React").jsx(b("FDSText.react"),{display:"truncate",margin:"_3-95",size:"header1",textAlign:"center",weight:"bold",children:e}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"truncate",size:"body1",textAlign:"center",children:f})]})})});case b("AdsCanvasStorefrontPromotionTypes").IMAGE:if(c==null)return null;a=Math.floor(this.props.width/3);return b("React").jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:c.src,style:{backgroundSize:"cover",height:a}});default:return null}};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsThreeGridSection.react",["cx","AdsCanvasPreviewProductElementsCell.react","AdsCanvasPreviewProductElementsSectionTitle.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasPreviewProductElementsCell.react").SECTION_TYPE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.itemDescriptionTemplate,d=a.productSetItems;a=a.showSectionTitle;return!d||d.size===0?null:b("React").jsxs("div",{children:[a?b("React").jsx(b("AdsCanvasPreviewProductElementsSectionTitle.react"),{}):null,b("React").jsx("div",{className:"_71k-",children:d.map(function(a,d){return b("React").jsx(b("AdsCanvasPreviewProductElementsCell.react"),{itemDescriptionTemplate:c,itemIndex:d,productSetItem:a,sectionType:h.THREE_COLUMNS_GRID},d)})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsTwoGridSection.react",["cx","AdsCanvasPreviewProductElementsCell.react","AdsCanvasPreviewProductElementsSectionTitle.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasPreviewProductElementsCell.react").SECTION_TYPE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.itemDescriptionTemplate,d=a.productSetItems;a=a.showSectionTitle;return!d||d.size===0?null:b("React").jsxs("div",{children:[a?b("React").jsx(b("AdsCanvasPreviewProductElementsSectionTitle.react"),{}):null,b("React").jsx("div",{className:"_71k-",children:d.map(function(a,d){return b("React").jsx(b("AdsCanvasPreviewProductElementsCell.react"),{itemDescriptionTemplate:c,itemIndex:d,productSetItem:a,sectionType:h.TWO_COLUMNS_GRID},d)})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElements.react",["fbt","AdsCanvasPreviewProductElementsCarouselSection.react","AdsCanvasPreviewProductElementsCategoryNavigationSectionContainer.react","AdsCanvasPreviewProductElementsGroupCarouselSection.react","AdsCanvasPreviewProductElementsPromotionSection.react","AdsCanvasPreviewProductElementsThreeGridSection.react","AdsCanvasPreviewProductElementsTwoGridSection.react","React","RichMediaPreviewConstants","SUIBusinessTheme","SUINotice.react","cxMargin","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[[b("AdsCanvasPreviewProductElementsCarouselSection.react"),4],[b("AdsCanvasPreviewProductElementsTwoGridSection.react"),4],[b("AdsCanvasPreviewProductElementsGroupCarouselSection.react"),6],[b("AdsCanvasPreviewProductElementsTwoGridSection.react"),4],[b("AdsCanvasPreviewProductElementsThreeGridSection.react"),9],[b("AdsCanvasPreviewProductElementsTwoGridSection.react"),4]];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.productSetElement;a=a.productSetItems;var d=c.storefrontSetting&&c.storefrontSetting.enableSections,e=!!this.props.isInstagramPreview,f=c.setID,i=this.props.width;i=i%2===0?i:i-1;if(f===null||f===0)return b("React").jsx("div",{children:b("React").jsx(b("AdsCanvasPreviewProductElementsTwoGridSection.react"),{itemDescriptionTemplate:c.itemDescriptionTemplate,productSetItems:a,showSectionTitle:!1,width:i})});if(a.size===0)return b("React").jsx("div",{children:b("React").jsx(b("SUINotice.react"),{margin:"_3-8p",theme:b("SUIBusinessTheme"),type:"warning",children:g._("No items in the product set")})});if(!d||e)return b("React").jsx("div",{children:b("React").jsx(b("AdsCanvasPreviewProductElementsTwoGridSection.react"),{itemDescriptionTemplate:c.itemDescriptionTemplate,productSetItems:a,showSectionTitle:!1,width:i})});d=[];e=a;a=0;d.push(b("React").jsx("div",{id:b("RichMediaPreviewConstants").STOREFRONT_SECTION+a,children:b("React").jsx(b("AdsCanvasPreviewProductElementsTwoGridSection.react"),{itemDescriptionTemplate:c.itemDescriptionTemplate,productSetItems:e.take(4),showSectionTitle:!1,width:i})},a++));e=e.skip(4);d.push(b("React").jsx("div",{id:b("RichMediaPreviewConstants").STOREFRONT_PROMO_SECTION,children:b("React").jsx(b("AdsCanvasPreviewProductElementsPromotionSection.react"),{productSetElement:c,width:i})},b("RichMediaPreviewConstants").STOREFRONT_PROMO_SECTION));while(e.size>0)for(var j=0;j<h.length;j++){if(e.size<=0)break;var k=h[j],l=k[0];k=k[1];var m=k;e.size<=k+2&&(m=e.size);d.push(b("React").jsx("div",{id:b("RichMediaPreviewConstants").STOREFRONT_SECTION+a,children:b("React").jsx(l,{itemDescriptionTemplate:c.itemDescriptionTemplate,productSetItems:e.take(m),showSectionTitle:!0,width:i})},a++));e=e.skip(m)}((k=c.storefrontSetting)==null?void 0:k.enableCategorySection)&&d.push(b("React").jsx("div",{id:b("RichMediaPreviewConstants").STOREFRONT_CATEGORY_NAV_SECTION,children:b("React").jsx(b("AdsCanvasPreviewProductElementsCategoryNavigationSectionContainer.react"),{productSetID:f,width:i})},b("RichMediaPreviewConstants").STOREFRONT_CATEGORY_NAV_SECTION));return b("React").jsx("div",{children:d})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasPreviewProductElementsContainer.react",["AdsCanvasPreviewProductElements.react","AdsCanvasPreviewProductElementsKeyRecord","FDSSpinner.react","FluxContainer","React","RichMediaPreviewUtil","adsCanvasBuilderPreviewProductElementsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[].concat(b("adsCanvasBuilderPreviewProductElementsSelector").getStores())};c.calculateState=function(a,c){a=new(b("AdsCanvasPreviewProductElementsKeyRecord"))({productSetID:c.productSetElement.setID,retailerItemIDs:c.productSetElement.retailerItemIDs,itemDescriptionTemplate:c.productSetElement.itemDescriptionTemplate,itemHeadlineTemplate:c.productSetElement.itemHeadlineTemplate,limit:c.productSetElement.limit});return b("adsCanvasBuilderPreviewProductElementsSelector")(a)};var d=c.prototype;d.render=function(){if(!this.state.isReady)return b("React").jsx("div",{style:{marginTop:"-10px",padding:b("RichMediaPreviewUtil").formatPadding(this.props.productSetElement.padding)},children:b("React").jsx("span",{children:b("React").jsx(b("FDSSpinner.react"),{})})});var a=this.props,c=a.instagramPreview,d=a.productSetElement;a=a.width;return b("React").jsx(b("AdsCanvasPreviewProductElements.react"),{isInstagramPreview:c,productSetElement:d,productSetItems:this.state.productSetItems,width:a})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("RichMediaProductSetElementPreview.react",["FDSSpinner.react","React","ReactDOM","RichMediaPreviewUtil","UIPagelet","areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return!(g||(g=b("areEqual")))(this.props.productSetElement.setID,a.productSetElement.setID)||!(g||(g=b("areEqual")))(this.props.productSetElement.limit,a.productSetElement.limit)||!(g||(g=b("areEqual")))(this.props.productSetElement.padding,a.productSetElement.padding)||!(g||(g=b("areEqual")))(this.props.productSetElement.retailerItemIDs,a.productSetElement.retailerItemIDs)||!(g||(g=b("areEqual")))(this.props.productSetElement.itemHeadlineTemplate,a.productSetElement.itemHeadlineTemplate)||!(g||(g=b("areEqual")))(this.props.productSetElement.itemDescriptionTemplate,a.productSetElement.itemDescriptionTemplate)||!(g||(g=b("areEqual")))(this.props.instagramPreview,a.instagramPreview)||!(g||(g=b("areEqual")))(this.props.productSetElement.storefrontSetting,a.productSetElement.storefrontSetting)};d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(){this.$1()};d.render=function(){return b("React").jsx("div",{style:{marginTop:"-10px",padding:b("RichMediaPreviewUtil").formatPadding(this.props.productSetElement.padding)},children:b("React").jsx("span",{ref:"productSetPreview",children:b("React").jsx(b("FDSSpinner.react"),{})})})};d.$1=function(){b("UIPagelet").loadFromEndpoint("RichMediaProductSetPreviewPageletController",b("ReactDOM").findDOMNode(this.refs.productSetPreview),{limit:this.props.productSetElement.limit,productCatalogID:this.props.productSetElement.catalogID,productSetID:this.props.productSetElement.setID,retailerItemIDs:this.props.productSetElement.retailerItemIDs,itemHeadlineTemplate:this.props.productSetElement.itemHeadlineTemplate,itemDescriptionTemplate:this.props.productSetElement.itemDescriptionTemplate,width:this.props.width,instagramPreview:!!this.props.instagramPreview,instagramCollectionTemplatePreview:!!this.props.instagramPreview,enableBento:this.props.productSetElement.storefrontSetting&&this.props.productSetElement.storefrontSetting.enableSections})};return c}(b("React").Component);e.exports=a}),null);
__d("RichMediaPreviewCanvas.react",["cx","AdsCanvasInstagramConstants","AdsCanvasPreviewBundleElement.react","AdsCanvasPreviewButtonElement.react","AdsCanvasPreviewCarouselElement.react","AdsCanvasPreviewDynamicPhotoElementContainer.react","AdsCanvasPreviewDynamicProductSetElementContainer.react","AdsCanvasPreviewHeaderElement.react","AdsCanvasPreviewNavigationTabElementContainer.react","AdsCanvasPreviewPhotoElement.react","AdsCanvasPreviewProductElementsContainer.react","AdsCanvasPreviewProductListElementContainer.react","AdsCanvasPreviewStoreLocatorElementContainer.react","AdsCanvasPreviewSwipeToOpenContainer.react","AdsCanvasPreviewTemplateVideoElementContainer.react","AdsCanvasPreviewTextElement.react","AdsCanvasPreviewVideoElement.react","React","RichMediaEditorConstants","RichMediaPreviewButton.react","RichMediaPreviewUtil","RichMediaProductSetElementPreview.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasInstagramConstants").IG_COLLECTION_TEMPLATE_FIXED_BUTTON,i=b("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,j=b("RichMediaPreviewButton.react").AudioButton,k=b("RichMediaPreviewButton.react").BackButton,l="preview_elements",m="preview_element";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=b("RichMediaPreviewUtil").getScrollableAreaFullHeight(this.props.height,this.props.documentElements),d=this.$1(),e={background:"#"+this.props.documentTheme.substr(2),boxShadow:this.props.margin?"0px 0px 4px rgba(0,0,0,0.15)":"none",height:this.props.disableScrolling?null:this.props.height,margin:this.props.margin?this.props.margin:0,width:this.props.width},f=e.height;d&&(this.props.disableScrolling?f=null:f=c+"px");d={height:f};return b("React").jsxs("div",{className:"_48ci","data-testid":"ads-canvas-builder-preview",style:e,children:[this.$2(),b("React").jsx(b("AdsCanvasPreviewNavigationTabElementContainer.react"),{width:this.props.width}),b("React").jsxs("div",{className:"_26os",id:l,ref:"previewCanvas",style:d,children:[this.props.documentElements.map(function(b,d){return a.$3(b,d,c)}),this.$4()]}),this.$5(),b("React").jsx("div",{className:this.props.instagramPreview?"_2zhl":""})]})};d.$5=function(){__p&&__p();var a=this.props,c=a.documentElements,d=a.instagramPreview;a=a.useDefaultInstagramTemplatePreviewValue;var e=null,f=0;c.count()>0&&(e=c.last().getElementType()==="FOOTER"?c.last():null,f=c.count()-1);if(e){if(d&&a){c=e.richFormatText.set("textColor",h.textColor).set("fontSize",h.fontSize).set("fontFamily",h.fontFamily).set("lineHeight",h.lineHeight);e=e.set("richFormatText",c)}return b("React").jsx("div",{className:"_26om"+(d?" _1ryp":""),ref:"bottomButton",children:this.$6(e,f,!0)})}return null};d.$4=function(){return!this.props.showSwipeToOpenPreview||this.props.instagramPreview?null:b("React").jsx(b("AdsCanvasPreviewSwipeToOpenContainer.react"),{})};d.$7=function(){return this.props.shouldHideBackButton?null:b("React").jsx(k,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview})};d.$8=function(){var a=this.props.documentElements,b=null;a.count()>0&&(b=a.first().getElementType()==="HEADER"?a.first():null);return b};d.$1=function(){var a=this.$8();return!a?!1:a.isOpaque()};d.$2=function(){var a=this.$8();if(!a)return b("React").jsxs("div",{children:[this.$7(),b("React").jsx(j,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview})]});var c=this.$1();c=c?{}:{position:"absolute",width:"100%"};return b("React").jsxs("div",{className:"_3arb",style:c,children:[this.$7(),b("React").jsx(j,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview}),this.$9(a,0)]})};d.$3=function(a,c,d){__p&&__p();var e=null;switch(a.elementType){case"BUNDLE":e=this.$10(a,c,d);break;case"BUTTON":e=this.$6(a,c,!1);break;case"CAROUSEL":this.props.instagramPreview&&(a=a.set("layout","fit_to_width"));e=this.$11(a,c,d);break;case"DYNAMIC_PRODUCT_SET":e=b("React").jsx(b("AdsCanvasPreviewDynamicProductSetElementContainer.react"),{productSetElement:a,width:this.props.width});break;case"PHOTO":this.props.instagramPreview&&(a=a.set("layout","fit_to_width"),this.props.useDefaultInstagramTemplatePreviewValue&&(a=a.set("padding",{paddingBottom:i,paddingTop:i})));e=this.$12(a,c,d);break;case"DYNAMIC_PHOTO":e=this.$13(a,c,d);break;case"TEMPLATE_VIDEO":e=this.$14(a);break;case"VIDEO":this.props.instagramPreview&&(a=a.set("layout","fit_to_width"));e=this.$15(a,c,d);break;case"RICH_TEXT":e=this.$16(a,c);break;case"PRODUCT_LIST":e=this.$17(a,c);break;case"ELEMENT_GROUP":e=this.$18(a,c);break;case"STORE_LOCATOR":e=this.$19(a,c);break}return b("React").jsx("div",{id:m+c,children:e},"element_"+c)};d.$10=function(a,c,d){return b("React").jsx(b("AdsCanvasPreviewBundleElement.react"),{bundleElement:a,fullHeight:d,index:c,width:this.props.width})};d.$6=function(a,c,d){return b("React").jsx(b("AdsCanvasPreviewButtonElement.react"),{buttonElement:a,index:c,instagramPreview:this.props.instagramPreview,isBottomButton:d},a.index)};d.$18=function(a,c){this.props.retailerItemIDs&&(a=a.set("retailerItemIDs",this.props.retailerItemIDs));var d=!!this.props.instagramPreview;return!d?b("React").jsx(b("AdsCanvasPreviewProductElementsContainer.react"),{index:c,instagramPreview:this.props.instagramPreview,productSetElement:a,width:this.props.width}):b("React").jsx(b("RichMediaProductSetElementPreview.react"),{index:c,instagramPreview:this.props.instagramPreview,productSetElement:a,width:this.props.width})};d.$11=function(a,c,d){var e=0;Array.isArray(this.props.documentElements)?e=this.props.documentElements.length-1:e=this.props.documentElements.count()-1;return b("React").jsx(b("AdsCanvasPreviewCarouselElement.react"),{carouselElement:a,elementListFooterIndex:e,fullHeight:d,index:c,instagramPreview:!!this.props.instagramPreview,width:this.props.width},a.index)};d.$9=function(a,c){return b("React").jsx(b("AdsCanvasPreviewHeaderElement.react"),{headerElement:a,index:c},a.index)};d.$13=function(a,c,d){var e=this.props.documentElements.find(function(a){return a.elementType==="ELEMENT_GROUP"});return b("React").jsx(b("AdsCanvasPreviewDynamicPhotoElementContainer.react"),{dynamicPhotoElement:a,fullHeight:d,index:c,isInstagramPreview:!!this.props.instagramPreview,productSetElement:e,width:this.props.width})};d.$12=function(a,c,d){return b("React").jsx(b("AdsCanvasPreviewPhotoElement.react"),{fullHeight:d,index:c,photoElement:a,width:this.props.width},a.index)};d.$17=function(a,c){return b("React").jsx(b("AdsCanvasPreviewProductListElementContainer.react"),{index:c,instagramPreview:this.props.instagramPreview,productListElement:a,width:this.props.width})};d.$14=function(a){return b("React").jsx(b("AdsCanvasPreviewTemplateVideoElementContainer.react"),{element:a,width:this.props.width})};d.$15=function(a,c,d){return b("React").jsx(b("AdsCanvasPreviewVideoElement.react"),{fullHeight:d,index:c,videoElement:a,width:this.props.width},a.index)};d.$16=function(a,c){return b("React").jsx(b("AdsCanvasPreviewTextElement.react"),{index:c,textElement:a},a.index)};d.$19=function(a,c){return b("React").jsx(b("AdsCanvasPreviewStoreLocatorElementContainer.react"),{height:this.props.height,index:c,storeLocatorElement:a,width:this.props.width},a.index)};return c}(b("React").Component);e.exports=a}),null);
__d("AdsProductItemPropertySearchSource",["Promise","AbstractSearchSource","AdsDynamicPreviewGraphAPIUtils","AdsGraphAPI","CatalogItemTypeUtils","SearchableEntry","SearchSourceQueryStatus","TokenizeUtil","getDynamicItemSetFieldConfig","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map();function h(a,b){var c=a.getOrder(),d=b.getOrder();return c===d?a.getTitle()>b.getTitle()?1:-1:c>d?1:-1}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getInstance=function(a,b,d,e,f,h){var i=c.getInstanceID(a,b,d,e,f,h);g.has(i)||g.set(i,new c(a,b,d,e,f,h));return g.get(i)};c.getInstanceID=function(a,b,c,d,e,f){a=a+"_"+b+"_"+d;c&&(a+="_includeQueryString");e&&(a+="_"+e);f&&(a+="_"+f);return a};function c(b,c,d,e,f,g){__p&&__p();var h;h=a.call(this)||this;h.$AdsProductItemPropertySearchSource2=new Map();h.productCatalogID=b;h.property=c;h.includeQueryString=d;h.catalogItemType=e;h.wcaOperator=f;h.limit=g;h.$AdsProductItemPropertySearchSource1=new Map();return h}var d=c.prototype;d.bootstrapImpl=function(a){this.search("",a)};d.searchImpl=function(a,c,d){__p&&__p();var f=this;if(this.$AdsProductItemPropertySearchSource1.has(a)){c(this.$AdsProductItemPropertySearchSource1.get(a),a,b("SearchSourceQueryStatus").COMPLETE);return}c([],a,b("SearchSourceQueryStatus").ACTIVE);d=this.$AdsProductItemPropertySearchSource2.get(a)||[];d.push(c);this.$AdsProductItemPropertySearchSource2.set(a,d);if(d.length>1)return;var g=function(c){__p&&__p();var d=[],e={},g=function(g){__p&&__p();var h;if(f.property==="market_id"){h=f.$AdsProductItemPropertySearchSource3(c[g]);d.push(h);return"continue"}var i=f.$AdsProductItemPropertySearchSource4(c[g]);i&&i.forEach(function(i){if(!i||e[i])return;h=new(b("SearchableEntry"))({uniqueID:i,title:i,order:f.$AdsProductItemPropertySearchSource5(a,i),auxiliaryData:c[g]});d.push(h);e[i]=!0})};for(var i=0;i<c.length;i++){var j=g(i);if(j==="continue")continue}d.sort(h);j=b("getDynamicItemSetFieldConfig")(b("CatalogItemTypeUtils").getCatalogVerticalFromCatalogItemType(f.catalogItemType))[f.property].emptyTokenizedFilterValue;if(j){g=new(b("SearchableEntry"))({title:j.title,subtitle:j.subtitle,auxiliaryData:"",uniqueID:"_EMPTY_ID_"});d.unshift(g)}i=f.$AdsProductItemPropertySearchSource2.get(a)||[];f.$AdsProductItemPropertySearchSource2.set(a,[]);i.forEach(function(c){return c(d,a,b("SearchSourceQueryStatus").COMPLETE)});f.$AdsProductItemPropertySearchSource1.set(a,d)};c=this.$AdsProductItemPropertySearchSource6(a);var i=this.$AdsProductItemPropertySearchSource7();if(i.length===1&&i[0]===this.property){var j,k,l=i[0];d=(d=this.wcaOperator)!=null?d:"i_contains";d=b("AdsGraphAPI").get(e.id).object("product_catalog_id",this.productCatalogID).edge(b("AdsDynamicPreviewGraphAPIUtils").getGraphAPIEdgeFromCatalogItemType(this.catalogItemType)).get({filter:{and:[c,(k={},k[l]=(j={},j[d]=a,j),k)]},summary:!0,limit:0});j=b("AdsGraphAPI").get(e.id).object("product_catalog_id",this.productCatalogID).edge("facets").get({filter:c,limit:this.limit,facets:{facet:{type:"terms",field:l}}});b("promiseDone")(b("Promise").all(this.includeQueryString?[j,d]:[j]),function(b){__p&&__p();var c=b[0];b=b[1];c=(((c=c)!=null?(c=c.data)!=null?(c=c[0])!=null?(c=c.facets)!=null?(c=c[0])!=null?c.value:c:c:c:c:c)||[]).map(function(a){var b;return b={id:a.key},b[l]=a.key,b});if(b!=null){var d;c.push((d={id:a},d[l]=a,d.count=b.summary.total_count,d))}g(c)},function(b){f.$AdsProductItemPropertySearchSource2.set(a,[])})}else b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_catalog_id",this.productCatalogID).edge(b("AdsDynamicPreviewGraphAPIUtils").getGraphAPIEdgeFromCatalogItemType(this.catalogItemType)).batched().get({fields:i,filter:c,limit:this.limit}),function(a){g(a.data||[])},function(c){f.wcaOperator="starts_with",b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_catalog_id",f.productCatalogID).edge(b("AdsDynamicPreviewGraphAPIUtils").getGraphAPIEdgeFromCatalogItemType(f.catalogItemType)).batched().get({fields:i,filter:f.$AdsProductItemPropertySearchSource6(a),limit:f.limit}),function(a){g(a.data||[])},function(b){f.$AdsProductItemPropertySearchSource2.set(a,[])})})};d.$AdsProductItemPropertySearchSource5=function(a,c){__p&&__p();var d=c.toLowerCase().indexOf(a.toLowerCase());if(d<0)return-1;if(b("TokenizeUtil").isExactMatch(a,c)&&d===0)return 1;else if(b("TokenizeUtil").isExactMatch(a,c))return 2;else if(d===0)return 3;else if(b("TokenizeUtil").isQueryMatch(a,c))return 4;return 5};d.$AdsProductItemPropertySearchSource6=function(a){__p&&__p();var b=this.wcaOperator||"i_contains";if(this.property==="market_id")return{};if(this.property==="retailer_id"){var c,d=["brand","retailer_id","name"];return c={},c.or=d.map(function(c){var d;return d={},d[c]=(c={},c[b]=a,c),d}),c}d={};d[this.property]=(c={},c[b]=a,c);return d};d.$AdsProductItemPropertySearchSource7=function(){if(this.property==="retailer_id")return["image_url","price","retailer_id","name"];if(this.property==="market_id")return["id","auto_market_id","name"];if(this.$AdsProductItemPropertySearchSource8())return["address"];if(this.$AdsProductItemPropertySearchSource9())return["address"];return this.$AdsProductItemPropertySearchSource10()?["address"]:[this.property]};d.$AdsProductItemPropertySearchSource3=function(a){a=new(b("SearchableEntry"))({auxiliaryData:a.auto_market_id,uniqueID:a.id,title:a.name,subtitle:"Market ID: "+a.auto_market_id});return a};d.$AdsProductItemPropertySearchSource4=function(a){if(this.$AdsProductItemPropertySearchSource8()||this.$AdsProductItemPropertySearchSource9()||this.$AdsProductItemPropertySearchSource10()){var b=typeof a.address==="string"?JSON.parse(a.address):a.address;if(this.catalogItemType==="EntHotel"&&this.property==="neighborhood")return b.neighborhoods;else if(this.catalogItemType==="EntHomeListing"&&this.property==="neighborhood")return b.neighborhoods;return[b[this.property]]}return[a[this.property]]};d.$AdsProductItemPropertySearchSource8=function(){return this.catalogItemType==="EntHomeListing"&&(this.property==="city"||this.property==="country"||this.property==="neighborhood")};d.$AdsProductItemPropertySearchSource9=function(){return this.catalogItemType==="EntHotel"&&(this.property==="city"||this.property==="country"||this.property==="neighborhood")};d.$AdsProductItemPropertySearchSource10=function(){return this.catalogItemType==="EntDestination"&&this.property==="country"};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("DestinationFilterFieldsExternal",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CITY:"city",COUNTRY:"country",CURRENCY:"currency",CUSTOM_LABEL_0:"custom_label_0",CUSTOM_LABEL_1:"custom_label_1",CUSTOM_LABEL_2:"custom_label_2",DESCRIPTION:"description",DESTINATION_ID:"destination_id",IMAGE_TAGS:"image_tags",NAME:"name",PRICE:"price",PRICE_CHANGE:"price_change",VIDEOS_FETCH_STATUS:"videos_fetch_status"})}),null);
__d("HomeServiceProviderFilterFieldsExternal",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE_TAGS:"image_tags",TITLE:"title",VIDEOS_FETCH_STATUS:"videos_fetch_status"})}),null);
__d("ProductReviewStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_REVIEW:"",PENDING:"pending",REJECTED:"rejected",APPROVED:"approved",OUTDATED:"outdated"})}),null);
__d("adsProductSetTryParseJson",[],(function(a,b,c,d,e,f){"use strict";function a(a){try{return JSON.parse(a)}catch(a){return null}}e.exports=a}),null);
__d("AdsProductSetUtils",["invariant","AbstractSearchSource","AdsGenericFilterFieldType","AdsProductItemPropertySearchSource","AdsProductSetFilterFieldCommon","AdsProductSetFilterInputType","AdsProductSetFilterOperatorConfig","CatalogVertical","DateTime","DestinationFilterFieldsExternal","HomeServiceProviderFilterFieldsExternal","LocalDate","ProductAgeGroup","ProductCondition","ProductGender","ProductItemAvailabilities","ProductReviewStatus","RegexMatchSearchSource","SearchableEntry","StaticSearchSource","Timezone","VehicleAvailability","VehicleBodyStyle","VehicleCondition","VehicleDrivetrain","VehicleFinanceType","VehicleFuelType","VehicleState","VehicleTransmission","VehicleType","adsProductSetGetRequiredFilterFieldConfig","adsProductSetTryParseJson","getByPath","getDynamicItemSetFieldConfig","gkx","immutable","nullthrows","productCatalogHasOfflineCapability"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return new(b("StaticSearchSource"))(Object.keys(a).filter(function(b){return a[b]}).map(function(c){return new(b("SearchableEntry"))({uniqueID:a[c],title:a[c]})}))}var h=a(b("ProductItemAvailabilities")),i=a(b("VehicleAvailability")),j=a(b("VehicleBodyStyle")),k=a(b("VehicleCondition")),l=a(b("VehicleDrivetrain")),m=a(b("VehicleFinanceType")),n=a(b("VehicleFuelType")),o=a(b("VehicleState")),p=a(b("VehicleTransmission")),q=a(b("VehicleType")),r=a(b("ProductGender")),s=a(b("ProductCondition")),t=a(b("ProductAgeGroup")),u=a(b("ProductReviewStatus")),v=new(b("RegexMatchSearchSource"))("[0-9]+"),w=new(b("RegexMatchSearchSource"))(".+"),x=(c={},c.gt="AFTER",c.lt="BEFORE",c),y=(d={},d.AFTER="gt",d.BEFORE="lt",d.CONTAIN="i_contains",d.NOT_CONTAIN="i_not_contains",d.EQUAL="eq",d.NOT_EQUAL="neq",d.GREATER_THAN="gt",d.LESS_THAN="lt",d.STARTS_WITH="i_starts_with",d.ANY="is_any",d),z={isAllProductsProductSet:function(a){a=a.filter;return a==="{}"||a==void 0},getFiltersForAPI:function(a,c,d){__p&&__p();var e=b("getDynamicItemSetFieldConfig")(c),f=[],g=!1;a.slice().forEach(function(a){if(a.value.length===0)return;var d=e[a.property].field.type===b("AdsGenericFilterFieldType").CURRENCY;d&&(g=!0);f.push(babelHelpers["extends"]({},a,{isPriceFilter:d,value:a.value.map(function(d){return z.isTokenizable(a,c)?e[a.property].inputType===b("AdsProductSetFilterInputType").SEARCHABLE_SELECTOR_TEXT_INPUT?d.getAuxiliaryData():d.getTitle():d})}))});g&&f.push({property:"currency",operator:"EQUAL",value:[d],plainText:"",error:null});return f},convertFiltersForUI:function(a,c){return a.map(function(a){return babelHelpers["extends"]({},a,{value:(a.value||[]).map(function(d){return z.isTokenizable(a,c)?new(b("SearchableEntry"))({uniqueID:d===""?"_EMPTY_ID_":d,title:d}):d})})})},convertFiltersFromUIToAPI:function(a,b,c){a=z.getFiltersForAPI(a,b,c);b=z.convertFilterFromUISpecToAPISpec(a).filter;return JSON.stringify(b)},excludeDefaultFilterValuesForUI:function(a,c){return!b("productCatalogHasOfflineCapability")(c)?a:a.map(function(a){var b=z.getDefaultOfflineProductFilterExcludedValues(a.property);return babelHelpers["extends"]({},a,{excludedValues:b,value:(a.value||[]).filter(function(a){return!b.includes(a.getUniqueID())})})})},getProductSetDataSpec:function(a,b,c,d){c===void 0&&(c=[]);d===void 0&&(d="and");b=z.convertFilterFromUISpecToAPISpec(b,d,c);return babelHelpers["extends"]({},b,{name:a})},getApiOperatorTextForDateField:function(a){a=x[a];return b("AdsProductSetFilterOperatorConfig")[a].text},getApiOperator:function(a){a=y[a];return!a?g(!1,"Unknown operator %s",a):a},getUiOperator:function(a){__p&&__p();var b=Object.keys(y).reduce(function(a,b){__p&&__p();a[y[b]]=b;switch(y[b]){case"i_not_contains":a.not_contains=b;break;case"i_contains":a.contains=b;break;case"is_any":a.i_is_any=b;break;case"i_starts_with":a.starts_with=b;break}return a},{});b=b[a];return!b?g(!1,"Unknown operator %s",b):b},getLogicOperator:function(a){switch(a){case"NOT_CONTAIN":case"NOT_EQUAL":return"and";default:return"or"}},convertLongToUTCDate:function(a){return!a?null:b("LocalDate").fromDateTime(new(b("DateTime"))(a,b("Timezone").UTC))},convertFiltersToPropertyFilters:function(a,b,c,d){__p&&__p();a=a.map(function(a){__p&&__p();var e=a.value.map(function(b){var c={},d=z.getApiOperator(a.operator);c[d]=b;d={};d[a.property]=c;return d}),f=z.getLogicOperator(a.operator);if(c==="or"){if(a.property==="currency")return void 0;if(a.isPriceFilter){var g,h,i;return b==null?void 0:(i={},i.and=[(g={},g[f]=e,g),(g={},g[b.property]=(h={},h[z.getApiOperator(b.operator)]=b.value[0],h),g)],i)}}if(e.length===1)return e[0];if(d!=null){h=d(a.property);if(h!=null){return g={},g[h]=e,g}}return i={},i[f]=e,i}).filter(function(a){return a!==void 0});return a},compactApiFilter:function(a){var b=a.or!=null?"or":a.and!=null?"and":void 0;if(b==null)return a;var c=a[b].map(function(a){return z.compactApiFilter(a)});if(c.length===1)return c[0];a[b]=c;return a},convertFilterFromUISpecToAPISpec:function(a,b,c,d){__p&&__p();c===void 0&&(c=[]);b=b||z.getDefaultGlobalLogicOperator();var e=a.find(function(a){return a.property==="currency"})||null,f={filter:{}};a=z.convertFiltersToPropertyFilters(a,e,b,d);e=z.convertFiltersToPropertyFilters(c);if(e.length===0)a.length!==0&&(f.filter[b]=a);else{f.filter.and=[];if(a.length!==0){f.filter.and.push((d={},d[b]=a,d))}(c=f.filter.and).push.apply(c,e)}f.filter=z.compactApiFilter(f.filter);return f},getGlobalLogicOperator:function(a){a=b("adsProductSetTryParseJson")(a);return!a?null:a.and?"and":"or"},getDefaultGlobalLogicOperator:function(){return"and"},convertFilterFromAPISpecToUISpec:function(a,c,d){__p&&__p();d=d||"USD";a=b("adsProductSetTryParseJson")(a);if(!a)return{filters:[],currency:d};var e=b("getDynamicItemSetFieldConfig")(c);c=[];try{var f=a.and?"and":"or";a=a[f];c=a.map(function(a){__p&&__p();var c=a.or||a.and||[a];if(!c||!a)return void 0;var f=Object.keys(c[0])[0];a=c.map(function(a){return a[f]});var g=Object.keys(a[0])[0];c=z.getUiOperator(g);a=a.map(function(a){return a[g]});if(f==="currency"){d=a[0];return void 0}e[f].field.type===b("AdsGenericFilterFieldType").DATE&&(c=x[g]);var h=!!(e[f]&&e[f].field&&e[f].field.type===b("AdsGenericFilterFieldType").CURRENCY);return{isPriceFilter:h,operator:c,plainText:"",property:f,value:a}}).filter(function(a){return a!==void 0})}catch(a){return{filters:[],currency:d}}return{filters:c,currency:d}},getSortedProperties:function(a){switch(a){case b("CatalogVertical").FLIGHTS:return["flight_id","description","destination_airport","destination_city","one_way_price","origin_airport","origin_city","price","priority"];case b("CatalogVertical").COMMERCE:return["category","product_type","brand","price_amount","sale_price_amount","retailer_id","retailer_product_group_id","gender","condition","size","age_group","color","material","pattern","custom_label_0","custom_label_1","custom_label_2","custom_label_3","custom_label_4","name","availability"];case b("CatalogVertical").HOME_SERVICE_PROVIDERS:return["title"];case b("CatalogVertical").MEDIA_TITLES:return["title","content_category","content_countries","content_locale","crew","genres","media_source","mpaa_rating","performers","price","season","view_count_one_day","view_count_seven_days","view_count_fourteen_days","view_count_twenty_eight_days","view_count_eighty_four_days"];default:return b("AdsProductSetFilterFieldCommon").getSortedProperties(b("getDynamicItemSetFieldConfig")(a))}},getCatalogSegmentSortedProperties:function(a){var c=z.getSortedProperties(a);a===b("CatalogVertical").COMMERCE&&c.push("vendor_id");switch(a){case b("CatalogVertical").COMMERCE:var d=b("immutable").Set(["retailer_id"]);return c.filter(function(a){return!d.has(a)});default:return c}},getDefaultOfflineProductFilterExcludedValues:function(a){switch(a){case"brand":return["__default_brand_for_offline_conversions_catalog__"];default:return[]}},getDefaultProductFilterExcludedValues:function(a,c){return a==null||!b("productCatalogHasOfflineCapability")(a)?[]:z.getDefaultOfflineProductFilterExcludedValues(c)},getNewProductSegmentFilter:function(a,c){var d=b("getDynamicItemSetFieldConfig")(c),e,f=[];c===b("CatalogVertical").COMMERCE?(e="brand",f=z.getDefaultProductFilterExcludedValues(a,e)):e=z.getProductSetDefaultProperty(c);return{property:e,operator:d[e].defaultOperator,value:d[e].defaultValue||[],excludedValues:f,plainText:""}},getConfigForFilter:function(a,c){return b("getDynamicItemSetFieldConfig")(a)[c.property]},getRequiredFilterConfig:function(a,c){a=b("adsProductSetGetRequiredFilterFieldConfig")(a);return a==null?null:a[c.property]},getVertical:function(a){return b("getByPath")(a,["product_catalog","vertical"])},getProductSetDefaultProperty:function(a){__p&&__p();switch(a){case b("CatalogVertical").AUTOMOTIVE_MODELS:return"model";case b("CatalogVertical").FLIGHTS:return"origin_airport";case b("CatalogVertical").HOME_LISTINGS:return"country";case b("CatalogVertical").HOME_SERVICE_PROVIDERS:return"title";case b("CatalogVertical").HOTELS:return"country";case b("CatalogVertical").DESTINATIONS:return"country";case b("CatalogVertical").OFFLINE_COMMERCE:return"brand";case b("CatalogVertical").VEHICLES:return"body_style";case b("CatalogVertical").VEHICLE_OFFERS:if(b("gkx")("1005055"))return"market_name";else return"market_id";case b("CatalogVertical").MEDIA_TITLES:return"title";case b("CatalogVertical").COMMERCE:default:return"category"}},getRequiredProductSetFilters:function(a){var c=b("adsProductSetGetRequiredFilterFieldConfig")(a);return c==null?[]:Object.keys(c).map(function(a){return{property:a,operator:c[a].defaultOperator,value:c[a].defaultValue||[],plainText:"",error:null}})},getNewProductSetFilter:function(a){var c=z.getProductSetDefaultProperty(a);a=b("getDynamicItemSetFieldConfig")(a);return{property:c,operator:a[c].defaultOperator,value:a[c].defaultValue||[],plainText:""}},getSearchSource:function(a,c,d,e,f){__p&&__p();b("AbstractSearchSource");switch(e){case b("CatalogVertical").AUTOMOTIVE_MODELS:return z._getAutomotiveModelSearchSource(a,c,d,f);case b("CatalogVertical").VEHICLES:return z._getVehiclesSearchSource(a,c,d,f);case b("CatalogVertical").DESTINATIONS:return z._getDestinationsSearchSource(a,b("DestinationFilterFieldsExternal")[b("nullthrows")(Object.keys(b("DestinationFilterFieldsExternal")).find(function(a){return b("DestinationFilterFieldsExternal")[a]===c}))],d,f);case b("CatalogVertical").COMMERCE:return z._getCommerceSearchSource(a,c,d,f);case b("CatalogVertical").OFFLINE_COMMERCE:return z._getOfflineCommerceSearchSource(a,c,d,f);case b("CatalogVertical").FLIGHTS:return z._getFlightsSearchSource(a,c,d,f);case b("CatalogVertical").HOME_LISTINGS:return z._getHomeListingsSearchSource(a,c,d,f);case b("CatalogVertical").HOME_SERVICE_PROVIDERS:return z._getHomeServiceProvidersSearchSource(a,c,d,f);case b("CatalogVertical").HOTELS:return z._getHotelsSearchSource(a,c,d,f);case b("CatalogVertical").VEHICLE_OFFERS:return z._getVehicleOffersSearchSource(a,c,d,f);case b("CatalogVertical").MEDIA_TITLES:return z._getMediaTitlesSearchSource(a,c,d,f)}return new(b("RegexMatchSearchSource"))(".+")},propertyHasStaticValues:function(a){return a==="age_group"||a==="availability"||a==="gender"||a==="condition"||a==="review_status"||a==="country_overrides"||a==="language_overrides"},hasNumberOperator:function(a){return a.operator==="LESS_THAN"||a.operator==="GREATER_THAN"},isTokenizable:function(a,c){c=b("getDynamicItemSetFieldConfig")(c);return c[a.property].inputType===b("AdsProductSetFilterInputType").TOKENIZED_TEXT_INPUT||c[a.property].inputType===b("AdsProductSetFilterInputType").SEARCHABLE_SELECTOR_TEXT_INPUT||c[a.property].inputType===b("AdsProductSetFilterInputType").MIXED_INPUT&&!z.hasNumberOperator(a)},shouldBootstrapTokenizer:function(a){return a!=="retailer_product_group_id"},specialTreatmentForEmptyString:function(a){return a==="gender"||a==="condition"||a==="age_group"},shouldIncludeQueryString:function(a){return a==="CONTAIN"||a==="NOT_CONTAIN"||a==="STARTS_WITH"},_getAutomotiveModelSearchSource:function(a,c,d,e){switch(c){case"drivetrain":return l;case"finance_type":return m;case"fuel_type":return n;case"price":return v;case"transmission":return p;case"body_style":case"custom_label_0":case"exterior_color":case"id":case"image_tags":case"make":case"model":case"trim":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntAutomotiveModel",e)}return w},_getVehiclesSearchSource:function(a,c,d,e){__p&&__p();switch(c){case"availability":return i;case"body_style":return j;case"condition":return k;case"drivetrain":return l;case"fuel_type":return n;case"price":case"sale_price":return v;case"state_of_vehicle":return o;case"transmission":return p;case"vehicle_type":return q;case"city":case"country":case"custom_label_0":case"custom_label_1":case"custom_label_2":case"dealer_id":case"dealer_name":case"exterior_color":case"image_tags":case"interior_color":case"make":case"model":case"region":case"stock_number":case"trim":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntVehicle",e)}return w},_getDestinationsSearchSource:function(a,c,d,e){switch(c){case"price":return v;case"country":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntDestination",e)}return w},_getCommerceSearchSource:function(a,c,d,e){switch(c){case"availability":return h;case"vendor_id":case"brand":case"name":case"category":case"product_type":case"color":case"material":case"pattern":case"size":case"custom_label_0":case"custom_label_1":case"custom_label_2":case"custom_label_3":case"custom_label_4":case"retailer_product_group_id":case"retailer_id":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntProductItem",e);case"gender":return r;case"price_amount":return v;case"review_status":return u;case"age_group":return t;case"condition":return s}return w},_getOfflineCommerceSearchSource:function(a,c,d,e){switch(c){case"brand":case"category":case"local_id":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntOfflineProductItem",e);case"price_amount":return v}return w},_getMediaTitlesSearchSource:function(a,c,d,e){switch(c){case"content_category":case"content_countries":case"content_locale":case"crew":case"genres":case"media_source":case"mpaa_rating":case"performers":case"price":case"season":case"title":case"view_count_one_day":case"view_count_seven_days":case"view_count_fourteen_days":case"view_count_twenty_eight_days":case"view_count_eighty_four_days":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntMediaTitle",e)}return w},_getVehicleOffersSearchSource:function(a,c,d,e){switch(c){case"body_style":return j;case"custom_label_0":case"dma_codes":case"market_id":case"market_name":case"make":case"model":case"trim":case"offer_type":case"vehicle_id":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntVehicleOffer",e)}return w},_getHomeListingsSearchSource:function(a,c,d,e){switch(c){case"availability":case"city":case"country":case"custom_label_0":case"home_listing_id":case"listing_type":case"name":case"neighborhood":case"property_type":case"region":case"postal_code":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntHomeListing",e);case"price":return v}return w},_getHomeServiceProvidersSearchSource:function(a,c,d,e){switch(c){case b("HomeServiceProviderFilterFieldsExternal").BUSINESS_NAME:return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntHomeServiceProvider",e)}return w},_getHotelsSearchSource:function(a,c,d,e){switch(c){case"brand":case"city":case"country":case"image_tags":case"neighborhood":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntHotel",e);case"base_price_amount":return v}return w},_getFlightsSearchSource:function(a,c,d,e){switch(c){case"description":case"destination_airport":case"origin_airport":return b("AdsProductItemPropertySearchSource").getInstance(a,c,d,"EntFlight",e);case"price":return v}return w},isUICompatibleFilter:function(a,b){try{return z.validateAndGetFilterLevel(a,b)===2}catch(a){return!1}},getFirstKey:function(a){return Object.keys(a)[0]},getFirstValue:function(a){return a[z.getFirstKey(a)]},extractOperator:function(a){return Object.keys(a).length!==1?"":z.getFirstKey(a)},extractValueFromOperator:function(a){return Object.keys(a).length!==1?void 0:z.getFirstValue(a)},validateValue:function(a){a=z.extractValueFromOperator(a);return typeof a==="number"||typeof a==="string"},validateOperator:function(a){a=z.extractOperator(a);return z.getUiOperator(a)!==void 0},isConsistentPropertyList:function(a){__p&&__p();if(a.length===0)return!0;if(a.some(function(a){return Object.keys(a).length===0}))return!1;var b=z.getFirstKey(a[0]),c=z.extractOperator(z.getFirstValue(a[0]));return!z.validateOperator(z.getFirstValue(a[0]))?!1:a.every(function(a){return z.getFirstKey(a)===b})&&a.every(function(a){return z.extractOperator(z.getFirstValue(a))===c})&&a.every(function(a){return z.validateValue(z.getFirstValue(a))})},_tryNormalizeFirstLevelFilters:function(a){return a.and==null&&a.or==null?{or:[a]}:a},tryNormalizeFiltersForUI:function(a){__p&&__p();try{var b;if(a.and==null&&a.or==null)return{and:[{or:[a]}]};b=(b=a.and)!=null?b:a.or;if(!(b instanceof Array))return a;if(a.and!=null)return{and:b.map(function(a){return z._tryNormalizeFirstLevelFilters(a)})};else if(a.or!=null)return{or:b.map(function(a){return z._tryNormalizeFirstLevelFilters(a)})}}catch(b){return a}return a},validateAndGetFilterLevel:function(a,b){__p&&__p();if(a.and===void 0&&a.or===void 0){var c=Object.keys(a);if(c.length!==1||typeof a[c[0]]!=="object"||a[c[0]]instanceof Array||!z.validateOperator(a[c[0]])||!z.validateValue(a[c[0]]))return null;return b[c[0]]===void 0&&c[0]!=="currency"?null:0}if(a.and!==void 0&&a.or!==void 0)return null;c=a.and||a.or;if(!(c instanceof Array)||c.length===0)return null;a={};for(var d=0;d<c.length;++d){var e=z.validateAndGetFilterLevel(c[d],b);if(e==null)return null;a[e]=!0}if(Object.keys(a).length!==1)return null;e=parseInt(Object.keys(a)[0],10);return e===0&&!z.isConsistentPropertyList(c)?void 0:e+1},buildNumOccurrencesPerProperty:function(a){var b={};a.forEach(function(a){b[a.property]=((a=b[a.property])!=null?a:0)+1});return b}};e.exports=z}),null);
__d("CatalogProductItemImage.react",["BackgroundImage.react","ProductCatalogItemsDisplayOptionUtils","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProductCatalogItemsDisplayOptionUtils").getPlaceholderImgUrl;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={imageNotFound:!1},c.$1=function(a,b){c.state.imageNotFound||c.setState({imageNotFound:a<=1&&b<=1}),c.props.onImageLoad!=null&&c.props.onImageLoad(a,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.src;a=a.backgroundPosition;c=c!=null&&!this.state.imageNotFound?c:g();c=babelHelpers["extends"]({},this.props,{onImageLoad:this.$1,src:c},a!=null?{backgroundPosition:a}:{});return b("React").jsx(b("BackgroundImage.react"),babelHelpers["extends"]({},c))};d.componentDidUpdate=function(a){a.src!=this.props.src&&this.setState({imageNotFound:!1})};return c}(b("React").Component);a.defaultProps={backgroundSize:"cover",loadingIndicatorStyle:"small"};e.exports=a}),null);
__d("AdsProductSetFilterTokenizer.react",["cx","fbt","AdsProductSetUtils","CatalogProductItemImage.react","CatalogVertical","CenteredContainer.react","FDSSpinner.react","Layout.react","LeftRight.react","React","SearchableEntry","WaitTimeArea.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUITokenizer.react","XUITokenizerToken.react","XUITypeaheadViewContainer.react","createObjectFrom","getUniqueValuesForStringArray","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=10,l=h._("empty"),m=function(a){var c;return(c=b("React")).jsxs(b("Layout.react"),{children:[c.jsx(i,{className:"_1s6n",children:c.jsx(b("CatalogProductItemImage.react"),{height:64,src:a.item.image_url,width:64})}),c.jsxs(j,{children:[c.jsx("div",{className:"_1s6o",title:a.item.name,children:a.item.name}),c.jsxs("div",{className:"_1s6p",title:a.item.retailer_id,children:[h._("ID:"),a.item.retailer_id]})]}),c.jsx(i,{children:c.jsx("div",{className:"_1s6r",children:a.item.price})})]})},n=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$2=function(a){b.props.onHighlight&&b.props.onHighlight(b.props.entry,a)},b.$1=function(a){b.props.onSelect&&b.props.onSelect(b.props.entry,a)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").jsx("li",{"aria-selected":this.props.highlighted,className:"_599m"+(this.props.shouldDisplayProductInfo?" _1s6s":"")+(this.props.shouldDisplayProductInfo?"":" _huv")+(this.props.highlighted?" _huw":""),role:this.props.role,onMouseDown:this.$1,onMouseEnter:this.$2,children:this.props.shouldDisplayProductInfo?b("React").jsx(m,{item:this.props.entry.getAuxiliaryData()}):b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx("div",{children:this.props.specialTreatmentForEmptyString&&this.props.entry.getTitle()===""?b("React").jsx("i",{children:l}):this.props.entry.getTitle()}),b("React").jsx("div",{className:"_hux",children:this.props.entry.getAuxiliaryData().count!==void 0?b("intlSummarizeNumber")(this.props.entry.getAuxiliaryData().count):b("React").jsx(b("FDSSpinner.react"),{size:"small"})})]})})};return a}(b("React").Component),o=function(a){return b("React").jsx(b("XUITypeaheadViewContainer.react"),{className:((!a.isLoading||!a.inputFocused)&&a.entries.length===0?"_599s":"")+(a.shouldDisplayProductInfo&&!a.isLoading?" _1s6t":""),id:a.controlleeID,role:a.role,children:a.isLoading?b("React").jsx(b("WaitTimeArea.react"),{name:"AdsProductSetFilterTokenizer - Load Entries",owner:"product_catalogues",children:b("React").jsx(b("CenteredContainer.react"),{children:b("React").jsx(b("FDSSpinner.react"),{})})}):a.entries.map(function(c){return b("React").jsx(n,{entry:c,highlighted:a.highlightedEntry&&a.highlightedEntry.getUniqueID()===c.getUniqueID(),onHighlight:a.onHighlight,onSelect:a.onSelect,specialTreatmentForEmptyString:a.specialTreatmentForEmptyString,shouldDisplayProductInfo:a.shouldDisplayProductInfo},c.getUniqueID())})})},p=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$2=function(a){return b.$1=a},b.$3=function(){return b.$1},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_1s6v",children:[a.jsx("div",{className:"clearfix",ref:this.$2,children:this.props.token}),a.jsx(b("XUIContextualDialog.react"),{alignment:"left",contextRef:this.$3,hoverContextRef:this.$3,hoverHideDelay:0,hoverShowDelay:0,position:"above",width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:a.jsx(b("XUIContextualDialogBody.react"),{children:a.jsx(m,{item:this.props.item})})})]})};return a}(b("React").Component),q=function(a){var c=a.specialTreatmentForEmptyString&&a.entry.getTitle()==="",d=b("React").jsx(b("XUITokenizerToken.react"),babelHelpers["extends"]({},a,{label:c?l:a.entry.getTitle()}));d=a.shouldDisplayProductInfo?b("React").jsx(p,{item:a.entry.getAuxiliaryData(),token:d}):d;return b("React").jsxs("div",{className:(c?"_2lw-":"")+" _1haq",children:[d,b("React").jsx("div",{className:"_4s0v",children:a.conjunctionOperator})]})};function r(a,c){return a===b("CatalogVertical").COMMERCE&&c==="retailer_id"}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={inputFocused:!1,queryString:""},d.$1=function(a){d.setState({queryString:""}),d.props.handleAddEntryAttempt(a)},d.$5=function(a){d.setState({queryString:a.target.value}),d.props.onQueryStringChange(a)},d.$4=function(a){if(d.state.queryString!=="")return;var c=b("getUniqueValuesForStringArray")(a.clipboardData.getData("text/plain").split(",")).map(function(a){return a.trim()}).filter(function(a){return a!==""});d.$6(c);d.setState({queryString:""});a.stopPropagation();a.preventDefault()},d.$3=function(){d.setState({inputFocused:!0})},d.$2=function(){d.setState({inputFocused:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c=(a=b("AdsProductSetUtils")).shouldIncludeQueryString(this.props.filter.operator),d=a.specialTreatmentForEmptyString(this.props.filter.property),e=r(this.props.vertical,this.props.filter.property),f={alwaysVisibleOnFocus:a.shouldBootstrapTokenizer(this.props.filter.property),ViewRenderer:o,TokenRenderer:q,useLayer:!0,maxEntries:k,extraRendererProps:{entries:this.props.foundEntries,isLoading:this.props.isLoading,inputFocused:this.state.inputFocused,shouldDisplayProductInfo:e,specialTreatmentForEmptyString:d}};a=a.getLogicOperator(this.props.filter.operator);return b("React").jsx(b("XUITokenizer.react"),{className:this.props.className,entries:this.props.entries,excludedEntries:this.props.excludedEntries?b("createObjectFrom")(this.props.excludedEntries):void 0,extraTokenRendererProps:{specialTreatmentForEmptyString:d,conjunctionOperator:a==="and"?h._("AND"):h._("OR"),shouldDisplayProductInfo:e},extraTypeaheadProps:{onNoEntriesFound:this.props.onNoEntriesFound},focusedOnInit:!0,placeholder:this.props.placeholder,presenter:f,queryString:this.state.queryString,searchSource:b("AdsProductSetUtils").getSearchSource(this.props.productCatalogID,this.props.filter.property,c,this.props.vertical,b("AdsProductSetUtils").getApiOperator(this.props.filter.operator==="STARTS_WITH"?"STARTS_WITH":"CONTAIN")),showEntriesOnFocus:!0,xuiError:this.props.filter.error,onAddEntryAttempt:this.$1,onEntriesFound:this.props.onEntriesFound,onInputBlur:this.$2,onInputFocus:this.$3,onPaste:this.$4,onQueryStringChange:this.$5,onRemoveEntryAttempt:this.props.handleRemoveEntryAttempt})};d.$6=function(a){var c=this,d=this.props.entries.reduce(function(a,b){a[b.getUniqueID()]=!0;return a},{});a.forEach(function(a){if(d[a])return;c.props.handleAddEntryAttempt(new(b("SearchableEntry"))({uniqueID:a,title:a}))})};return c}(b("React").Component);e.exports=a}),null);
__d("ProductSetCountsActions",["ProductsProductSetCountsBatchLoadedAction","ProductsProductSetCountsBatchLoadErrorAction","ProductsProductSetCountsReloadAction"],(function(a,b,c,d,e,f){"use strict";a={countsLoaded:function(a,c){b("ProductsProductSetCountsBatchLoadedAction").dispatch(babelHelpers["extends"]({},a,{counts:c}),{line:"23",module:"ProductSetCountsActions.js"})},countsLoadError:function(a){b("ProductsProductSetCountsBatchLoadErrorAction").dispatch(babelHelpers["extends"]({},a),{line:"30",module:"ProductSetCountsActions.js"})},reload:function(a){b("ProductsProductSetCountsReloadAction").dispatch(babelHelpers["extends"]({},a),{line:"36",module:"ProductSetCountsActions.js"})}};e.exports=a}),null);
__d("ProductSetCountsDataManager",["AdsAbstractDataManager","AdsProductSetUtils","CatalogGraphAPI","ProductSetCountsActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="terms";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadTerms=function(a,c,d,f,h){if(h.length===0)return;var i={catalogID:a,filters:c,property:d,globalLogicOperator:f,values:h};h=[{or:h.map(function(a){var b;return b={},b[d]={eq:a},b})}];f==="and"&&c.length>0&&h.push(b("AdsProductSetUtils").convertFilterFromUISpecToAPISpec(c,f).filter);c={and:h};b("promiseDone")(b("CatalogGraphAPI").get(e.id).object("catalog_id",a).edge("facets").batched().get({filter:JSON.stringify(c),facets:{result:{field:d,type:g}}}),this.__handleSuccess.bind(this,["load"],i,null),this.__handleError.bind(this,["load"],i,null))};d.__onBatchLoaded=function(a){a.forEach(function(a,c){var d=a.data[0].facets[0].value||[];b("ProductSetCountsActions").countsLoaded(c,c.values.reduce(function(a,b){var c=d.filter(function(a){return(a.key||"").toLowerCase()===b.toLowerCase()});c.length===0?a[b]=0:a[b]=c[0].value;return a},{}))})};d.__onBatchLoadError=function(a){a.forEach(function(a,c){b("ProductSetCountsActions").countsLoadError(c)})};return c}(b("AdsAbstractDataManager"));e.exports=new a()}),null);
__d("ProductSetCountsStore",["AdsDataAtom","FluxReduceStore","LoadObject","ProductSetCountsDataManager","ProductsProductSetCountsBatchLoadedActionFlux","ProductsProductSetCountsBatchLoadErrorActionFlux","ProductsProductSetCountsReloadActionFlux","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=":";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.getStorageKey=function(a,b,c,d,e){return a+g+b+g+c+g+d+g+JSON.stringify(e)};d.reduce=function(a,c){var d=this,e=c.action;switch(e.actionType){case b("ProductsProductSetCountsBatchLoadedActionFlux").actionType:return this.$ProductSetCountsStore1(a,e.catalogID,e.filters,e.property,e.globalLogicOperator,e.values,e.counts);case b("ProductsProductSetCountsBatchLoadErrorActionFlux").actionType:return this.$ProductSetCountsStore1(a,e.catalogID,e.filters,e.property,e.globalLogicOperator,e.values,e.counts,new Error("Could not load data for "+e.catalogID));case b("ProductsProductSetCountsReloadActionFlux").actionType:var f=a;e.values&&e.values.forEach(function(a){f=f["delete"](d.getStorageKey(e.catalogID,e.property,e.globalLogicOperator,a,e.filters))});return f}return a};d.getCounts=function(a,c,d,e,f){var g=this,h=this.getState(),i=f.filter(function(b){return!h.get(g.getStorageKey(a,d,e,b,c))});b("ProductSetCountsDataManager").loadTerms(a,c,d,e,i);return f.reduce(function(f,i){var j=h.get(g.getStorageKey(a,d,e,i,c));f[i]=j||b("LoadObject").loading();return f},{})};d.$ProductSetCountsStore1=function(a,c,d,e,f,g,h,i){var j=this;i===void 0;var k={};g.forEach(function(a){k[j.getStorageKey(c,e,f,a,d)]=b("LoadObject").withValue(h[a])});return a.merge(b("immutable").Map(k))};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsProductSetFilterTokenizerContainer.react",["AdsFluxContainer","AdsProductSetFilterTokenizer.react","AdsProductSetUtils","CatalogVertical","ProductSetCountsStore","React","SearchableEntry","removeFromArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.$6(a)||d.props.onChange(d.props.filter.value.concat(a))},d.$2=function(a){if(d.$6(a)){var c=d.props.filter.value;b("removeFromArray")(c,a);d.props.onChange(c.slice())}},d.$5=function(a){d.setState({isLoading:!0}),d.props.onQueryStringChange(a)},d.$4=function(){d.setState({isLoading:!1},function(){return d.props.onFoundEntriesChange([])})},d.$3=function(a){d.setState({isLoading:!1},function(){return d.props.onFoundEntriesChange(a)})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ProductSetCountsStore")]};c.calculateState=function(a,c){a=a||{isLoading:!0,counts:{}};var d={};if(c.filter.property!=="retailer_id"||c.vertical!==b("CatalogVertical").COMMERCE){var e;d=b("ProductSetCountsStore").getCounts(c.productCatalogID,b("AdsProductSetUtils").getFiltersForAPI(((e=c.filters)!=null?e:[]).filter(function(a){return a!==c.filter}),c.vertical,c.selectedCurrency),c.filter.property,c.globalLogicOperator,c.foundEntries.map(function(a){return a.getTitle()}))}return babelHelpers["extends"]({},a,{counts:d})};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var c=this;(a.filter!==this.props.filter||a.selectedCurrency!==this.props.selectedCurrency||a.vertical!==this.props.vertical)&&this.setState({isLoading:!b("AdsProductSetUtils").propertyHasStaticValues(a.filter.property)},function(){return c.props.onFoundEntriesChange([])})};d.render=function(){var a=this;return b("React").jsx(b("AdsProductSetFilterTokenizer.react"),{className:this.props.className,entries:this.props.filter.value,excludedEntries:this.props.filter.excludedValues,filter:this.props.filter,foundEntries:this.props.foundEntries.map(function(c){return new(b("SearchableEntry"))(babelHelpers["extends"]({},c.toPlainObject(),{auxiliaryData:babelHelpers["extends"]({count:a.state.counts[c.getTitle()]&&a.state.counts[c.getTitle()].getValue()},c.getAuxiliaryData())}))}),handleAddEntryAttempt:this.$1,handleRemoveEntryAttempt:this.$2,isLoading:this.state.isLoading,placeholder:this.props.placeholder,productCatalogID:this.props.productCatalogID,vertical:this.props.vertical,onEntriesFound:this.$3,onNoEntriesFound:this.$4,onQueryStringChange:this.$5})};d.$6=function(a){var b=a.getUniqueID();return this.props.filter.value.some(function(a){return a.getUniqueID()===b})};return c}(b("React").Component);var g=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={foundEntries:[]},c.$1=function(a){c.setState({foundEntries:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx(g,babelHelpers["extends"]({},this.state,this.props,{onFoundEntriesChange:this.$1}))};return c}(b("React").Component);e.exports=c}),null);
__d("CatalogContextTypes",["CatalogVertical","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;e.exports={vertical:a.oneOf(Object.values(b("CatalogVertical"))).isRequired,catalogID:a.string.isRequired,catalogSegmentType:a.string.isRequired,ownerID:a.string.isRequired,ownerType:a.string.isRequired,config:a.object.isRequired,qes:a.object.isRequired,visibilityManager:a.object.isRequired}}),null);
__d("AdsProductSetFilterInputs.react",["cx","fbt","AdsCurrencyInput_DEPRECATED.react","AdsGenericFilterFieldType","AdsIncrementalNumberInput.react","AdsNumberInput.react","AdsProductItemPropertySearchSource","AdsProductSetFilterInputType","AdsProductSetFilterTokenizerContainer.react","AdsProductSetUtils","BUIDatePicker.react","CatalogContextTypes","Currency","CurrencyConfig","FBLogger","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","React","ReactFragment","SUIBusinessTheme","SUISearchableSelector.react","cxMargin","getDynamicItemSetFieldConfig","mapObject"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=100,k=1e3,l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=function(a){var c=d.props,e=c.currency,f=c.roundOutput;c=c.onDataUpdate;a=a;e=b("Currency").getOffset(e);e>0&&(a=a/e*j);f?c(Math.round(a)):c(a)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this.props.value;a=a;if(a){var c=b("Currency").getOffset(this.props.currency);a=a/j*c}c=(c=this.props["data-testid"])!=null?c:"create_set_dialog_price_input";return b("React").jsx(b("AdsCurrencyInput_DEPRECATED.react"),babelHelpers["extends"]({},this.props,{"data-testid":c,value:a,onDataUpdate:this.$1}))};return a}(b("React").Component),m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){b.props.onChange({value:a})},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").jsx(b("FDSDropdownSelector.react"),{"data-testid":this.props["data-testid"],margin:"_3-8_ _3-99",maxHeight:250,maxWidth:this.props.maxWidth,placeholder:this.props.placeholder,value:this.props.value,onChange:this.$1,children:this.props.options})};return a}(b("React").Component);a=function(a){var c=b("getDynamicItemSetFieldConfig")(a.vertical),d=a.isCatalogSegment?b("AdsProductSetUtils").getCatalogSegmentSortedProperties(a.vertical):b("AdsProductSetUtils").getSortedProperties(a.vertical),e=a.previouslySelectedPropertiesAndCount;e&&(d=d.filter(function(b){var d;return b===a.property||((d=c[b])==null?void 0:d.maxUsageCount)==null||c[b].maxUsageCount>((d=e[b])!=null?d:0)}));d=d.map(function(a){return c[a]!==void 0?b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:c[a].text},a):void 0}).filter(function(a){return a});return b("React").jsx(m,{"data-testid":a["data-testid"],maxWidth:a.maxWidth,options:b("ReactFragment").create(d),placeholder:a.placeholder,value:(d=a.property)!=null?d:void 0,onChange:a.onProductItemPropertyChange})};c=function(a){var c=b("AdsProductSetUtils").getConfigForFilter(a.vertical,a.filter).field.type;if(c!==b("AdsGenericFilterFieldType").CURRENCY)return null;c=b("ReactFragment").create((i||(i=b("mapObject")))(b("CurrencyConfig").dynamicAdsCurrenciesByCode,function(a,c){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a.iso,children:h._("{currency code} - {currency name}",[h._param("currency code",a.iso),h._param("currency name",a.name)])},a.iso)}));return b("React").jsx(m,{maxWidth:a.maxWidth,options:c,value:a.selectedCurrency,onChange:a.onSelectedCurrencyChange})};d=function(a){var c=b("AdsProductSetUtils").getConfigForFilter(a.vertical,a.filter).operators||[];return b("React").jsx(m,{maxWidth:a.maxWidth,options:c.map(function(a){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a.operator,children:a.text},a.operator)}),value:a.filter.operator,onChange:a.onProductItemFilterOperatorChange})};var n=function(a){var c=a.filter,d=a.productCatalogID,e=a.vertical;e=b("AdsProductSetUtils").getConfigForFilter(e,c);var f=e.catalogItemType,g=e.limitItems||k;if(f==null)return null;d=b("AdsProductItemPropertySearchSource").getInstance(d,c.property,!1,f,void 0,g);return b("React").jsx(b("SUISearchableSelector.react"),{emptySearchResultsContent:h._("No matching results."),errorMessage:a.filter.error,placeholder:e.placeholder,searchSource:d,theme:b("SUIBusinessTheme"),value:a.value,width:444,onChange:a.onChangeSearchableSelectorTextInput})};f=function(a){__p&&__p();var c=b("AdsProductSetUtils").getConfigForFilter(a.vertical,a.filter),d=b("React").jsx(b("AdsProductSetFilterTokenizerContainer.react"),{className:"_5gre",filter:a.filter,filters:a.filters,globalLogicOperator:a.globalLogicOperator,placeholder:c.placeholder,productCatalogID:a.productCatalogID,selectedCurrency:a.selectedCurrency,vertical:a.vertical,onChange:a.onProductItemFilterTokenizedValueChange,onQueryStringChange:a.onQueryStringChange});switch(c.inputType){case b("AdsProductSetFilterInputType").MIXED_INPUT:if(b("AdsProductSetUtils").isTokenizable(a.filter,a.vertical))return d;else return b("React").jsx(b("AdsNumberInput.react"),{className:"_ev8",placeholder:c.placeholder,value:a.filter.value[0],onChange:a.onProductItemFilterNumericValueChange});case b("AdsProductSetFilterInputType").TOKENIZED_TEXT_INPUT:return d;case b("AdsProductSetFilterInputType").CURRENCY_INPUT:return b("React").jsx(l,{className:"_5grp",currency:a.selectedCurrency,eventType:"change",height:"tall",placeholder:h._("Amount in {currency type}",[h._param("currency type",a.selectedCurrency)]),value:a.filter.value[0],withNumberDelimiters:!0,xuiError:a.filter.error,onDataUpdate:a.onProductItemFilterNumericValueChange});case b("AdsProductSetFilterInputType").DATE_INPUT:d=b("AdsProductSetUtils").convertLongToUTCDate(a.filter.value[0]);return b("React").jsx(b("BUIDatePicker.react"),{height:"medium",theme:b("SUIBusinessTheme"),value:d,xuiError:a.filter.error,onChange:a.onProductItemFilterDateValueChange});case b("AdsProductSetFilterInputType").STAR_RATING_INPUT:d=c.values;return b("React").jsx(m,{options:(d||[]).map(function(a){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:h._("{numeric star rating} Star Rating",[h._param("numeric star rating",a)])},a)}),value:a.filter.value.length>0?a.filter.value[0]:null,onChange:a.onProductItemFilterStarRatingChange});case b("AdsProductSetFilterInputType").SEARCHABLE_SELECTOR_TEXT_INPUT:return b("React").jsx(n,{filter:a.filter,productCatalogID:a.productCatalogID,value:a.filter.value.length>0?a.filter.value[0]:null,vertical:a.vertical,onChangeSearchableSelectorTextInput:a.onChangeSearchableSelectorTextInput});case b("AdsProductSetFilterInputType").INTEGER_INPUT:d=-Infinity;var e=Infinity;c.values!=null&&c.values.length>0&&(d=c.values[0],e=c.values[c.values.length-1]);return b("React").jsx(b("AdsIncrementalNumberInput.react"),{arrowStyle:"dark",max:e,min:d,showDisabled:!0,value:a.filter.value.length>0?a.filter.value[0]:d,onChange:a.onProductItemFilterNumericValueChange});case b("AdsProductSetFilterInputType").NUMBER_INPUT:return b("React").jsx(b("AdsNumberInput.react"),{className:"_ev8",placeholder:c.placeholder,value:a.filter.value[0],onChange:a.onProductItemFilterNumericValueChange});default:b("FBLogger")("ads").mustfix("Unknown input type %s",c.inputType);return b("React").jsx("div",{})}};g=function(a,c){return(c=b("React")).jsx("div",{className:"_2ujy",children:h._("Match items for {any\/all selector} of the following rules:",[h._param("any/all selector",c.jsx(m,{options:[c.jsx(b("FDSDropdownSelectorOption.react"),{value:"and",children:h._("All")},"and"),c.jsx(b("FDSDropdownSelectorOption.react"),{value:"or",children:h._("At least one")},"or")],value:a.logicOperator,onChange:a.onGlobalLogicOperatorChange}))])})};g.contextTypes=b("CatalogContextTypes");e.exports={GlobalLogicOperatorSelector:g,PECurrencyInput:l,ProductItemPropertySelector:a,PriceFilterCurrencySelector:c,FilterOperatorSelector:d,FilterInput:f}}),null);
__d("AdsMessengerJSONFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ID:"id",RECEIPT_ID:"receipt_id",OWNER_ID:"owner_id",BUBBLE_TYPE:"messenger_commerce_bubble_type",ITEMS:"items",ITEM:"item",CURRENCY:"currency",TIMESTAMP:"timestamp",TIME_ZONE:"timezone",LONGITUDE:"longitude",LATITUDE:"latitude",IMAGE_ID:"image_id",IMAGE_URL:"image_url",IMAGE_WIDTH:"width",IMAGE_HEIGHT:"height",IMAGE_SCALE:"scale",IMAGE_HASH:"image_hash",PAYLOAD:"payload",DATA:"data",TYPE:"type",CONTENT_TYPE:"content_type",URI:"uri",URL:"url",NATIVE_URL:"native_url",UNIXTIME_MS:"unixtime_ms",LEGAL_TEXT:"legal_text",ATTACHMENT_TYPE:"attachment_type",ATTACHMENT:"attachment",ATTACHMENT_ID:"attachment_id",XMA:"xma",PAGE_ID:"page_id",ACTION:"action",COMMENTS:"comments",BODY:"body",ATTACHMENTS:"attachments",MESSAGE:"message",RECEIPT:"receipt",SHIPMENT:"shipment",CANCELLATION:"cancellation",SENDER:"sender",SENDER_NAME:"sender_name",RECIPIENT:"recipient",SHIPMENT_TRACKING_EVENT:"shipment_tracking_event",MESSAGE_ID:"message_id",PROMOTOTIONAL_MESSAGE_TYPE:"promotional_message_type",MID:"mid",SEQ:"seq",QUICK_REPLIES:"quick_replies",MESSAGE_REPLIES:"reply_to",TEMPLATE:"template",TEMPLATE_VERSION:"template_version",MESSAGE_DATA:"message_data",ACTION_URL:"action_url",BUTTON_TITLE:"button_title",ITEMS_WITH_CTAS:"items_with_ctas",TEMPLATE_TYPE:"template_type",SOURCE:"source",SHARABLE:"sharable",ELEMENTS:"elements",ELEMENT_ID:"id",ELEMENT_TITLE:"title",ELEMENT_ITEM_URL:"item_url",ELEMENT_IMAGE_ID:"image_id",ELEMENT_IMAGE_URL:"image_url",ELEMENT_OPEN_GRAPH_URL:"url",ELEMENT_SUBTITLE:"subtitle",ELEMENT_DEFATULT_ACTION:"default_action",ELEMENT_IMAGE_ASPECT_RATIO:"image_aspect_ratio",ELEMENT_BUTTONS:"buttons",ELEMENT_BUTTON_TITLE:"title",ELEMENT_BUTTON_URL:"url",ELEMENT_BUTTON_TYPE:"type",ELEMENT_BUTTON_PAYLOAD:"payload",ELEMENT_BUTTON_HEIGHT_RATIO:"webview_height_ratio",ELEMENT_BUTTON_GAME_METADATA:"game_metadata",ELEMENT_BUTTON_CAMERA_METADATA:"camera_metadata",ELEMENT_BUTTON_WEBVIEW_SHARE:"webview_share_button",ELEMENT_BUTTON_MESSENGER_EXTENSIONS:"messenger_extensions",ELEMENT_BUTTON_FALLBACK_URL:"fallback_url",ELEMENT_BUTTON_KIND:"kind",ELEMENT_BUTTON_NATIVE_URL:"native_url",ELEMENT_BUTTON_PAYMENT_SUMMARY:"payment_summary",ELEMENT_BUTTON_SHARE_CONTENTS:"share_contents",ELEMENT_BUTTON_SHARE_CONTENTS_ID:"share_contents_id",ELEMENT_BUTTON_ADS_LOGGING_TOKEN:"ads_logging_token",PAGE_FEEDBACK_QUESTION:"question",PAGE_FEEDBACK_PROMPT:"prompt",ELEMENT_LINK:"link",TOP_ELEMENT_STYLE:"top_element_style",ORDER_TIME:"order_time",ORDER_NUMBER:"order_number",ORDER_SUMMARY:"summary",ADDRESS:"address",STRUCTURED_ADDRESS:"structured_address",RECIPIENT_NAME:"recipient_name",ACCOUNT_HOLDER_NAME:"account_holder_name",ORDER_URL:"order_url",SHIPPING_COST:"shipping_cost",PAYMENT_METHOD:"payment_method",SHIPPING_METHOD:"shipping_method",SUBTOTAL:"subtotal",STATUS:"status",RAW_AMOUNT:"raw_amount",TOTAL_COST:"total_cost",TOTAL_TAX:"total_tax",EXPECTED_SHIP_DATE:"expected_ship_date",PARTNER_LOGO:"partner_logo",ADJUSTMENT_TYPE:"adjustment_type",ADJUSTMENT_AMOUNT:"adjustment_amount",DISPLAY_ADJUSTMENT_AMOUNT:"display_adjustment_amount",ADJUSTMENTS:"adjustments",ORDER_ADJUSTMENT_NAME:"name",ORDER_ADJUSTMENT_AMOUNT:"amount",STATUS_TYPE:"status_type",BUSINESS_ID:"business_id",SHIPMENT_ID:"shipment_id",USER_ID:"user_id",CARRIER:"carrier",SERVICE_TYPE:"service_type",TRACKING_NUMBER:"tracking_number",SHIP_DATE:"ship_date",DISPLAY_SHIP_DATE:"display_ship_date",WEIGHT_UNIT:"weight_unit",WEIGHT:"weight",TRACKING_EVENT_TYPE:"tracking_event_type",TRACKING_EVENT_LOCATION:"tracking_event_location",TRACKING_EVENT_DESCRIPTION:"tracking_event_description",TRACKING_EVENT_POLYLINE:"tracking_event_polyline",CARRIER_TRACKING_URL:"carrier_tracking_url",POSTAL_CODE:"postal_code",COUNTRY:"country",STATE:"state",CITY:"city",ORIGIN:"origin",DESTINATION:"destination",ESTIMATED_DELIVERY_TIME:"estimated_delivery_time",ESTIMATED_DELIVERY_DISPLAY_TIME:"estimated_delivery_display_time",DELAYED_DELIVERY_TIME:"delayed_delivery_time",DELAYED_DELIVERY_DISPLAY_TIME:"delayed_delivery_display_time",CARRIER_LOGO:"carrier_logo",STREET_1:"street_1",STREET_2:"street_2",DISPLAY_TIME:"display_time",CARRIER_INFO:"carrier_info",DELIVERED:"delivered",CANCELLATION_TIME:"cancellation_time",CANCELLATION_ID:"cancellation_id",CANCELLATION_FEE:"cancellation_fee",ORDER_ID:"order_id",REFUND_AMOUNT:"refund_amount",CANCELLATION_URL:"cancellation_url",NAME:"name",ITEM_ID:"item_id",DESCRIPTION:"desc",ITEM_URL:"item_url",THUMB_URL:"thumb_url",GENDER:"gender",PRICE:"price",QUANTITY:"quantity",METADATA:"metadata",BRAND:"brand",SIZE:"size",COLOR:"color",METALINES:"metalines",METALINE_1:"metaline_1",METALINE_2:"metaline_2",METALINE_3:"metaline_3",CALL_TO_ACTIONS:"call_to_actions",CALL_TO_ACTION:"call_to_action",NOTIFICATION_ID:"notification_id",NOTIFICATION_THUMB_URL:"notification_thumb_url",CATEGORY:"category",TITLE:"title",TEXT:"text",CAPTION:"caption",TRANSLATED_TITLE:"translated_title",UPDATE_ID:"update_id",UPDATE_FEE:"update_fee",UPDATE_TYPE:"update_type",UPDATED_TOTAL:"updated_total",UPDATED_TOTAL_TAX:"updated_total_tax",UPDATED_SUB_TOTAL:"updated_sub_total",UPDATED_SHIPPING_COST:"updated_shipping_cost",UPDATED_ADJUSTMENTS:"updated_adjustments",EMAIL:"email",MERCHANT_NAME:"merchant_name",PAYMENT_ID:"payment_id",PHONE:"phone",PRODUCT_CATEGORY:"product_category",TARGET_URL:"target_url",DISPLAY_TOTAL_COST:"display_total_cost",LINK_TARGET_IDS:"link_target_ids",ACTION_TYPE:"action_type",ACTION_LINK:"action_link",IS_MUTABLE_BY_SERVER:"is_mutable_by_server",HIGH_CONFIDENCE:"is_high_confidence",IS_DISABLED:"is_disabled",RENDER_STYLE:"render_style",NESTED_CTAS:"nested_ctas",WEBVIEW_METADATA:"webview_metadata",PRICE_ORIGINAL:"price_original",THREAD_KEY:"thread_key",OTHER_USER_FBID:"other_user_fbid",THREAD_FBID:"thread_fbid",STICKER_ID:"sticker_id",ACTOR_FBID:"actor_fbid",ATTACHMENT_FBID:"attachment_fbid",MESSAGE_SENDER:"message_sender",EXTENSIBLE_ATTACHMENT:"extensible_attachment",FIRST_NAME:"first_name",LAST_NAME:"last_name",PROFILE_PIC:"profile_pic",LOCALE:"locale",TIMEZONE:"timezone",CS_PUSH_TEXT:"cs_push_text",INSTANTGAME_METADATA:"instantgame_metadata",INSTANTGAME_GAMEID:"instantgame_gameid",INSTANTGAME_CONTEXT_TYPE:"instantgame_context_type",INSTANTGAME_CONTEXT_ID:"instantgame_context_id",INSTANTGAME_PAYLOAD:"instantgame_payload",INSTANTGAME_HEIGHT:"instantgame_height",INTANT_GAMES_DEVELOPER_TEMPLATE:"instant_games_developer_template",SHOULD_SHOW_USER_CONFIRMATION:"should_show_user_confirmation",CONFIRMATION_TITLE:"confirmation_title",CONFIRMATION_MESSAGE:"confirmation_message",CONFIRMATION_CONTINUE_LABEL:"confirmation_continue_label",CONFIRMATION_CANCEL_LABEL:"confirmation_cancel_label",LOGGING_TOKEN:"logging_token",PAYMENT_PROVIDER_TYPE:"provider_type",IS_PAYMENT_ENABLED:"is_payment_enabled",IS_TEST_PAYMENT:"is_test_payment",PAYMENT:"payment",PAYMENT_AMOUNT:"amount",PAYMENT_CHECKOUT_UPDATE:"checkout_update",PAYMENT_CTA_ID:"payment_cta_id",PAYMENT_MESSAGE_ID:"message_id",PAYMENT_CURRENCY:"currency",PAYMENT_ITEM_IMAGE_URL:"item_image_url",PAYMENT_ITEM_PRICE:"price",PAYMENT_ITEM_SUBTITLE:"subtitle",PAYMENT_ITEM_TITLE:"title",PAYMENT_MERCHANT_NAME:"merchant_name",PAYMENT_METADATA:"payment_metadata",PAYMENT_MODULE_CONFIG:"payment_module_config",PAYMENT_OPTION_ID:"option_id",PAYMENT_OPTION_TITLE:"option_title",PAYMENT_OPTIONS:"options",PAYMENT_PRICE_AMOUNT:"amount",PAYMENT_PRICE_LABEL:"label",PAYMENT_PRICE_LIST:"price_list",PAYMENT_REQUESTED_USER_INFO:"requested_user_info",PAYMENT_TYPE:"payment_type",PAYMENT_USER_DATA_TYPE:"type",PAYMENT_CARD_TYPE:"card_type",PAYMENT_LAST_FOUR_DIGITS:"last_four_digits",TOTAL_PRICE:"total_price",ZIP_CODE:"zip_code",PRE_CHECKOUT:"pre_checkout",CONTENT_ID:"content_id",SOURCE_ID:"source_id",EFFECT_CALL_TO_ACTIONS:"effect_call_to_actions",EFFECT_ID:"effect_id",TOPIC_PROFILE_PICTURE:"profile_picture",TOPIC_DESCRIPTION:"description",TOPIC_CATEGORY:"category",TOPIC_TYPE:"type",TOPIC_ID:"topic_id",PAYMENT_SHIPPING_OPTION_ID:"shipping_option_id",PAYMENT_FINAL_AMOUNT:"amount",PAYMENT_CREDENTIAL:"payment_credential",PAYMENT_SHIPPING_OPTIONS:"shipping",FB_PAYMENT_ID:"fb_payment_id",TOKENIZED_CARD:"tokenized_card",TOKEN:"token",PERSISTENT:"persistent",SCOPED_AMOUNT:"scoped_amount",CHARGE_ID:"charge_id",TOKENIZED_CVV:"tokenized_cvv",TOKEN_EXPIRY_MONTH:"token_expiry_month",TOKEN_EXPIRY_YEAR:"token_expiry_year",CRYPTOGRAM:"cryptogram",APPOINTMENT:"appointment",APPOINTMENT_ID:"appointment_id",START_DATE:"start_date",REQUEST_TIME:"requested_time",START_TIME:"start_time",END_TIME:"end_time",USER:"user",REFERRAL:"referral",REF:"ref",ADGROUP_ID:"ad_id",LAST_AD_REFERRAL:"last_ad_referral",EXTENSION_DATA:"extension_data",MEDIA_TYPE:"media_type",TID:"tid",GLOBAL_TID:"global_tid",ORIGIN_DOMAIN:"origin_domain",REFERER_URI:"referer_uri",USER_REF:"user_ref",FORM_URL:"form_url"})}),null);
__d("AdsMessengerWelcomeMessageFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE_FORMAT:"image_format",INTRO_TEXT:"intro_text",LANDING_SCREEN_TYPE:"landing_screen_type",MEDIA_TYPE:"media_type",MESSAGE:"message",TEMPLATE_ID:"template_id",CTM_LEAD_GEN_TEMPLATE_ID:"ctm_lead_gen_template_id",TEXT_FORMAT:"text_format",TYPE:"type",USER_EDIT:"user_edit",VERSION:"version",VIDEO_FORMAT:"video_format",SURFACE:"surface",AUDIENCE:"audience",ICE_BREAKERS:"ice_breakers",QUICK_REPLIES:"quick_replies",CUSTOMER_ACTION_TYPE:"customer_action_type",DISABLE_WELCOME_MESSAGE_SENDS:"disable_welcome_message_sends",IS_VISIBLE:"is_visible",TEMPLATE_VERSION:"template_version",MESSAGE_DATA:"message_data",RECEIVING_APP_ID:"receiving_app_id"})}),null);
__d("AdsMessengerJSONPaths",["AdsMessengerJSONFields","AdsMessengerWelcomeMessageFields","generatePaths"],(function(a,b,c,d,e,f){"use strict";c=[{pathKeys:[],expandsTo:b("AdsMessengerWelcomeMessageFields")},{pathKeys:["MESSAGE"],expandsTo:{ATTACHMENT:"attachment",QUICK_REPLIES:"quick_replies",TEXT:"text"}},{pathKeys:["TEXT_FORMAT"],expandsTo:{CUSTOMER_ACTION_TYPE:"customer_action_type",MESSAGE:"message"}},{pathKeys:["IMAGE_FORMAT"],expandsTo:{CUSTOMER_ACTION_TYPE:"customer_action_type",MESSAGE:"message"}},{pathKeys:["VIDEO_FORMAT"],expandsTo:{CUSTOMER_ACTION_TYPE:"customer_action_type",MESSAGE:"message"}},{pathKeys:["MESSAGE","ATTACHMENT"],expandsTo:{PAYLOAD:"payload",TYPE:"type"}},{pathKeys:["TEXT_FORMAT","MESSAGE"],expandsTo:{ATTACHMENT:"attachment",QUICK_REPLIES:"quick_replies",TEXT:"text",SECOND_TEXT:"second_text",ICE_BREAKERS:"ice_breakers"}},{pathKeys:["IMAGE_FORMAT","MESSAGE"],expandsTo:{ATTACHMENT:"attachment",QUICK_REPLIES:"quick_replies",TEXT:"text"}},{pathKeys:["VIDEO_FORMAT","MESSAGE"],expandsTo:{ATTACHMENT:"attachment",QUICK_REPLIES:"quick_replies",TEXT:"text"}},{pathKeys:["MESSAGE","ATTACHMENT","PAYLOAD"],expandsTo:a=b("AdsMessengerJSONFields")},{pathKeys:["TEXT_FORMAT","MESSAGE","ATTACHMENT"],expandsTo:{PAYLOAD:"payload",TYPE:"type"}},{pathKeys:["IMAGE_FORMAT","MESSAGE","ATTACHMENT"],expandsTo:{PAYLOAD:"payload",TYPE:"type"}},{pathKeys:["VIDEO_FORMAT","MESSAGE","ATTACHMENT"],expandsTo:{PAYLOAD:"payload",TYPE:"type"}},{pathKeys:["TEXT_FORMAT","MESSAGE","ATTACHMENT","PAYLOAD"],expandsTo:a},{pathKeys:["IMAGE_FORMAT","MESSAGE","ATTACHMENT","PAYLOAD"],expandsTo:a},{pathKeys:["VIDEO_FORMAT","MESSAGE","ATTACHMENT","PAYLOAD"],expandsTo:a}];d=b("generatePaths")(c);e.exports=d}),null);
__d("AdsReachFrequencyRestrictedFormatTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({UNSPECIFIED:null,VIDEO:null,CANVAS:null,VIDEO_360:null,PHOTO_360:null,STORIES_CAROUSEL:null});e.exports={RestrictedFormats:a}}),null);
__d("AdsCrStAdgroupConstants",[],(function(a,b,c,d,e,f){"use strict";a={FIXED_ADGROUP_ID:"FIXED_ADGROUP_ID"};e.exports=a}),null);
__d("CrStConstants",["fbt","AdsCrStAdgroupConstants"],(function(a,b,c,d,e,f,g){"use strict";a={FIXED_CAMPAIGN_GROUP_ID:"CAMPAIGN_GROUP",FIXED_CAMPAIGN_ID:"CAMPAIGN",FIXED_ADGROUP_ID:b("AdsCrStAdgroupConstants").FIXED_ADGROUP_ID,DEFAULT_PAGE_NAME_FBT:g._("Test Page"),DEFAULT_CREATIVE_NAME_FBT:g._("Untitled"),DEFAULT_PROJECT_NAME_FBT:g._("Untitled Project"),HIGHLIGHT_NEW_CONTENT_DURATION:1e3*60*60*24*30,DEFAULT_CR_ST_PROJECT_NAME_FBT:g._("Private"),SPLIT_TEST_BUDGET_IN_USD:400,SPLIT_TEST_DURATION_IN_DAYS:3,SPLIT_TEST_MAX_MOCKUPS:5,SPLIT_TEST_CAMPAIGN_GROUP_ID:"SPLIT_TEST_CAMPAIGN_GROUP"};e.exports=a}),null);
__d("AdsCPBUtils",["AdsAPICampaignPaths","AdsAPIObjectives","AdsAPITargetFields","AdsPlacementAPISpecReaderUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform;function h(a,c){return a!==b("AdsAPIObjectives").VIDEO_VIEWS&&g((a={},a[b("AdsAPITargetFields").PUBLISHER_PLATFORMS]=c,a),"audience_network")}a={isCPBCampaign:function(a,c){c=a.objective;a=a.getIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_PLATFORMS,b("immutable").List()).toJS();return h(c,a)},someAreCPBCampaigns:function(a){return a.some(function(a){var b=a.objective;if(!a.spec)return!1;a=a.spec.publisher_platforms;return a&&h(b,a)})}};e.exports=a}),null);
__d("AdsSimpleTipTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AD_CREATION_ADLEVEL_FORMAT_SECTION:null,AD_RECIPES_DABA_UPSELL_BUDGET_SECTION:null,AD_RECIPES_DABA_UPSELL_DABA_RADIO_BTN:null,AD_RECIPES_DABA_UPSELL_INTERSTITIAL:null,AD_RECIPES_DABA_UPSELL_PRODUCT_SET:null,OCPM:null,INSTAGRAM_PLACEMENT:null,EXPAND_RETENTION_FOR_OCPM:null,UPGRADE_PROSPECTING:null,CREATE_DYNAMIC_WSC_ADGROUP_CAROUSEL:null,CREATE_DYNAMIC_WSC_ADGROUP_CREATIVE:null,CREATE_DYNAMIC_MAI_CAMPAIGN_PRODUCT_CATALOG:null,CREATE_DYNAMIC_MAI_CAMPAIGN_DYNAMIC_AUDIENCE:null,DCO_ADGROUP_TOUR:null,DYNAMIC_ADS_UPSELL_ADGROUP:null,DYNAMIC_ADS_UPSELL_ADGROUP_NEW:null,DYNAMIC_ADS_UPSELL_ADGROUP_PREVIEW_V2:null,DYNAMIC_ADS_UPSELL_ADGROUP_TOKEN_SELECTOR:null,DYNAMIC_ADS_UPSELL_CAMPAIGN:null,DYNAMIC_ADS_UPSELL_CAMPAIGN_NAVIGATION_SECTION:null,DYNAMIC_ADS_UPSELL_CAMPAIGN_PRODUCT_CATALOG_SELECTOR:null,DYNAMIC_ADS_UPSELL_CAMPAIGN_DESTINATION_RADIO_LIST:null,DYNAMIC_ADS_UPSELL_CAMPAIGN_MARKETPLACE_CATALOG_SELECTOR:null,DYNAMIC_CATEGORY_ADS_GUIDANCE_TOUR:null,TRAVEL_EXPAND_RETENTION:null});e.exports=a}),null);
__d("AdsAdgroupLiveListDataManager",["AdsAdgroupListBatchLoadedDataAction","AdsAdgroupListBatchLoadErrorDataAction","AdsBaseListDataManager","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterSet","AdsGraphAPI","GraphAPIPaging","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["id","name"],h=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadForCampaigns=function(a,b){var c="adset.id";c=this.$AdsAdgroupLiveListDataManagerClass1(c,b);c=c.toAPI();var d=this.__getExtraParams();if(d){d=this.$AdsAdgroupLiveListDataManagerClass1(d.filterField,d.filterValues);c=c.concat(d.toAPI())}this.$AdsAdgroupLiveListDataManagerClass2(a,{filtering:c},"adset_id",b)};d.loadForCampaignGroups=function(a,b){var c="campaign.id";c=this.$AdsAdgroupLiveListDataManagerClass1(c,b);this.$AdsAdgroupLiveListDataManagerClass2(a,{filtering:c.toAPI()},"campaign_id",b)};d.loadForAccount=function(a){this.$AdsAdgroupLiveListDataManagerClass2(a,{},"account_id",[a])};d.__getExtraParams=function(){return null};d.$AdsAdgroupLiveListDataManagerClass1=function(a,c){return new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))(a,b("AdsGenericFilterFieldType").STRING_SET),"IN",c)])};d.$AdsAdgroupLiveListDataManagerClass2=function(a,c,d,f){__p&&__p();var i=this,j=g.concat([d]);d==="campaign_id"&&(j=j.concat(["adset_id"]));b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("ads").batched().get(babelHelpers["extends"]({date_format:"U",fields:j,limit:h,summary:!0},c)).then(b("GraphAPIPaging").allPages()),function(a){var b=new Map();a.data.forEach(function(a){var c=a[d];b.has(c)||b.set(c,[]);c=b.get(c);c&&c.push(a)});f.forEach(function(a){i.__handleSuccess(["load"],a,null,b.get(a)||[])})},function(a){f.forEach(function(b){i.__handleError(["load"],b,null,a)})})};d.__onBatchLoaded=function(a){b("AdsAdgroupListBatchLoadedDataAction").dispatch({responses:a},{line:"164",module:"AdsAdgroupLiveListDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsAdgroupListBatchLoadErrorDataAction").dispatch({responses:a},{line:"168",module:"AdsAdgroupLiveListDataManager.js"})};return c}(b("AdsBaseListDataManager"));e.exports={AdsAdgroupLiveListDataManagerClass:a,AdsAdgroupLiveListDataManager:new a()}}),null);
__d("AdsCampaignLiveListDataManager",["AdsBaseListDataManager","AdsCampaignListBatchLoadedAction","AdsCampaignListBatchLoadErrorAction","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterSet","AdsGraphAPI","GraphAPIPaging","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["id","name"],h=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadForCampaignGroups=function(a,b){var c="campaign.id";c=this.$AdsCampaignLiveListDataManager1(c,b);this.$AdsCampaignLiveListDataManager2(a,{filtering:c.toAPI()},"campaign_id",b)};d.loadForAccount=function(a){this.$AdsCampaignLiveListDataManager2(a,{},"account_id",[a])};d.$AdsCampaignLiveListDataManager1=function(a,c){return new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))(a,b("AdsGenericFilterFieldType").STRING_SET),"IN",c)])};d.$AdsCampaignLiveListDataManager2=function(a,c,d,f){__p&&__p();var i=this,j=g.concat([d]);b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("adsets").batched().get(babelHelpers["extends"]({date_format:"U",fields:j,limit:h},c)).then(b("GraphAPIPaging").allPages()),function(a){var b=new Map();a.data.forEach(function(a){var c=a[d];b.has(c)||b.set(c,[]);c=b.get(c);c&&c.push(a)});f.forEach(function(a){i.__handleSuccess(["load"],a,null,b.get(a)||[])})},function(a){f.forEach(function(b){i.__handleError(["load"],b,null,a)})})};d.__onBatchLoaded=function(a){b("AdsCampaignListBatchLoadedAction").dispatch({responses:a},{line:"130",module:"AdsCampaignLiveListDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsCampaignListBatchLoadErrorAction").dispatch({responses:a},{line:"134",module:"AdsCampaignLiveListDataManager.js"})};return c}(b("AdsBaseListDataManager"));e.exports=new a()}),null);
__d("AssetLibraryAPIUtils.brands",["BizSiteIdentifier.brands"],(function(a,b,c,d,e,f){"use strict";a={getTagFieldsForAudiences:function(){var a=[];if(b("BizSiteIdentifier.brands").isBizSite()){var c=b("BizSiteIdentifier.brands").getBusinessID();c&&a.push("business_object_tags.business_id("+c+").fields(name)")}return a}};e.exports=a}),null);
__d("AdsAPIAssetLibraryFilteringFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUSINESS_TAG_ID:"business_tag_id",BUSINESS_SMART_FOLDER:"business_smart_folder"})}),null);
__d("AssetLibrarySearchUtils.brands",["cx","AdsAPIAssetLibraryFilteringFields","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperatorConfig","AdsGenericFilterSet","AssetLibraryAppConstants.brands","SearchableEntry"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AssetLibraryAppConstants.brands").SEARCH_RESULT_TYPES;a={getFilterSetForTag:function(a){return a===""||!a?null:new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))("business_tag_id",b("AdsGenericFilterFieldType").NUMBER),b("AdsGenericFilterOperatorConfig").EQUAL.operator,a)])},getFilterSetForSmartFolder:function(a){return new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))(a.field,b("AdsGenericFilterFieldType").STRING),a.operator,a.value)])},getAssetLibraryFilteringParams:function(a){var b=this;if(!a)return[];a=a.toAPI();var c=[];a.forEach(function(a){a=b._getFilteringParam(a);a&&c.push(a)});return c},getSearchableEntryFromTag:function(a){return new(b("SearchableEntry"))({type:h.TAG,auxiliaryData:{iconClass:"_11_6"},uniqueID:a.id,title:a.name,keywordString:a.name})},_getFilteringParam:function(a){var c=Object.values(b("AdsAPIAssetLibraryFilteringFields"));return c.indexOf(a.field)>-1?{field:a.field,operator:a.operator,value:a.value}:null}};e.exports=a}),null);
__d("AdsImageListDataManager",["Promise","AdsGraphAPI","AdsImageDataManagerFields","AdsImageListLoadedDataAction","AdsImageLoadImagesErrorDataAction","AssetLibraryAPIUtils.brands","AssetLibrarySearchUtils.brands","BizSiteIdentifier.brands","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=25;a=function(){__p&&__p();function a(){}var c=a.prototype;c.load=function(a){var c=a.accountID,d=a.sortBy,f=a.query,h=a.filterSet;h=h?b("AssetLibrarySearchUtils.brands").getAssetLibraryFilteringParams(h):null;var i=Object.keys(b("AdsImageDataManagerFields")).concat(b("AssetLibraryAPIUtils.brands").getTagFieldsForAudiences());i={date_format:"U",fields:i,limit:g,sort:d,name:f,filtering:h,business_id:b("BizSiteIdentifier.brands").getBusinessID()};b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(c).edge("adimages").batched().get(i),function(c){return b("AdsImageListLoadedDataAction").dispatch({images:c.data,imageListRecord:a,loadNextPage:c.next},{line:"57",module:"AdsImageListDataManager.js"})},function(a){return b("AdsImageLoadImagesErrorDataAction").dispatch({error:a},{line:"63",module:"AdsImageListDataManager.js"})})};c.loadNextPage=function(a,c){c().then(function(c){return b("AdsImageListLoadedDataAction").dispatch({images:c.data,imageListRecord:a,loadNextPage:c.next},{line:"74",module:"AdsImageListDataManager.js"})})};c.deleteChild=function(a,c,d){return new(b("Promise"))(function(f,g){b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("adimages").batched().remove({hash:c}),function(a){return f(a)},function(a){var b=a.error_user_msg||a.message;d&&d(b);g(a)})})};c.deleteCreative=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("adcreative",a).batched().remove(),function(a){return c(a)},function(a){return d(a)})})};return a}();e.exports=new a()}),null);
__d("AdsInstagramUsernameDataManager",["AdsBaseDataManager","AdsGraphAPI","AdsInstagramAccountUsernameLoadedDataAction","AdsInstagramAccountUsernameLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("instagram_object",a).batched().get({fields:["has_profile_picture","id","id_v2","is_authorized_for_political_ads","is_private","is_published","profile_pic","username"]}),function(b){return c.__handleSuccess(["load"],a,null,b)},function(b){return c.__handleError(["load"],a,null,b)})};d.__onBatchLoaded=function(a){b("AdsInstagramAccountUsernameLoadedDataAction").dispatch({specs:a},{line:"48",module:"AdsInstagramUsernameDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramAccountUsernameLoadErrorDataAction").dispatch({errors:a},{line:"52",module:"AdsInstagramUsernameDataManager.js"})};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsProductItemDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsProductItemBatchLoadedDataAction","AdsProductItemBatchLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["additional_image_urls.sanitize(true)","retailer_id","age_group","applinks","availability","brand","category","color","condition","currency","description","expiration_date","gender","gtin","has_main_image_fetched","id","image_url.sanitize(true)","retailer_product_group_id","material","manufacturer_part_number","name","pattern","price","product_type","retailer_id_status","sale_price","sale_price_start_date","sale_price_end_date","shipping_weight_value","shipping_weight_unit","size","start_date","url","product_feed.fields(id)","dynamic_item_offer.fields(raw_address_data,availability_radius,availability_area)","custom_label_0","custom_label_1","custom_label_2","custom_label_3","custom_label_4","da_display_preview_url.format(carousel_ad)","video_ids","visibility"];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_item",a).batched().get({fields:h}),this.__handleSuccess.bind(this,["load"],a,null),this.__handleError.bind(this,["load"],a,null))};d.__onBatchLoaded=function(a){b("AdsProductItemBatchLoadedDataAction").dispatch({products:a},{line:"92",module:"AdsProductItemDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsProductItemBatchLoadErrorDataAction").dispatch({errors:a},{line:"96",module:"AdsProductItemDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Product Item")};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsAccountInsightsStore",["AdsAccountDataDispatcher","AdsAccountLastThirtyDaysSpendLoadedDataActionFlux","AdsAccountLastThirtyDaysSpendLoadErrorDataActionFlux","AdsAccountStore","AdsAccountTodaySpendLoadedDataActionFlux","AdsAccountTodaySpendLoadErrorDataActionFlux","AdsDataAtom","FluxStore","LoadObject","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("AdsDataAtom"))||this;c.getTodaySpend=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(c),b("AdsAccountStore")],function(){var a=b("AdsAccountStore").getSelectedAccountID();a&&c.$AdsAccountInsightsStoreClass2.isEmpty()&&(b("AdsAccountDataDispatcher").loadTodaySpend(a,b("AdsAccountStore").getTimezoneID()),c.$AdsAccountInsightsStoreClass2=b("LoadObject").loading());return c.$AdsAccountInsightsStoreClass2},e.id);c.getLastThirtyDaysSpend=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(c),b("AdsAccountStore")],function(){var a=b("AdsAccountStore").getSelectedAccountID();a&&c.$AdsAccountInsightsStoreClass1.isEmpty()&&(b("AdsAccountDataDispatcher").loadLastThirtyDaysSpend(a,b("AdsAccountStore").getTimezoneID()),c.$AdsAccountInsightsStoreClass1=b("LoadObject").loading());return c.$AdsAccountInsightsStoreClass1},e.id);c.$AdsAccountInsightsStoreClass1=b("LoadObject").empty();c.$AdsAccountInsightsStoreClass2=b("LoadObject").empty();return c}var d=c.prototype;d.__getActionTypes=function(){return[b("AdsAccountLastThirtyDaysSpendLoadErrorDataActionFlux").actionType,b("AdsAccountLastThirtyDaysSpendLoadedDataActionFlux").actionType,b("AdsAccountTodaySpendLoadErrorDataActionFlux").actionType,b("AdsAccountTodaySpendLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();a=a.action;var c=a.data,d=!1;switch(a.actionType){case b("AdsAccountTodaySpendLoadedDataActionFlux").actionType:a=c.data&&c.data[0]?c.data[0].spend:0;this.$AdsAccountInsightsStoreClass2=b("LoadObject").withValue(a);d=!0;break;case b("AdsAccountTodaySpendLoadErrorDataActionFlux").actionType:this.$AdsAccountInsightsStoreClass2=b("LoadObject").withError(c.error);d=!0;break;case b("AdsAccountLastThirtyDaysSpendLoadedDataActionFlux").actionType:a=c.data&&c.data[0]?c.data[0].spend:0;this.$AdsAccountInsightsStoreClass1=b("LoadObject").withValue(a);d=!0;break;case b("AdsAccountLastThirtyDaysSpendLoadErrorDataActionFlux").actionType:this.$AdsAccountInsightsStoreClass1=b("LoadObject").withError(c.error);d=!0;break}d&&g.__emitChange()};return c}(b("FluxStore"));a.__moduleID=e.id;var g=new a();e.exports=g}),null);
__d("AdsAdgroupCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsAdgroupCombinedStore;e.exports=a}),null);
__d("AdsAdgroupLiveListStore",["AdsAdgroupListBatchLoadedDataActionFlux","AdsAdgroupListBatchLoadErrorDataActionFlux","AdsAdgroupListLoadErrorDataActionFlux","AdsAdgroupLiveListDataManager","AdsBaseListStore","AdsCreatePublishedFromCreationActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsLoadState_LEGACY","AdsPEExportDataPreloadedActionFlux","adsDraftGetIDsToInvalidateAfterPublish","adsDraftIsApplicationIDPowerEditor","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupLiveListDataManager").AdsAdgroupLiveListDataManager;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return g};d.getForCampaigns=function(a,b){var c=this,d=this.__updateLoadingFor(b);d.length>0&&g.loadForCampaigns(a,d);var e=new Map();b.forEach(function(a){e.set(a,c.getCachedFor(a))});return e};d.getForCampaign=function(a,b){return this.getForCampaigns(a,[b]).get(b)};d.getForCampaignGroups=function(a,b){var c=this,d=this.__updateLoadingFor(b);d.length>0&&g.loadForCampaignGroups(a,b);var e=new Map();b.forEach(function(a){e.set(a,c.getCachedFor(a))});return e};d.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};d.getForAccount=function(a){var b=this.__updateLoadingFor([a]);b.length===1&&g.loadForAccount(a);return this.getCachedFor(a)};d.__getActionTypes=function(){return[b("AdsAdgroupListBatchLoadErrorDataActionFlux").actionType,b("AdsAdgroupListBatchLoadedDataActionFlux").actionType,b("AdsAdgroupListLoadErrorDataActionFlux").actionType,b("AdsCreatePublishedFromCreationActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsPEExportDataPreloadedActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();var c=this;a=a.action;if(!b("adsDraftIsApplicationIDPowerEditor")(a.adsApplicationID))return;switch(a.actionType){case b("AdsAdgroupListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)});break;case b("AdsAdgroupListBatchLoadErrorDataActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,null,b("AdsLoadState_LEGACY").ERROR)});break;case b("AdsAdgroupListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.campaignID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsPEExportDataPreloadedActionFlux").actionType:this.$AdsAdgroupLiveListStore1(a.childMap.adgroup);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsAdgroupLiveListStore2(a.publishedObjectIDs);break;case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:var d=b("adsDraftGetIDsToInvalidateAfterPublish")(a);this.$AdsAdgroupLiveListStore2(d);break;case b("AdsCreatePublishedFromCreationActionFlux").actionType:this.$AdsAdgroupLiveListStore3(a.data.publishedObjectIDs);break}};d.getSortKey=function(){return"name"};d.compare=function(a,c){return b("naturalComparator")(a,c)};d.$AdsAdgroupLiveListStore2=function(a){var b=this;if(!a)this.__invalidateEntireCache()&&this.__emitChange();else{a=a.map(function(a){return b.__invalidate(a)});a.some(function(a){return a})&&this.__emitChange()}};d.$AdsAdgroupLiveListStore1=function(a){var c=this;a.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)})};d.$AdsAdgroupLiveListStore3=function(a){var b=this;a.ad_set.forEach(function(a){return b.__invalidate(a)});a.campaign.forEach(function(a){return b.__invalidate(a)})};return c}(b("AdsBaseListStore"));e.exports=new a()}),null);
__d("AdsBaseCombinedListStore",["AdsBaseListStore","AdsDataAtom","FluxDerivedStore","abstractMethod","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.$AdsBaseCombinedListStore1=function(b){var c=this;b=a.prototype.getAll.call(this,b);var d=new Map();b.forEach(function(a,b){b=c.$AdsBaseCombinedListStore2(b);b=b.parentID;d.set(b,a)});return d};c.getLoadingList=function(){return b("AdsBaseListStore").getLoadingList()};c.__getAllCached=function(a){return b("abstractMethod")("__getAllCached","AdsBaseCombinedListStore")};c.__getLiveList=function(a,c,d){return b("abstractMethod")("__getLiveList","AdsBaseCombinedListStore")};c.__getAllDraftIDsForAccount=function(a){return b("abstractMethod")("__getAllDraftIDsForAccount","AdsBaseCombinedListStore")};c.__getParentIDForDraftChild=function(a,c){return b("abstractMethod")("__getParentIDForDraftChild","AdsBaseCombinedListStore")};c.__startLoadingDataFor=function(a,b,c){};c.__getFor=function(a,b,c){return this.get(this.$AdsBaseCombinedListStore3(a,b,c))};c.__getForAll=function(a,b,c){var d=this,e=c.map(function(c){return d.$AdsBaseCombinedListStore3(a,b,c)});this.__startLoadingDataFor(a,b,c);return this.$AdsBaseCombinedListStore1(e)};c.__computeResult=function(a,b){return b};c.__getData=function(a){__p&&__p();var b=this;a=this.$AdsBaseCombinedListStore2(a);var c=a.accountID,d=a.parentType,e=a.parentID;a=this.__getAllDraftIDsForAccount(c);c=this.__getLiveList(c,d,e);a=a.filter(function(a){return b.__getParentIDForDraftChild(a,d)===e});if(a.size===0)return c;else{var f=c.loadState;a=a.toArray().concat(c.list);return{loadState:f,list:a}}};c.__areEqual=function(a,c){return a.loadState===c.loadState&&b("shallowArrayEqual")(a.list,c.list)};c.$AdsBaseCombinedListStore3=function(a,b,c){return[a,b,c].join(":")};c.$AdsBaseCombinedListStore2=function(a){a=a.split(":");var b=a[0],c=a[1];a=a[2];c=c;return{accountID:b,parentType:c,parentID:a}};function d(){return a.call(this,b("AdsDataAtom"))||this}return d}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("AdsAdgroupCombinedListStore",["invariant","AdsAdgroupCombinedStore","AdsAdgroupDraftFragmentStore","AdsAdgroupLiveListStore","AdsBaseCombinedListStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupDraftFragmentStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={loadState:b("AdsLoadState_LEGACY").LOADED,list:[]};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getForCampaignsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a){var b=a[0];a=a[1];return d.getForCampaigns(b,a)}),d.getAdgroupIDsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(c,e){var f=[];c=a.prototype.__getForAll.call(babelHelpers.assertThisInitialized(d),c,"campaign",[e]);Array.from(c.values()).forEach(function(a){b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&f.push.apply(f,a.list)});return f}),d.getForCampaignGroupsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getForCampaignGroups.bind(babelHelpers.assertThisInitialized(d))),d.getCampaignIDForDraftAdgroupSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a){return d.__getParentIDForDraftChild(a,"campaign")}),d.getCampaignGroupIDForDraftAdgroupSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a){return d.__getParentIDForDraftChild(a,"campaignGroup")}),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getForCampaigns=function(b,c){return a.prototype.__getForAll.call(this,b,"campaign",c)};d.getForCampaign=function(a,b){return this.getForCampaigns(a,[b]).get(b)};d.getForCampaignGroups=function(b,c){return a.prototype.__getForAll.call(this,b,"campaignGroup",c)};d.getForAccount=function(b){return a.prototype.__getFor.call(this,b,"account",b)};d.__getAllDraftIDsForAccount=function(a){return b("AdsAdgroupDraftFragmentStore").getNewIDsFor(a)};d.__getLiveList=function(a,c,d){switch(c){case"account":return b("AdsAdgroupLiveListStore").getForAccount(a);case"campaign":c=d;return b("AdsCampaignDraftFragmentStore").isNew(c)?h:b("AdsAdgroupLiveListStore").getForCampaign(a,c);case"campaignGroup":c=d;return b("AdsCampaignGroupDraftFragmentStore").isNew(c)?h:b("AdsAdgroupLiveListStore").getForCampaignGroup(a,c);default:g(0,620)}};d.__getParentIDForDraftChild=function(a,c){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").getCached(a).getValue();if(!a)return null;switch(c){case"account":return a.account_id;case"campaign":return a.adset_id;case"campaignGroup":return a.campaign_id;default:g(0,620)}};d.__startLoadingDataFor=function(a,c,d){__p&&__p();if(c==="campaign"){var e=d.filter(function(a){return!b("AdsCampaignDraftFragmentStore").isNew(a)});b("AdsAdgroupLiveListStore").getForCampaigns(a,e)}else if(c==="campaignGroup"){e=d.filter(function(a){return!b("AdsCampaignGroupDraftFragmentStore").isNew(a)});b("AdsAdgroupLiveListStore").getForCampaignGroups(a,e)}};d.__getStores=function(){return[b("AdsAdgroupCombinedStore"),b("AdsAdgroupDraftFragmentStore"),b("AdsAdgroupLiveListStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignGroupDraftFragmentStore")]};return c}(b("AdsBaseCombinedListStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsCampaignLiveListStore",["AdsBaseListStore","AdsCampaignListBatchLoadedActionFlux","AdsCampaignListBatchLoadErrorActionFlux","AdsCampaignLiveListDataManager","AdsCreatePublishedFromCreationActionFlux","AdsDraftDraftAndFragmentLoadedDataActionFlux","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchDeletedDataActionFlux","AdsDraftDraftSetCurrentDraftSuccessDataActionFlux","AdsLoadState_LEGACY","AdsPEExportDataPreloadedActionFlux","adsDraftGetIDsToInvalidateAfterPublish","adsDraftIsApplicationIDPowerEditor","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsCampaignLiveListDataManager")};d.getForCampaignGroups=function(a,c){var d=this,e=this.__updateLoadingFor(c);e.length>0&&b("AdsCampaignLiveListDataManager").loadForCampaignGroups(a,e);var f=new Map();c.forEach(function(a){f.set(a,d.getCachedFor(a))});return f};d.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};d.getForAccount=function(a){var c=this.__updateLoadingFor([a]);c.length===1&&b("AdsCampaignLiveListDataManager").loadForAccount(a);return this.getCachedFor(a)};d.__getActionTypes=function(){return[b("AdsCampaignListBatchLoadErrorActionFlux").actionType,b("AdsCampaignListBatchLoadedActionFlux").actionType,b("AdsCreatePublishedFromCreationActionFlux").actionType,b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType,b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType,b("AdsPEExportDataPreloadedActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();var c=this;a=a.action;if(!b("adsDraftIsApplicationIDPowerEditor")(a.adsApplicationID))return;switch(a.actionType){case b("AdsCampaignListBatchLoadedActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)});break;case b("AdsCampaignListBatchLoadErrorActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,null,b("AdsLoadState_LEGACY").ERROR)});break;case b("AdsPEExportDataPreloadedActionFlux").actionType:this.$AdsCampaignLiveListStore1(a.childMap.campaign);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsCampaignLiveListStore2(a);break;case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:case b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType:case b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType:this.$AdsCampaignLiveListStore3();break;case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:this.$AdsCampaignLiveListStore4(a.fragments);break;case b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType:this.$AdsCampaignLiveListStore5(a.fragments);break;case b("AdsCreatePublishedFromCreationActionFlux").actionType:this.$AdsCampaignLiveListStore6(a.data.publishedObjectIDs);break}};d.getSortKey=function(){return"name"};d.compare=function(a,c){return b("naturalComparator")(a,c)};d.$AdsCampaignLiveListStore4=function(a){};d.$AdsCampaignLiveListStore5=function(a){this.__invalidateEntireCache()&&this.__emitChange()};d.$AdsCampaignLiveListStore1=function(a){var c=this;a.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)})};d.$AdsCampaignLiveListStore2=function(a){var c=this;a=b("adsDraftGetIDsToInvalidateAfterPublish")(a);a=a.map(function(a){return c.__invalidate(a)});a.some(function(a){return a})&&this.__emitChange()};d.$AdsCampaignLiveListStore3=function(){this.__invalidateEntireCache()&&this.__emitChange()};d.$AdsCampaignLiveListStore6=function(a){var b=this;a.campaign.forEach(function(a){return b.__invalidate(a)})};return c}(b("AdsBaseListStore"));e.exports=new a()}),null);
__d("AdsCampaignCombinedListStore",["invariant","AdsBaseCombinedListStore","AdsCampaignCombinedStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupDraftFragmentStore","AdsCampaignLiveListStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={loadState:b("AdsLoadState_LEGACY").LOADED,list:[]};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getForCampaignGroupsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getForCampaignGroups.bind(babelHelpers.assertThisInitialized(d))),d.getCampaignIDsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a,b){return d.getCampaignIDs(a,[b])}),d.getCampaignGroupIDForDraftCampaignSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a){return d.__getParentIDForDraftChild(a,"campaignGroup")}),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getForCampaignGroups=function(b,c){return a.prototype.__getForAll.call(this,b,"campaignGroup",c)};d.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};d.getCampaignIDs=function(c,d){var e=[];c=a.prototype.__getForAll.call(this,c,"campaignGroup",d);Array.from(c.values()).forEach(function(a){b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&e.push.apply(e,a.list)});return e};d.getForAccount=function(b){return a.prototype.__getFor.call(this,b,"account",b)};d.__getAllDraftIDsForAccount=function(a){return b("AdsCampaignDraftFragmentStore").getNewIDsFor(a)};d.__getStores=function(){return[b("AdsCampaignCombinedStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignGroupDraftFragmentStore"),b("AdsCampaignLiveListStore")]};d.__getLiveList=function(a,c,d){switch(c){case"account":return b("AdsCampaignLiveListStore").getForAccount(a);case"campaignGroup":c=d;if(b("AdsCampaignGroupDraftFragmentStore").isNew(c))return h;else return b("AdsCampaignLiveListStore").getForCampaignGroup(a,c);default:g(0,620)}};d.__getParentIDForDraftChild=function(a,c){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsCampaignCombinedStore").getDispatchToken()]);a=b("AdsCampaignCombinedStore").getCached(a).getValue();if(!a)return null;switch(c){case"account":return a.account_id;case"campaignGroup":return a.campaign_id;default:g(0,620)}};d.__startLoadingDataFor=function(a,c,d){if(c==="campaignGroup"){c=d.filter(function(a){return!b("AdsCampaignGroupDraftFragmentStore").isNew(a)});b("AdsCampaignLiveListStore").getForCampaignGroups(a,c)}};return c}(b("AdsBaseCombinedListStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsCampaignGroupCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsCampaignGroupCombinedStore;e.exports=a}),null);
__d("AdsInstagramUsernameStore",["AdsBaseDataStore","AdsInstagramAccountBusinessBatchLoadedDataActionFlux","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsInstagramAccountPageBatchLoadedDataActionFlux","AdsInstagramAccountUsernameLoadedDataActionFlux","AdsInstagramAccountUsernameLoadErrorDataActionFlux","AdsInstagramUsernameDataManager","AdsLoadState_LEGACY","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsInstagramUsernameDataManager")};d.__getActionTypes=function(){return[b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountUsernameLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountUsernameLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramAccountUsernameLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountUsernameLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType:this.$AdsInstagramUsernameStore1(a.specs);break;case b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType:this.$AdsInstagramUsernameStore2(a.specs);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break}};d.$AdsInstagramUsernameStore1=function(a){if(!a||a.size===0)return;var c=new Map();a.forEach(function(a,d){d=b("getByPath")(a,["page_backed_instagram_accounts","data"],[]).concat(b("getByPath")(a,["instagram_accounts","data"],[]));d.forEach(function(a){return c.set(a.id,a)})});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};d.$AdsInstagramUsernameStore2=function(a){if(!a||a.size===0)return;var c=new Map();a.forEach(function(a,d){d=b("getByPath")(a,["data"],[]);d.forEach(function(a){return c.set(a.id,a)})});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};return c}(b("AdsBaseDataStore"));e.exports=new a()}),null);
__d("AdsProductItemStore",["AdsBaseDataStore","AdsDynamicItemListUpdateVisibilityDataActionFlux","AdsLoadState_LEGACY","AdsProductItemBatchLoadedDataActionFlux","AdsProductItemBatchLoadErrorDataActionFlux","AdsProductItemDataManager","ProductCatalogDynamicItemListUpdateItemsActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsProductItemDataManager")};d.__getActionTypes=function(){return[b("AdsDynamicItemListUpdateVisibilityDataActionFlux").actionType,b("AdsProductItemBatchLoadErrorDataActionFlux").actionType,b("AdsProductItemBatchLoadedDataActionFlux").actionType,b("ProductCatalogDynamicItemListUpdateItemsActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.actionType){case b("AdsProductItemBatchLoadedDataActionFlux").actionType:this.__handleData(a.products,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsProductItemBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsDynamicItemListUpdateVisibilityDataActionFlux").actionType:this.__handleData(a.items,b("AdsLoadState_LEGACY").UPDATING);break;case b("ProductCatalogDynamicItemListUpdateItemsActionFlux").actionType:this.__invalidateAll(a.items)&&this.__emitChange();break}};return c}(b("AdsBaseDataStore"));e.exports=new a()}),null);
__d("DerivedDataMap",["Cache","LFUCache"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=typeof jest!=="undefined";var g=a?b("Cache"):b("LFUCache");c=function(){__p&&__p();function a(a){this.$3=function(a,b){return a===b},this.$4=null,this.$5=new g(),this.$1=a.getInputData,this.$2=a.computeResult,a.areInputsEqual&&(this.$3=a.areInputsEqual),this.$4=a.areResultsEqual}var b=a.prototype;b.get=function(a){var b=this.$5.get(a),c=this.$1(a,b!=null?b.data:null);if(b!=null&&this.$3(b.data,c))return b.result;b=b!=null?b.result:null;var d=this.$2(a,c,b);this.$4&&b!=null&&this.$4(d,b)&&(d=b);this.$5.set(a,{data:c,result:d});return d};return a}();e.exports=c}),null);
__d("adsCreateKeyedStoreSelector",["DerivedDataMap","adsCreateStoreSelector","shallowEqual"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d,f=new(b("DerivedDataMap"))({getInputData:c.getInputData,computeResult:c.computeResult,areInputsEqual:(d=c.areInputsEqual)!=null?d:b("shallowEqual"),areResultsEqual:c.areResultsEqual});return b("adsCreateStoreSelector")(a,function(a){return f.get(c.getKey(a))},e.id)}e.exports=a}),null);
__d("adsPromotedObjectTypeSelector_LEGACY",["AdsAPICampaignRecordUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsPromotedObjectTypes","AdsPromotedObjectTypeUIProvider","adsCreateKeyedStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPromotedObjectTypeUIProvider").toFluxStore();a=b("adsCreateKeyedStoreSelector")([b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore"),g],{getKey:function(a){return a},getInputData:function(a){var c=b("AdsCampaignCombinedStore").getRecord(a).getValue(),d=c==null?void 0:c.campaign_id;d=d!=null?b("AdsCampaignGroupCombinedStore").get(d).getValue():null;return{campaign:c,objective:d==null?void 0:d.objective,uiState:g.getState().get(a)}},computeResult:function(a,c){a=c.campaign;var d=c.objective;c=c.uiState;return a==null||d==null?b("AdsPromotedObjectTypes").NONE:b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a,(d=c)!=null?d:void 0)}});e.exports=a}),null);
__d("AdsBootloadedValidationStore",["AdsBootloadedStore","AdsErrorUtils","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getCombinedErrorsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getCombinedErrors.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getErrorSpec=function(a){return this.onLoadedStore(function(b){return b.getErrorSpec(a)},b("AdsErrorUtils").getErrorSpec([]))};d.indexErrorsByPath=function(a){return this.onLoadedStore(function(b){return b.indexErrorsByPath(a)},b("AdsErrorUtils").indexErrorsByPath([]))};d.getErrors=function(a){return this.onLoadedStore(function(b){return b.getErrors(a)},[])};d.getErrorsUnconditionally=function(a){return this.onLoadedStore(function(b){return b.getErrorsUnconditionally(a)},[])};d.getAllErrors=function(a){return this.onLoadedStore(function(b){return b.getAllErrors(a)},[])};d.getCombinedErrorsFor=function(a){return this.onLoadedStore(function(b){return b.getCombinedErrorsFor(a)},b("immutable").Map())};d.getCombinedErrors=function(a){return this.onLoadedStore(function(b){return b.getCombinedErrors(a)},[])};d.getAllCombinedErrors=function(a){return this.onLoadedStore(function(b){return b.getAllCombinedErrors(a)},b("immutable").Map())};d.getAllClientErrors=function(a){return this.onLoadedStore(function(b){return b.getAllClientErrors(a)},b("immutable").Map())};return c}(b("AdsBootloadedStore"));e.exports=a}),null);
__d("AdsAdgroupValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsAdgroupValidationStore").__setRef("AdsAdgroupValidationBootloadedStore"));b("requireWeak")("AdsAdgroupValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCampaignGroupCrossValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignGroupCrossValidationStore").__setRef("AdsCampaignGroupCrossValidationBootloadedStore"));b("requireWeak")("AdsCampaignGroupCrossValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCampaignGroupValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignGroupValidationStore").__setRef("AdsCampaignGroupValidationBootloadedStore"));b("requireWeak")("AdsCampaignGroupValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCampaignValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignValidationStore").__setRef("AdsCampaignValidationBootloadedStore"));b("requireWeak")("AdsCampaignValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsActionSpecUtils",["areEqual","isEmpty","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j={"action.type":"DEFAULTS"},k={_getActionSpecObject:function(a){if(!a)return null;return Array.isArray(a)?a.length!==1?null:a[0]:a},makeMobileAppInstallTrackingSpecs:function(a){return[{"action.type":"mobile_app_install",application:a},{"action.type":"app_custom_event",application:a}]},getMobileAppTrackingSpecIndices:function(a){return[].concat(k.findIndicesByConstraint(a,{"action.type":"mobile_app_install"}),k.findIndicesByConstraint(a,{"action.type":"app_custom_event"}))},makeMobileAppEngagementTrackingSpecs:function(a){return[{"action.type":"app_custom_event",application:a},{"action.type":"mobile_app_install",application:a}]},makeDesktopAppInstallTrackingSpecs:function(a){return[{"action.type":"app_install",application:a},{"action.type":"app_engagement",application:a}]},makeDesktopAppEngagementTrackingSpecs:function(a){return[{"action.type":"app_engagement",application:a}]},getApplicationIDFromSpecs:function(a){if(!a)return null;for(var b=0;b<a.length;b++)if(a[b].application!=null)if(Array.isArray(a[b].application))return a[b].application[0]+"";else return a[b].application+"";return null},_containsExactMatch:function(a,c){var d=k._getActionSpecObject(c);return a.some(function(a){a=k._getActionSpecObject(a);return(g||(g=b("areEqual")))(a,d)})},withoutDuplicates:function(a){var b=[];a.forEach(function(a){if(k._containsExactMatch(b,a))return;b.push(a)});return b},unifyValues:function(a){return a.map(function(a){return(h||(h=b("mapObject"))).untyped(a,function(a){return Array.isArray(a)?a:[a]})})},filterByConstraint:function(a,b,c){__p&&__p();return!a?[]:a.filter(function(a){__p&&__p();a=k._getActionSpecObject(a);if(!a)return c;for(var d in b){if(!a[d])return c;if(a[d].indexOf(b[d])===-1)return c}return!c})},findIndicesByConstraint:function(a,b){if(!a)return[];a=a.map(function(a,b){return[a,b]});return a.filter(function(a){return k.filterByConstraint([a[0]],b).length>0}).map(function(a){return a[1]})},removeApplicationSpecs:function(a){a=(a||[]).map(function(a){return k._getActionSpecObject(a)}).filter(Boolean).filter(function(a){return!a.application});return a},getPixelTrackingSpecIndices:function(a){return k.findIndicesByConstraint(a,{"action.type":"offsite_conversion"})},setPixelIDs:function(a,b){var c=k.filterByConstraint(a,{"action.type":"offsite_conversion"},!0);b.forEach(function(a){c.push(k.makeNormalizedPixel(a))});return k.withoutDuplicates(c)},setFacebookPixelID:function(a,b){a=k.filterByConstraint(a,{"action.type":"offsite_conversion"},!0);a.push(k.makeNormalizedFacebookPixel(b));return k.withoutDuplicates(a)},mergeConversionToTrackingSpec:function(a,c,d){a=k.customSpecs(a||[]);a=k.filterByConstraint(a,{"action.type":d},!0);(i||(i=b("isEmpty")))(c)||a.push(Object.assign({"action.type":d},c));return k.withoutDuplicates(a)},mergeOffsiteConversionToTrackingSpec:function(a,c){a=k.customSpecs(a||[]);a=k.filterByConstraint(a,{"action.type":"offsite_conversion"},!0);(i||(i=b("isEmpty")))(c)||a.push(Object.assign({"action.type":"offsite_conversion"},c));return k.withoutDuplicates(a)},makeNormalizedPixel:function(a){return{"action.type":["offsite_conversion"],offsite_pixel:[a]}},makeNormalizedFacebookPixel:function(a){return{"action.type":["offsite_conversion"],fb_pixel:[a]}},customSpecs:function(a){return k.filterByConstraint(a,j,!0)}};e.exports=k}),null);
__d("AdsPixelPromotedObjectUtil",["isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.getDefaultTrackingSpecFromPromotedObject=function(a){var c=a.custom_event_type!=null?a.custom_event_type:a.pixel_rule;if(b("isTruthy")(c)&&a.pixel_id!=null&&a.pixel_id!=="")return{fb_pixel:[a.pixel_id]};return a.pixel_id!=null&&a.pixel_id!==""?{offsite_pixel:[a.pixel_id]}:babelHelpers["extends"]({},Object.freeze({}))};return a}();e.exports=new a()}),null);
__d("PowerEditorEventCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_EDIT:"ad_edit",CAMPAIGN_EDIT:"campaign_edit",CAMPAIGN_GROUP_EDIT:"campaigngroup_edit",ERROR:"errors",INSTAGRAM_PLACEMENT_ADOPTION:"instagram_placement_adoption",INSTREAM_VIDEOS_PLACEMENT_ADOPTION:"instream_videos_placement_adoption",PERFORMANCE:"performance",PERFORMANCE_PREVIEW_CS:"performance_preview_cs",PERFORMANCE_CLIENT_SIDE_MINI_PREVIEW:"performance_client_side_mini_preview",PLANNER:"planner",PRELOADING:"preloading",REACH_FREQUENCY_SHEET:"reach_frequency_sheet",USER_ACTION:"user_action",ACTION_DISPATCHED:"action_dispatched",API_CALL:"api_call",AD_CREATE:"ad_create",ADGROUP_EDIT:"ad_edit",CAMPAIGN_CREATE:"campaign_create",CAMPAIGN_GROUP_CREATE:"campaigngroup_create",CAMPAIGN_GROUP_TAG:"campaigngroup_tag",CLICK_CREATE_BUTTON:"click_create_button",CREATION:"creation",DOWNLOAD:"download",NES:"nes",FILTER:"filter",IMPORT_ADS:"import_ads",IMPORT_AD_SETS:"import_ad_sets",IMPORT_CAMPAIGNS:"import_campaigns",IMPORT_LIFECYCLE:"import_lifecycle",IMPORT_POLLING:"import_polling",NAVIGATE:"navigate",OBJECTIVES:"objectives",PAGE_POST:"page_post",PARSE_IMPORT:"parse_import",PEZ:"pez",PREFETCH:"prefetch",PUBLISH:"publish",UPLOAD:"upload",BULK:"bulk",REACH_FREQUENCY:"reach_frequency",HELP_TRAY:"help_tray",RUN_STATUS:"run_status",CLIENT_EVENT:"client_event"})}),null);
__d("AdsAdgroupCreation",["fbt","invariant","AdsActionSpecUtils","AdsAPICampaignRecord","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAppUtils","AdsBuyingTypes","AdsCampaignBidUtils","AdsConversionPixelStatusUI","AdsConversionPixelStore","AdsCreativeSpecTypes","AdsInterfacesLogger","AdsLinkPostFormat","AdsLoadStateUtils_LEGACY","AdsLocalAwarenessUtils","AdsLocalUtils","AdsMessengerConstants","AdsObjectTypeUtils","AdsPageUtils","AdsPixelPromotedObjectUtil","AdsPixelProvider","AdsPixelStatus","AdsPixelStatusEnum","AdsPixelStoreUtil","AdsPromotedObjectTypes","AdsRunStatus","AdsTemplateDataDefaultsStoreUtils","AdsTokensConstants","DynamicTemplatePageFields","ImmutableObject","OfferComposerConstants.react","PowerEditorConfig","PowerEditorEventCategory","adsCallToActionGetDefaultCallToActionType","adsCampaignIsMessengerThreadSelected","adsStorePromiseAsyncGetForSyncStore"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="{{"+b("AdsTokensConstants").NAMESPACES.PAGE+"."+b("DynamicTemplatePageFields").LOCATION.STREET_ADDRESS+"}}",j="{{"+b("AdsTokensConstants").NAMESPACES.PAGE+"."+b("DynamicTemplatePageFields").LOCATION.CITY+"}}",k=new(b("ImmutableObject"))((a={},a.status=b("AdsRunStatus").ACTIVE,a.display_sequence=0,a)),l={getDefaultsForCreateFlow:function(a,b,c){return babelHelpers["extends"]({},k,(c={account_id:c.account_id},c.adset_id=a,c.campaign_id=b,c))},getDefaults:function(a,c,d,e,f,g,i,j,m){__p&&__p();d||h(0,18952);e&&b("AdsLoadStateUtils_LEGACY").enforceLoaded(e);m&&b("AdsLoadStateUtils_LEGACY").enforceLoaded(m);e=a.id;var n=c.id;if(!e||!n){var o={};e||(o.adset=a);n||(o.campaign=c);b("AdsInterfacesLogger").log({eventName:"ad_create_missing_parent_id",eventCategory:b("PowerEditorEventCategory").ERROR,data:{error_message:JSON.stringify(o)}},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);throw new Error("[AdsAdgroupCreation.getDefaults] adsetID or campaignID are missing")}return babelHelpers["extends"]({},k,(o={account_id:d.account_id},o.adset_id=e,o.campaign_id=n,o.creative=l.getDefaultCreative(c,a,f,g,i,j,m),o),l.getDefaultEngagementAudience(c),l.getDefaultTrackingSpecs(a,c,d))},getDefaultCreative:function(a,c,d,e,f,g,h){__p&&__p();var i={},j=a.objective;if(j){var k=b("AdsObjectTypeUtils").getDefaultObjectType(j);k&&(i.object_type=k)}k=(k=c.promoted_object)==null?void 0:k.product_set_id;k&&(i.product_set_id=k);if(j===b("AdsAPIObjectives").PAGE_LIKES){var m;m=(m=c.promoted_object)==null?void 0:m.page_id;m&&(i.object_id=m)}m=l.getDefaultObjectStorySpec(c,a,d,e,f,k,g,h);m&&(i.object_story_spec=m);d=l.getDefaultLinkURL(c);d&&(i.link_url=d);if(b("AdsLocalAwarenessUtils").isADLACampaign(j,a.promoted_object)){if(j!==b("AdsAPIObjectives").STORE_VISITS){i.place_page_set_id=(e=c.promoted_object)==null?void 0:e.place_page_set_id}i.dynamic_ad_voice="STORY_OWNER"}return i},getDefaultObjectStorySpec:function(a,c,d,e,f,g,h,i){__p&&__p();e=l._getBasicObjectStorySpec(a,c,e,f,g,h,i);g=c.buying_type;if(g===b("AdsBuyingTypes").RESERVED&&d){i=d.destination_id;g=c.objective;i&&!b("AdsAppUtils").isAppObjective(g,h)&&(e||(e={}),e.page_id=i);c=d.instagram_destination_id;e=e||{};e.instagram_actor_id=c}g=b("adsCampaignIsMessengerThreadSelected")(a);if(g&&e){h=f&&f.id;h&&(e.page_id=h)}return e},getDefaultAppObjectStorySpec:function(a,c,d,e,f){if(f)return l.getDefaultAppDynamicObjectStorySpec(a,c,e,d);else if(d===b("AdsLinkPostFormat").MULTIPLE)return l.getDefaultAppMPAObjectStorySpec(a,c,e);else if(d===b("AdsLinkPostFormat").SINGLE)return l.getDefaultAppLPPObjectStorySpec(a,c,e);return{}},_getBasicObjectStorySpec:function(a,c,d,e,f,g,h){__p&&__p();var i=c.objective;switch(i){case b("AdsAPIObjectives").BRAND_AWARENESS:case b("AdsAPIObjectives").EVENT_RESPONSES:case b("AdsAPIObjectives").VIDEO_VIEWS:return{};case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return l.getDefaultProductCatalogSalesObjectStorySpec();case b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:case b("AdsAPIObjectives").CANVAS_APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").APP_INSTALLS:return l.getDefaultAppObjectStorySpec(a,c,d,e,f);case b("AdsAPIObjectives").LEAD_GENERATION:return d===b("AdsLinkPostFormat").MULTIPLE?l.getDefaultLeadGenMPAObjectStorySpec(a,c):l.getDefaultLeadGenLPPObjectStorySpec(a,c);case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").CONVERSIONS:if(b("AdsAppUtils").isAppObjective(i,g))return l.getDefaultAppObjectStorySpec(a,c,d,e,f);if(g===b("AdsPromotedObjectTypes").PRODUCT_SET)return l.getDefaultProductCatalogSalesObjectStorySpec();if(g===b("AdsPromotedObjectTypes").MESSENGER)return l.getDefaultMessagesObjectStorySpec(a,c,e,d);return g===b("AdsPromotedObjectTypes").WHATSAPP?l.getDefaultWhatsAppObjectStorySpec(a,c):d===b("AdsLinkPostFormat").MULTIPLE?l.getDefaultWebsiteMPAObjectStorySpec(a,c):{};case b("AdsAPIObjectives").OFFER_CLAIMS:return l.getDefaultOfferClaimsObjectStorySpec(a,c,h);case b("AdsLocalUtils").isLocalObjectiveSwitch(i):return l.getDefaultLocalAwarenessObjectStorySpec(a,c,e,d);case b("AdsAPIObjectives").POST_ENGAGEMENT:return l.getDefaultPostEngagementObjectStorySpec(e);case b("AdsAPIObjectives").MESSAGES:return g===b("AdsPromotedObjectTypes").WHATSAPP?l.getDefaultWhatsAppObjectStorySpec(a,c):l.getDefaultMessagesObjectStorySpec(a,c,e,d);case b("AdsAPIObjectives").PAGE_LIKES:return l.getDefaultPageLikeObjectStorySpec(c)}},getDefaultWhatsAppObjectStorySpec:function(a,c,d,e){a=d?d.id:null;c=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").WHATSAPP);var f=b("AdsPageUtils").getPageLink(d)||"https://facebook.com";d=b("AdsPageUtils").getWhatsAppNumber(d,!0)||void 0;if(e===b("AdsLinkPostFormat").MULTIPLE)return{link_data:{link:f,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}}),child_attachments:[{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})}]},page_id:a};else return{link_data:{link:f,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},page_id:a}},getDefaultMessagesObjectStorySpec:function(a,c,d,e){a=d?d.id:null;d=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MESSENGER);c=b("AdsMessengerConstants").EMPTY_MESSENGER_LINK;if(e===b("AdsLinkPostFormat").MULTIPLE)return{link_data:{link:c,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}}),child_attachments:[{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})},{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})},{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})}]},page_id:a};else return{link_data:{link:c,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})},page_id:a}},getDefaultAppDynamicObjectStorySpec:function(a,c,d,e){a=(c=a.promoted_object)==null?void 0:c.object_store_url;c=d?d.id:null;return d={},d.template_data=babelHelpers["extends"]({},l.getDefaultTemplateData(e===b("AdsLinkPostFormat").MULTIPLE),(e={},e.link=a,e)),d.page_id=c,d},getDefaultAppMPAObjectStorySpec:function(a,c,d){a=(a=a.promoted_object)==null?void 0:a.object_store_url;d=d?d.id:null;c=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MOBILE_APP);return a?{link_data:{link:a,multi_share_optimized:!0,call_to_action:babelHelpers["extends"]({},c,{value:{link:a}}),child_attachments:[{link:a,call_to_action:babelHelpers["extends"]({},c)},{link:a,call_to_action:babelHelpers["extends"]({},c)},{link:a,call_to_action:babelHelpers["extends"]({},c)}]},page_id:d}:{link_data:{multi_share_optimized:!0,call_to_action:babelHelpers["extends"]({},c),child_attachments:[{call_to_action:babelHelpers["extends"]({},c)},{call_to_action:babelHelpers["extends"]({},c)},{call_to_action:babelHelpers["extends"]({},c)}]},page_id:d}},getDefaultTemplateData:function(a){var c;c=(c={},c.multi_share_end_card=b("AdsTemplateDataDefaultsStoreUtils").getDefault("multi_share_end_card"),c.name=b("AdsTemplateDataDefaultsStoreUtils").getDefault("name"),c.description=b("AdsTemplateDataDefaultsStoreUtils").getDefault("description"),c);if(!a){return babelHelpers["extends"]((a={},a.force_single_link=!0,a),c)}return c},getDefaultProductCatalogSalesObjectStorySpec:function(){var a;return a={},a.template_data=babelHelpers["extends"]({},l.getDefaultTemplateData(!0)),a},getDefaultPageLikeObjectStorySpec:function(a){var b,c;return c={},c.link_data=(b={},b.call_to_action=babelHelpers["extends"]({},l.getDefaultCallToActionType(a)),b),c},getDefaultLeadGenLPPObjectStorySpec:function(a,b){a=(a=a.promoted_object)==null?void 0:a.page_id;a=a?{page_id:a}:{};return babelHelpers["extends"]({link_data:{link:"http://fb.me",call_to_action:babelHelpers["extends"]({},l.getDefaultCallToActionType(b))}},a)},getDefaultLeadGenMPAObjectStorySpec:function(a,b){a=(a=a.promoted_object)==null?void 0:a.page_id;a=a?{page_id:a}:{};b={link:"http://fb.me",call_to_action:babelHelpers["extends"]({},l.getDefaultCallToActionType(b))};return babelHelpers["extends"]({link_data:babelHelpers["extends"]({},b,{multi_share_optimized:!0,child_attachments:[babelHelpers["extends"]({},b),babelHelpers["extends"]({},b),babelHelpers["extends"]({},b)]})},a)},getDefaultOfferClaimsObjectStorySpec:function(a,c,d){a=(a=a.promoted_object)==null?void 0:a.page_id;a=a?{page_id:a}:{};var e=d?{offer_id:d.id}:{},f={};if(d){var g=d.redemption_link;d.location_type==="offline"&&(g=b("OfferComposerConstants.react").IN_STORE_OFFER_URL);f={link:g}}return babelHelpers["extends"]({link_data:babelHelpers["extends"]({multi_share_optimized:!1,multi_share_end_card:!1},e,{call_to_action:babelHelpers["extends"]({},l.getDefaultCallToActionType(c))},f)},a)},getDefaultLocalAwarenessObjectStorySpec:function(a,c,d,e){var f,g;f=(f=c.promoted_object)==null?void 0:f.page_id;g=(g=a.promoted_object)==null?void 0:g.page_id;var h=f||g;h=h?{page_id:h}:{};var i={},j={},k=!1;d&&(f?(k=!0,j=l.getDefaultDLATemplateData(a,c,d,e)):g&&(i=l.getDefaultLALinkData(a,c,d,e)));return babelHelpers["extends"]({},k?(f={},f[b("AdsCreativeSpecTypes").TEMPLATE_DATA]=j,f):(g={},g[b("AdsCreativeSpecTypes").LINK_DATA]=i,g),h)},getDefaultPostEngagementObjectStorySpec:function(a){return a?{page_id:a.id}:null},getDefaultDLATemplateData:function(a,c,d,e){a=e===b("AdsLinkPostFormat").MULTIPLE;c=(e={},e.description=" ",e.call_to_action=babelHelpers["extends"]({},l.getDefaultCallToActionType(c)),e.link=d.link,e);e=babelHelpers["extends"]((d={},d.message=g._("Visit us at {streetAddress}, {city}.",[g._param("streetAddress",i),g._param("city",j)]),d),c);if(!a){return babelHelpers["extends"]({},e,(d={},d.force_single_link=!0,d))}a=[babelHelpers["extends"]({},c),babelHelpers["extends"]({},c),babelHelpers["extends"]({},c)];return babelHelpers["extends"]({},e,(d={},d.child_attachments=a,d))},getDefaultLALinkData:function(a,c,d,e){a=e===b("AdsLinkPostFormat").MULTIPLE;e=(c={},c.link=d.link,c.description=" ",c);d=babelHelpers["extends"]({},e);if(!a)return d;c=[babelHelpers["extends"]({},e),babelHelpers["extends"]({},e),babelHelpers["extends"]({},e)];return babelHelpers["extends"]({},d,(a={},a.child_attachments=c,a.multi_share_end_card=!1,a))},getDefaultCallToActionType:function(a,c){a=a.objective;a=b("adsCallToActionGetDefaultCallToActionType")(a,c);return a?{type:a}:{}},getDefaultAppLPPObjectStorySpec:function(a,c,d){a=(a=a.promoted_object)==null?void 0:a.object_store_url;d=d?d.id:null;c=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MOBILE_APP);return a?{link_data:{link:a,call_to_action:babelHelpers["extends"]({},c,{value:{link:a}})},page_id:d}:{link_data:{call_to_action:babelHelpers["extends"]({},c)},page_id:d}},getDefaultLinkURL:function(a){a=(a=a.promoted_object)==null?void 0:a.object_store_url;if(a)return a},getDefaultEngagementAudience:function(a){a=a.objective;return a!==b("AdsAPIObjectives").VIDEO_VIEWS?{}:{engagement_audience:!0}},getDefaultWebsiteMPAObjectStorySpec:function(a,b){return{link_data:{multi_share_end_card:!0,multi_share_optimized:!0,child_attachments:[{},{},{}]}}},getDefaultTrackingSpecs:function(a,c,d){__p&&__p();var e=[],f=[],g=c.objective,h=b("AdsAPICampaignRecordUtils").getPromotedObjectType(g,new(b("AdsAPICampaignRecord"))(a)),i=a.promoted_object;if(i){var j=b("AdsPixelPromotedObjectUtil").getDefaultTrackingSpecFromPromotedObject(i);f=b("AdsActionSpecUtils").mergeOffsiteConversionToTrackingSpec([],j)}if(!i||!i.custom_event_type||!i.pixel_id){j=d.account_id;i=d.offsite_pixels_tos_accepted;if(j){d=!1;j=b("AdsPixelStoreUtil").getPixelIDs(b("AdsPixelProvider").toFluxStore().getState());if(j[0]){var k=new(b("AdsPixelStatus"))(b("AdsPixelStoreUtil").getPixelLastFiringTime(b("AdsPixelProvider").toFluxStore().getState(),j[0]));k.getStatus()===b("AdsPixelStatusEnum").ACTIVE&&(f=b("AdsActionSpecUtils").setFacebookPixelID(f,j[0]),d=!0)}if(!d&&!!i){var l=[];k=b("AdsConversionPixelStore").getPixels();k.forEach(function(a){a=a.pixelID;var c=b("AdsConversionPixelStore").getPixel(a);c&&b("AdsConversionPixelStatusUI").getStatus(c)==="Active"&&l.push(a)});l.length<=b("PowerEditorConfig").config.MAX_AUTO_TRACKED_OFFSITE_PIXELS&&(f=b("AdsActionSpecUtils").setPixelIDs(f,l))}}}d=(j=a.promoted_object)==null?void 0:j.application_id;if(d){var m;g===b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT?m=b("AdsActionSpecUtils").makeDesktopAppEngagementTrackingSpecs(d):b("AdsAppUtils").isCanvasAppInstall(g,h)?m=b("AdsActionSpecUtils").makeDesktopAppInstallTrackingSpecs(d):g===b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT?m=b("AdsActionSpecUtils").makeMobileAppEngagementTrackingSpecs(d):b("AdsAppUtils").isMobileAppInstall(g,h)&&(m=b("AdsActionSpecUtils").makeMobileAppInstallTrackingSpecs(d));if(m){i=b("AdsCampaignBidUtils").campaignHasBidOnActions(c,a,g);i&&e.push(m.shift());f=f.concat(m)}}e=b("AdsActionSpecUtils").unifyValues(e);e=b("AdsActionSpecUtils").withoutDuplicates(e);f=b("AdsActionSpecUtils").unifyValues(f);f=b("AdsActionSpecUtils").withoutDuplicates(f);return{conversion_specs:e,tracking_specs:f}},_getPromiseForPixels:function(a){return b("adsStorePromiseAsyncGetForSyncStore")(a,function(){return a.getPixels()},function(){return a.isListLoaded()})}};e.exports=l}),null);
__d("AdsCarteUtils",["invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetLinkURLFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsUnifiedCreativeAPIFields","guid","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={makeUniqueLabelName:function(){return"carte_asset_"+b("guid")()},isAdCampaignCarteEnabled:function(a){return a.is_dynamic_creative_asset_customization},addAssetIfNotExistAndUpdateCustomizationRule:function(a,c,d,e,f,g,i){c=b("AdsAssetFeedMutationUtils").addAssetIfNotExist(c,d,e,f,g,h.makeUniqueLabelName);d=c.adLabelName;e=c.mutatedAdgroup;f=a.setIn([i,"name"],d);return{mutatedCustomizationRule:f,mutatedAdgroup:e}},_isBlankString:function(a){return a!=null&&a.trim().length===0},_isEmptyObject:function(a){return a!=null&&Object.keys(a).length===0},resetCarteSegementPriorities:function(a){return a.map(function(a,c){return a.setIn([b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY],c+1)})},normalizeCustomizationRules:function(a){a=((a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules)||b("immutable").List();a=a.sortBy(function(a,c,d){return a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY])});return h.resetCarteSegementPriorities(a)},tryRemoveAssetIfReferenceChanges:function(a,c,d,e,f,g,h){var i=[f,"name"];g=g.getIn(i);var j=a;!!g&&g!==h.getIn(i)&&(j=b("AdsAssetFeedMutationUtils").removeAssetIfNotUsed(a,c,d,e,g,f));return j},removeUnusedAssets:function(a,c,d,e){e===void 0&&(e=b("immutable").Map());a=a;a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").linkDescription,b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,"adlabels",b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAPIAdAssetLinkURLFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL,d,e);return a},_updateCustomizaionRuleWithNewAssetField:function(a,c,d,e,f,i,j){__p&&__p();f=f.filter(function(a){return!!a});if(f.size===0)return{mutatedCustomizationRule:a,mutatedAdgroup:c};var k=a.getIn([j,"name"]);f=f;if(k!=null){typeof k==="string"||k instanceof String||g(0,953);var l=e.getValue(c,d);if(l!=null){l instanceof b("immutable").List||g(0,4847);l=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(l,i,[k]).get(k);l!=null&&(f=l.remove(i).merge(f))}}return h.addAssetIfNotExistAndUpdateCustomizationRule(a,c,d,e,f,i,j)},_editTextAsset:function(a,c,d,e,f,g,i,j){if((j instanceof String||typeof j==="string")&&h._isBlankString(j))return{mutatedCustomizationRule:a["delete"](g),mutatedAdgroup:c};else if(j!=null)return h._updateCustomizaionRuleWithNewAssetField(a,c,d,e,b("immutable").Map([[i,j]]),f,g);return{mutatedCustomizationRule:a,mutatedAdgroup:c}},editCarteSegmentBody:function(a,c,d,e){__p&&__p();var f=h.normalizeCustomizationRules(a);d>=0&&d<f.size||g(0,4848);var i=f.get(d),j=i;a=a;e=h._editTextAsset(j,a,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,b("AdsAPIAdAssetFeedBodiesFields").TEXT,e);j=e.mutatedCustomizationRule;a=e.mutatedAdgroup;f=f.set(d,j);a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,f);return h.removeUnusedAssets(a,c,i,j)},editCarteSegmentWithSingleVideo:function(a,c,d,e,f,i,j,k,l){__p&&__p();var m=h.normalizeCustomizationRules(a);d>=0&&d<m.size||g(0,4848);var n=m.get(d),o=n;a=a;e!=null&&(o=o.setIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC],e));h._isBlankString(f)?o=o["delete"](b("AdsAPIAdAssetCustomizationRuleFields").NAME):f!=null&&(o=o.setIn([b("AdsAPIAdAssetCustomizationRuleFields").NAME],f));e=h._editTextAsset(o,a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL,b("AdsAPIAdAssetFeedTitlesFields").TEXT,i);o=e.mutatedCustomizationRule;a=e.mutatedAdgroup;f=h._editTextAsset(o,a,c,b("AdsUnifiedCreativeAPIFields").linkDescription,b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL,b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,l);o=f.mutatedCustomizationRule;a=f.mutatedAdgroup;if(h._isEmptyObject(j))o=o["delete"](b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL);else if(j!=null){i=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("immutable").Map([[b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,j.videoID],[b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,j.thumbnailURL]]),b("AdsAPIAdAssetFeedVideosFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL);o=i.mutatedCustomizationRule;a=i.mutatedAdgroup}if(h._isEmptyObject(k)){o=o["delete"]((e=b("AdsAPIAdAssetCustomizationRuleFields")).CALL_TO_ACTION_LABEL);o=o["delete"](e.TITLE_LABEL);o=o["delete"](e.DESCRIPTION_LABEL);o=o["delete"](e.LINK_URL_LABEL)}else if(k!=null){if(k.type!=null){l=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").callToAction,b("immutable").Map([["type",k.type]]),"adlabels",b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL);o=l.mutatedCustomizationRule;a=l.mutatedAdgroup}f=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("immutable").Map([[b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,k.displayURL],[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,k.websiteURL]]),b("AdsAPIAdAssetLinkURLFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL);o=f.mutatedCustomizationRule;a=f.mutatedAdgroup}m=m.set(d,o);a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,m);return h.removeUnusedAssets(a,c,n,o)},appendCarteSegment:function(a,c){c=h.normalizeCustomizationRules(a);var d=c.size===0?0:c.size-1,e=d+1;e=c.size===0?b("immutable").Map([[b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY,e],[b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,b("immutable").Map()]]):c.last();c=c.splice(d,0,e);c=h.resetCarteSegementPriorities(c);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},moveCarteSegment:function(a,c,d,e){if(e===0)return a;c=h.normalizeCustomizationRules(a);var f=c.get(d);e=e+d;e>=0&&e<c.size||g(0,4849);c=c.remove(d).splice(e,0,f);c=h.resetCarteSegementPriorities(c);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},deleteCarteSegment:function(a,c,d){var e=h.normalizeCustomizationRules(a);d>=0&&d<e.size||g(0,4850);var f=e.get(d);e=e["delete"](d);e=h.resetCarteSegementPriorities(e);d=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,e);return h.removeUnusedAssets(d,c,f)},editCarteSegmentationCategories:function(a,c,d){__p&&__p();c=h.normalizeCustomizationRules(a);var e=c.last();c=c.pop();c=c.map(function(a){var c=a.get(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC)||b("immutable").Map();c instanceof b("immutable").Map||g(0,4851);c=c.filter(function(a,b){return d.includes(b)});return a.set(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,c)});c=c.push(e);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},enableCarteForAdgroup:function(a){return babelHelpers["extends"]({},a,{creative:{asset_feed_spec:{ad_formats:["SINGLE_VIDEO"],asset_customization_rules:[{priority:1,customization_spec:{}}],optimization_type:"ASSET_CUSTOMIZATION"}}})}};e.exports=h}),null);
__d("AdsLeadGenFormPreviewConstants",["fbt","AdsLeadGenConstants","AdsLeadGenFormFeatureToCapability"],(function(a,b,c,d,e,f,g){"use strict";a={FACEBOOK:"Facebook",INSTAGRAM:"Instagram",DESKTOP:"Desktop"};f=(c={},c[b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_KEY]=g._("Date of Birth Question"),c[(d=b("AdsLeadGenFormFeatureToCapability")).LEAD_AD_WITH_CANVAS]=g._("Canvas Context Card Format"),c[d.LEAD_GEN_WITH_CONTEXT_CARD]=g._("Context Card"),c[d.LEAD_AD_WITH_CUSTOM_DISCLAIMER]=g._("Custom Disclaimer"),c[d.LEAD_AD_WITH_CUSTOM_DISCLAIMER_AND_OPTIONAL_CHECKBOX]=g._("Custom Disclaimer Optional Checkboxes"),c[d.LEAD_AD_WITH_CONTEXT_CARD_PHOTO]=g._("Context Card Image"),c[d.LEAD_AD_WITH_CUSTOMIZED_THANK_YOU_PAGE]=g._("Customized Thank You Page"),c[d.LEAD_AD_WITH_IMPROVED_AD_UNIT]=g._("Higher Intent Form Type"),c[d.LEAD_AD_WITH_STORE_LOOKUP]=g._("Store Lookup Question"),c[d.LEAD_AD_WITH_STORE_LOOKUP_TYPEAHEAD]=g._("Store Lookup Typeahead Question"),c[d.LEAD_AD_WITH_DATE_TIME_INPUT]=g._("Appointment Scheduling Question"),c);e.exports={PreviewEnum:a,capabilityToFeature:f}}),null);
__d("AdsLeadGenPlacementUtils",["errorCode","errorDesc","AdsAPIAdgroupPaths","AdsAPIDevicePlatform","AdsError","AdsLeadGenConstants","AdsLeadGenFormPreviewConstants","AdsPlacementAPISpecReaderUtils","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsLeadGenFormPreviewConstants").PreviewEnum,j={isInstagramActive:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"instagram")},isFacebookActive:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook")},isDesktopPlatformActive:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a,b("AdsAPIDevicePlatform").DESKTOP)},isMobilePlatformActive:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a,b("AdsAPIDevicePlatform").MOBILE)},hasCanvasError:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasStoreLookupError:function(a){return j.isInstagramActive(a)},hasStoreLookupTypeaheadError:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasAppointmentSchedulingError:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasQualityBundlePlacementNotice:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasQualityBundlePlacementErrors:function(a){var c=b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform(a,"instagram");a=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveDevicePlatform(a,b("AdsAPIDevicePlatform").DESKTOP);return c||a},hasNPCPlacementErrors:function(a){var c=b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook");a=b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a,b("AdsAPIDevicePlatform").MOBILE);return!c||!a},getPreviewPlacements:function(a){var b=[];if(a&&a[0]){a=a[0];j.isFacebookActive(a)&&b.push(i.FACEBOOK);j.isInstagramActive(a)&&b.push(i.INSTAGRAM)}return b},hasDateofBirthQuestionError:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"instagram")},getQualityBundlePlacementErrors:function(a){return j.hasQualityBundlePlacementErrors(a)?[new(b("AdsError"))(1892136,h._(function(a,b){return a._("The current selected placement is not supported for Forms using 'Higher Intent' Form Type. Please update the placement or select a Form using 'More Volume' Form Type.")},{}),{level:b("AdsError").Level.WARN,path:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID})]:[]},getNPCPlacementErrors:function(a){return j.hasQualityBundlePlacementErrors(a)?[new(b("AdsError"))(1892154,h._(function(a,b){return a._("The current selected placement is not supported for Instant Experience using a Form component. Please update the placement include Mobile Devices on Facebook Platform")},{}),{level:b("AdsError").Level.WARN,path:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID})]:[]},getDateofBirthQuestionError:function(a){return j.hasDateofBirthQuestionError(a)?h._(function(a,b){return a._("Date of birth is not a supported form question on Instagram")},{}):""},getQuestionErrorMsg:function(a,c){switch(a.value){case b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_ID:return j.getDateofBirthQuestionError(c)}return""},getQuestionErrorMsgByLabel:function(a,c){switch(a.id){case b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_ID:return j.getDateofBirthQuestionError(c)}return""}};e.exports=j}),null);
__d("AdsLeadGenQEStoreUtils",["AdsQEStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){if(a.hasError())return a.getErrorEnforcing();if(!a.isDone())return"loading";return a.value&&!a.value.in_experiment?"not_in_experiment":a.getValueEnforcing().getParamBool(b)?"on":"off"}a={getStores:function(){return[b("AdsQEStore")]},canSeeRichFormL1UpsellNux:function(a){return"on"},canBeInRichFormTemplateExperiment:function(a){return"off"},canSeeRichPreview:function(a){return g(a,"can_see_preview_tabs")},getQEGroup:function(a,b){return g(a,b)},canSeeRichFormOptionalComponent:function(a){return g(b("AdsQEStore").getForAccount_LEGACY("leadgen_form_in_other_objectives_template_universe",a),"can_see_form")},maybeLogExposure:function(a){a=a.getValue();a!=null&&a.maybeLogExposure()},canSeeCRMSplashPage:function(a){return g(b("AdsQEStore").getForPage("leadgen_crm_splash_page",a),"enable_crm_splash_page")}};e.exports=a}),null);
__d("adsMgmtAdgroupSelectedIdsSelector",["AdsMgmtAdgroupSelectionProvider","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMgmtAdgroupSelectionProvider").toFluxSelector();c=b("adsCreateSelector")([a],function(a){a=a.cachedSelectedIDs;return a},{name:e.id+".adsMgmtAdgroupSelectedIdsSelector"});e.exports=c}),null);
__d("AdsMessengerJSONUtils",["AdsMessengerJSONMediaFormatType","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getFormat:function(a){return b("getByPath")(a,["media_type"])},getSurface:function(a){return b("getByPath")(a,["surface"])},getLandingScreenType:function(a){return b("getByPath")(a,["landing_screen_type"])},getTemplateID:function(a){return b("getByPath")(a,["template_id"])},getGenericElement:function(a){a=b("getByPath")(a,["image_format","message","attachment","payload","elements"]);return a&&a[0]},getImageHash:function(a){a=this.getGenericElement(a);return a&&a.image_hash},getGenericTitle:function(a){a=this.getGenericElement(a);return a&&a.title},getGenericSubtitle:function(a){a=g.getGenericElement(a);return a&&a.subtitle},getVideo:function(a){return b("getByPath")(a,["video_format","message","attachment","payload","attachment_id"])},getText:function(a){return this.isTextWithQR(a)&&this.getSurface(a)==="business_tools"?b("getByPath")(a,["text_format","message","text"]):this.isTextWithQR(a)?b("getByPath")(a,["text_format","message","second_text"]):b("getByPath")(a,["text_format","message","attachment","payload","text"])},getTextFormatCTA:function(a){return b("getByPath")(a,["text_format","message","attachment","payload","buttons"])},getTextFormatQR:function(a){return b("getByPath")(a,["text_format","message","quick_replies"])},getImageFormatQR:function(a){return b("getByPath")(a,["image_format","message","quick_replies"])},getImageFormatCTA:function(a){a=this.getGenericElement(a);return a&&a.buttons},getWelcomeMessageText:function(a,c){var d=this.getFormat(a);switch(d){case b("AdsMessengerJSONMediaFormatType").IMAGE:return b("getByPath")(a,["image_format","message","text"]);case b("AdsMessengerJSONMediaFormatType").VIDEO:return b("getByPath")(a,["video_format","message","text"]);case b("AdsMessengerJSONMediaFormatType").TEXT:return c&&!this.isTextWithQR(a)?b("getByPath")(a,["text_format","message","attachment","payload","text"]):b("getByPath")(a,["text_format","message","text"]);default:return null}},isTextWithQR:function(a){var c=this.getFormat(a),d=this.getSurface(a);return c===b("AdsMessengerJSONMediaFormatType").TEXT?d==="business_tools"?!!b("getByPath")(a,["text_format","message","quick_replies"]):!b("getByPath")(a,["text_format","message","attachment"]):!1},isImageWithQR:function(a){var c=this.getFormat(a);return c===b("AdsMessengerJSONMediaFormatType").IMAGE?!!b("getByPath")(a,["image_format","message","quick_replies"]):!1}};e.exports=g}),null);
__d("adsPENavStateSelector",["AdsPENavigationProvider","AdsPEPaneUtils_LEGACY","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsPENavigationProvider").toFluxSelector();c=b("adsCreateSelector")([a],function(a){return b("AdsPEPaneUtils_LEGACY").getNavStateFromPane(a.currentPane)},{name:e.id+".adsPENavStateSelector"});e.exports=c}),null);
__d("adsSingleVideoUploadSelector",["AdsVideoUploadStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsVideoUploadStore")],function(){return b("AdsVideoUploadStore").getState().last()||null},e.id+".adsSingleVideoUploadSelector");e.exports=a}),null);
__d("AdsEditingCampaignGroupContext",["AdsAccountStore","AdsAdgroupCombinedListStore","AdsAdgroupCombinedStore","AdsCampaignCombinedListStore","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsCampaignGroupCrossValidationBootloadedStore","AdsCampaignGroupDraftFragmentStore","AdsCampaignGroupValidationBootloadedStore","AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsStoreUtils","AdsUEditorHostIDs","FBLogger","LoadObject","adsCreateSelector","adsCreateStoreSelector","adsCreateStoreThunkSelector","adsUEditorAccountSelector_LEGACY","immutable","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c,d,f;this.hostID=b("AdsUEditorHostIDs").EDITING;this.campaignGroupSelector=g;this.campaignGroupErrorsSelector=h;this.selectedAdAccountSelector=i;this.selectedCampaignGroupIDsSelector=a;this.selectedCampaignGroupsSelector=(c=b("adsCreateSelector"))([a,(d=b("adsCreateStoreThunkSelector"))(b("AdsCampaignGroupCombinedStore"),b("AdsCampaignGroupCombinedStore").getRecord.bind(b("AdsCampaignGroupCombinedStore")))],function(a,b){return a.map(function(a){return b(a).getValue()}).filter(Boolean)},{name:e.id+".selectedCampaignGroupsSelector"});this.campaignGroupPublishStatusSelector=c([a,(f=b("AdsCampaignGroupDraftFragmentStore")).getIsNewSelector,f.getHasDraftSelector,f.getIsDirtySelector,f.getIsDeletedSelector,f.getChangedFieldsSelector],function(a,c,d,e,f,g){return b("immutable").Map(a.map(function(a){return[a,{isNew:c(a),hasDraft:d(a),isDirty:e(a),isDeleted:f(a),changedFields:g(a)}]}))},{name:e.id+".campaignGroupPublishStatusSelector"});this.adgroupIDsForSelectedCampaignGroupsSelector=c([b("adsUEditorAccountSelector_LEGACY"),a,b("AdsAdgroupCombinedListStore").getForCampaignGroupsSelector],function(a,c,d){a=a.account_id;d=d(a,c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d))return b("LoadObject").loading();a=b("AdsStoreUtils").flattenLists(d);return b("LoadObject").withValue(a)},{name:e.id+".adgroupIDsForSelectedCampaignGroupsSelector"});this.adgroupsForSelectedCampaignGroupsSelector=c([this.adgroupIDsForSelectedCampaignGroupsSelector,d(b("AdsAdgroupCombinedStore"),b("AdsAdgroupCombinedStore").getRecord.bind(b("AdsAdgroupCombinedStore")))],function(a,c){return a.match({loaded:function(a){a=a.map(function(a){return c(a)});return b("AdsLoadObjectUtils").all(a)},loading:function(){return b("LoadObject").loading()},error:function(a){return b("LoadObject").withError(a)}})},{name:e.id+".adgroupsForSelectedCampaignGroupsSelector"});this.campaignIDsForSelectedCampaignGroupsSelector=c([b("adsUEditorAccountSelector_LEGACY"),a,d(b("AdsCampaignCombinedListStore"),b("AdsCampaignCombinedListStore").getForCampaignGroups.bind(b("AdsCampaignCombinedListStore")))],function(a,c,d){a=a.account_id;d=d(a,c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d))return b("LoadObject").loading();a=b("AdsStoreUtils").flattenLists(d);return b("LoadObject").withValue(a)},{name:e.id+".campaignIDsForSelectedCampaignGroupsSelector"});this.campaignsForSelectedCampaignGroupsSelector=c([this.campaignIDsForSelectedCampaignGroupsSelector,d(b("AdsCampaignCombinedStore"),b("AdsCampaignCombinedStore").getRecord.bind(b("AdsCampaignCombinedStore")))],function(a,c){return a.match({loaded:function(a){a=a.map(function(a){return c(a)});return b("AdsLoadObjectUtils").all(a)},loading:function(){return b("LoadObject").loading()},error:function(a){return b("LoadObject").withError(a)}})},{name:e.id+".campaignsForSelectedCampaignGroupsSelector"});this.campaignGroupCombinedErrorsSelector=c([a,d(b("AdsCampaignGroupValidationBootloadedStore"),b("AdsCampaignGroupValidationBootloadedStore").getCombinedErrors.bind(b("AdsCampaignGroupValidationBootloadedStore")))],function(a,c){return b("immutable").Map(a.map(function(a){return[a,c(a)]}))},{name:e.id+".campaignGroupCombinedErrorsSelector"});this.campaignGroupCrossValidationErrorsSelector=c([a,d(b("AdsCampaignGroupCrossValidationBootloadedStore"),b("AdsCampaignGroupCrossValidationBootloadedStore").getAllErrors.bind(b("AdsCampaignGroupCrossValidationBootloadedStore")))],function(a,b){return b(a)},{name:e.id+".campaignGroupCrossValidationErrorsSelector"})};var g=b("adsCreateStoreSelector")([b("AdsCampaignGroupCombinedStore")],function(a){return b("isFalsey")(a)?null:b("AdsCampaignGroupCombinedStore").getRecord(a).getValue()},e.id+".campaignGroupSelector"),h=b("adsCreateStoreSelector")([b("AdsCampaignGroupValidationBootloadedStore")],function(a){return b("AdsCampaignGroupValidationBootloadedStore").getErrors(a)},e.id+".campaignGroupErrorsSelector"),i=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccount],function(a){if(a.hasValueWithoutError())return a.getValueEnforcing();b("FBLogger")("ads").warn("Account not available within AdsEditing*Context");return{}},{name:e.id+".selectedAdAccountSelector"});e.exports=a}),null);
__d("AdsEditingCampaignContext",["AdsAccountStore","AdsAdgroupCombinedListStore","AdsAdgroupCombinedStore","AdsCampaignCombinedStore","AdsCampaignDraftFragmentStore","AdsCampaignValidationBootloadedStore","AdsEditingCampaignGroupContext","AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsPECampaignRawCombinedTableStore","AdsStoreUtils","LoadObject","adsCreateSelector","adsCreateStoreSelector","adsCreateStoreThunkSelector","distinctArray","immutable","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d=b("adsCreateSelector")([c,b("adsCreateStoreThunkSelector")(b("AdsCampaignCombinedStore"),b("AdsCampaignCombinedStore").getRecord.bind(b("AdsCampaignCombinedStore")))],function(a,b){return a.map(function(a){return b(a).getValue()}).filter(Boolean)},{name:e.id+".selectedCampaignsSelector"}),f=b("adsCreateSelector")([c,b("AdsPECampaignRawCombinedTableStore").getRecordSelector],function(a,b){return a.map(function(a){return b(a).getValue()}).filter(Boolean)},{name:e.id+".selectedRawCampaignsSelector"}),i=b("adsCreateSelector")([d],function(a){return b("distinctArray")(a.filter(Boolean).map(function(a){return a.campaign_id}))},{name:e.id+".selectedCampaignGroupIDsSelector"});i=a.call(this,i)||this;i.campaignSelector=h;i.campaignErrorsSelector=g;i.selectedCampaignIDsSelector=c;i.selectedCampaignsSelector=d;i.selectedRawCampaignsSelector=f;i.campaignPublishStatusSelector=b("adsCreateSelector")([c,b("AdsCampaignDraftFragmentStore").getIsNewSelector,b("AdsCampaignDraftFragmentStore").getHasDraftSelector,b("AdsCampaignDraftFragmentStore").getIsDirtySelector,b("AdsCampaignDraftFragmentStore").getIsDeletedSelector,b("AdsCampaignDraftFragmentStore").getChangedFieldsSelector],function(a,c,d,e,f,g){return b("immutable").Map(a.map(function(a){return[a,{isNew:c(a),hasDraft:d(a),isDirty:e(a),isDeleted:f(a),changedFields:g(a)}]}))},{name:e.id+".campaignPublishStatusSelector"});i.adgroupIDsForSelectedCampaignsSelector=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccount_LEGACY,c,b("adsCreateStoreThunkSelector")(b("AdsAdgroupCombinedListStore"),b("AdsAdgroupCombinedListStore").getForCampaigns.bind(b("AdsAdgroupCombinedListStore")))],function(a,c,d){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(a))return b("LoadObject").loading();a=a.account_id;d=d(a,c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d))return b("LoadObject").loading();a=b("AdsStoreUtils").flattenLists(d);return b("LoadObject").withValue(a)},{name:e.id+".adgroupIDsForSelectedCampaignsSelector"});i.adgroupsForSelectedCampaignsSelector=b("adsCreateSelector")([i.adgroupIDsForSelectedCampaignsSelector,b("adsCreateStoreThunkSelector")(b("AdsAdgroupCombinedStore"),b("AdsAdgroupCombinedStore").getRecord.bind(b("AdsAdgroupCombinedStore")))],function(a,c){return a.match({loaded:function(a){a=a.map(function(a){return c(a)});return b("AdsLoadObjectUtils").all(a)},loading:function(){return b("LoadObject").loading()},error:function(a){return b("LoadObject").withError(a)}})},{name:e.id+".adgroupsForSelectedCampaignsSelector"});i.campaignCombinedErrorsSelector=b("adsCreateSelector")([c,b("adsCreateStoreThunkSelector")(b("AdsCampaignValidationBootloadedStore"),b("AdsCampaignValidationBootloadedStore").getCombinedErrors.bind(b("AdsCampaignValidationBootloadedStore")))],function(a,c){return b("immutable").Map(a.map(function(a){return[a,c(a)]}))},{name:e.id+".campaignCombinedErrorsSelector"});return i}return c}(b("AdsEditingCampaignGroupContext"));var g=b("adsCreateStoreSelector")([b("AdsCampaignValidationBootloadedStore")],function(a){return b("AdsCampaignValidationBootloadedStore").getErrors(a)},e.id+".campaignErrorsSelector"),h=b("adsCreateStoreSelector")([b("AdsCampaignCombinedStore")],function(a){return b("isFalsey")(a)?null:b("AdsCampaignCombinedStore").getRecord(a).getValue()},e.id+".campaignSelector");e.exports=a}),null);
__d("AdsEditingAdgroupContext",["AdsAdgroupCombinedStore","AdsAdgroupDraftFragmentStore","AdsAdgroupValidationBootloadedStore","AdsEditingCampaignContext","adsCreateSelector","adsCreateStoreSelector","adsCreateStoreThunkSelector","distinctArray","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d=b("adsCreateSelector")([c,b("adsCreateStoreThunkSelector")(b("AdsAdgroupCombinedStore"),b("AdsAdgroupCombinedStore").getRecord.bind(b("AdsAdgroupCombinedStore")))],function(a,b){return a.map(function(a){return b(a).getValue()}).filter(Boolean)},{name:e.id+".selectedAdgroupsSelector"}),f=b("adsCreateSelector")([d],function(a){return b("distinctArray")(a.filter(Boolean).map(function(a){return a.adset_id}))},{name:e.id+".selectedCampaignIDsSelector"});f=a.call(this,f)||this;f.adgroupSelector=g;f.customSelectors_ASK_ACE_TEAM_BEFORE_USING=h;f.adgroupErrorMessageSpecSelector_DEPRECATED=i;f.adgroupErrorsSelector=j;f.selectedAdgroupIDsSelector=c;f.selectedAdgroupsSelector=d;f.adgroupPublishStatusSelector=b("adsCreateSelector")([c,b("AdsAdgroupDraftFragmentStore").getIsNewSelector,b("AdsAdgroupDraftFragmentStore").getHasDraftSelector,b("AdsAdgroupDraftFragmentStore").getIsDirtySelector,b("AdsAdgroupDraftFragmentStore").getIsDeletedSelector,b("AdsAdgroupDraftFragmentStore").getChangedFieldsSelector],function(a,c,d,e,f,g){return b("immutable").Map(a.map(function(a){return[a,{isNew:c(a),hasDraft:d(a),isDirty:e(a),isDeleted:f(a),changedFields:g(a)}]}))},{name:e.id+".adgroupPublishStatusSelector"});f.adgroupCombinedErrorsSelector=b("adsCreateSelector")([c,b("adsCreateStoreThunkSelector")(b("AdsAdgroupValidationBootloadedStore"),b("AdsAdgroupValidationBootloadedStore").getCombinedErrors.bind(b("AdsAdgroupValidationBootloadedStore")))],function(a,c){return b("immutable").Map(a.map(function(a){return[a,c(a)]}))},{name:e.id+".adgroupCombinedErrorsSelector"});return f}return c}(b("AdsEditingCampaignContext"));var g=(c=b("adsCreateStoreSelector"))([b("AdsAdgroupCombinedStore")],function(a){return b("AdsAdgroupCombinedStore").getRecord(a).getValue()},e.id+".adgroupSelector"),h={isSlideshowSelectedSelector:c([],function(){return!1},e.id+".isSlideshowSelectedSelector")},i=c([b("AdsAdgroupValidationBootloadedStore")],function(a){return b("AdsAdgroupValidationBootloadedStore").getErrorSpec([a])},e.id+".adgroupErrorMessageSpecSelector_DEPRECATED"),j=c([b("AdsAdgroupValidationBootloadedStore")],function(a){return b("AdsAdgroupValidationBootloadedStore").getErrors(a)},e.id+".adgroupErrorsSelector");e.exports=a}),null);
__d("AdsEditingAdgroupEditorContext",["AdsApplicationUtils","AdsEditingAdgroupContext","AdsUEditorContextFactory","CrStConstants","adsCreateSelector","adsMgmtAdgroupSelectedIdsSelector"],(function(a,b,c,d,e,f){"use strict";var g=[b("CrStConstants").FIXED_ADGROUP_ID];a=b("adsCreateSelector")([b("adsMgmtAdgroupSelectedIdsSelector")],function(a){return b("AdsApplicationUtils").isCreativeStudio()?g:a},{name:e.id+".selectedIDsSelector"});c=b("AdsUEditorContextFactory").getForIDsSelector(b("AdsEditingAdgroupContext"),a);e.exports=c}),null);
__d("AdsUEditorAdgroupSelectors",["codedError","AdsAPICampaignRecordUtils","AdsChildAttachmentsUtils","AdsCustomCarouselTabUtils","AdsPlacementEligibilityInfoUtils","AdsPromotedObjectTypeUIProvider","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","Result","adsCreateSelector","adsMemoizeByReference","adsUEditorAccountSelector_LEGACY","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorBlockListAccountListSelector","adsUEditorSelectedAdgroupIDsSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin;c=(a=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupIDsSelector")],function(a){return a.length<=1},{name:e.id+".isSingularSelector"});f=a([b("adsUEditorAccountSelector_LEGACY"),b("adsUEditorBlockListAccountListSelector"),d=b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,c,d){return b("immutable").Map(d.map(function(d){var e,f=d.campaignGroup.buying_type,g=d.campaignGroup.objective;e=(e=d.campaign)!=null?(e=e.promoted_object)!=null?e.object_store_url:e:e;f=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(d.campaign,f,a.capabilities,g,c,e);return[d.adgroup.id,f]}))},{name:e.id+".placementEligibilityInfoMap"});var i=a([f],function(a){return b("immutable").Map(a.map(function(a){return a.spec}))},{name:e.id+".placementSpecsMap"}),j=a([d],function(a){__p&&__p();if(a.length===0)return b("Result").withSuccess(0);var c=b("AdsChildAttachmentsUtils").getChildAttachmentCount(a[0].adgroup,h(a[0]));if(c.success!==!0)return c;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=b("AdsChildAttachmentsUtils").getChildAttachmentCount(f.adgroup,h(f));if(f.success!==!0)return f;if(c.value!==f.value)return b("Result").withError(g._(2016069,function(a){return a._("Carousel Length Mismatch")},function(a,b){return a._("It was expected for the carousel in each of the selected Ads to have the same number of cards")},{}))}return c},{name:e.id+".uniformChildAttachmentCount"}),k=a([d,j],function(a,c){__p&&__p();if(a.length===0)return b("Result").withSuccess(0);c=b("AdsCustomCarouselTabUtils").getCarouselTabCount(a[0]);if(c.success!==!0)return c;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=b("AdsCustomCarouselTabUtils").getCarouselTabCount(f);if(f.success!==!0)return f;if(c.value!==f.value)return b("Result").withError(g._(2016069,function(a){return a._("Carousel Length Mismatch")},function(a,b){return a._("It was expected for the carousel in each of the selected Ads to have the same number of cards")},{}))}return c},{name:e.id+".uniformCarouselTabCount"}),l=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.some(a)},{name:e.id})},m=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.every(a)},{name:e.id})},n=function(a){return b("adsCreateSelector")([l(a)],function(a){return!a},{name:e.id})},o=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.filter(a)},{name:e.id})},p=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.map(a)},{name:e.id})},q=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(c){return b("immutable").Map(c.map(function(b,c,d){return[b.adgroup.id,a(b,c,d)]}))},{name:e.id})},r=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.some(function(b){return a(b.adgroup,h(b))})},{name:e.id})},s=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.every(function(b){return a(b.adgroup,h(b))})},{name:e.id})},t=function(a){return b("adsCreateSelector")([r(a)],function(a){return!a},{name:e.id})},u=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.filter(function(b){return a(b.adgroup,h(b))}).map(function(a){a=a.adgroup;return a})},{name:e.id})},v=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.map(function(b){return a(b.adgroup,h(b))})},{name:e.id})},w=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(c){return b("immutable").Map(c.map(function(b,c,d){return[b.adgroup.id,a(b.adgroup,h(b))]}))},{name:e.id})};a=a([d,b("AdsPromotedObjectTypeUIProvider").toFluxSelector()],function(a,c){return b("immutable").Map(a.map(function(a){var d=a.campaignGroup,e=a.campaign;a=a.adgroup;d=d.objective;var f=c.get(e.id);return[a.id,b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,e,f)]}))},{name:e.id+".derivedPromotedObjectTypesMap"});c={isSingularSelector:c,placementEligibilityInfoMap:f,placementSpecsMap:i,derivedPromotedObjectTypesMap:a,uniformChildAttachmentCount:j,uniformCarouselTabCount:k,adObjectsList:{some:(d=b("adsMemoizeByReference"))(l,e.id),every:d(m,e.id),none:d(n,e.id),filter:d(o,e.id),map:d(p,e.id),mapTransform:d(q,e.id)},adgroups:{some:d(r,e.id),every:d(s,e.id),none:d(t,e.id),filter:d(u,e.id),map:d(v,e.id),mapTransform:d(w,e.id)}};e.exports=c}),null);
__d("AdsFeedApplicabilityUtils",["AdsPlacementAPISpecReaderUtils","adsPlacementAPISpecReaderIsActiveFacebookPosition","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec,h=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement;function a(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(g(a),"facebook")}function c(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook")}function d(a){return b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a,"instream_video")}function f(a){return h(a)}e.exports={hasFacebookPlacement:a,placementSpecHasFacebookPlacement:c,placementSpecHasFacebookInstreamVideoPlacement:d,placementSpecHasFacebookInstreamVideosPlacementOnly:f}}),null);
__d("AdsInstagramIdentityUtils",["AdsLoadStateUtils_LEGACY"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a;if(!d)return!0;if(!d.is_published){if(c)return!0;if(b.length===0)return!0}return b.some(function(a){return a.id===d.id})}function c(a,c,d){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return null;var e=c.page_backed_instagram_accounts;c=c.instagram_accounts;if((!a||d)&&c&&c.data&&c.data.length>0)return c.data[0];return e&&e.data&&e.data.length>0?e.data[0]:null}function d(a,c){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return!1;c=c.instagram_accounts;c=(c==null?void 0:(c=c.data)==null?void 0:c.length)||0;return!a&&c>0}e.exports={getEligibleInstagramAccount:c,isSelectedInstagramAccountAvailable:a,hasPublishedPageConnectedInstagramAccounts:d}}),null);
__d("AdsUEditorCampaignInstagramSelectors",["AdsAPIAccountPaths","AdsAPIObjectives","isFalsey","AdsBusinessInstagramAccountProvider","AdsCPBUtils","AdsFeedApplicabilityUtils","AdsInstagramApplicabilityUtils","AdsInstagramAvailability","AdsInstagramIdentityUtils","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsPageInstagramAccountStore","AdsPlacementsInstagramFeedPositionPlugin","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignSelectors","AdsUniformValue","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector_LEGACY","adsUEditorAdObjectsForSelectedAdgroupsSelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsBusinessInstagramAccountProvider").toFluxStore();a=b("AdsUEditorCampaignSelectors").eligibilityInformation;c=b("AdsUEditorCampaignSelectors").eligibilityInformationArray;var i={loadState:b("AdsLoadState_LEGACY").LOADED,data:[]};d=b("adsCreateStoreSelector")([].concat(b("adsUEditorAccountSelector_LEGACY").getStores(),[h]),function(){var a=b("adsUEditorAccountSelector_LEGACY")(),c=a.business;return!c?i:b("AdsLoadStateUtils_LEGACY").fromLoadObjectTreatEmptyAsLoading(h.getState().get(b("getByPath")(a,b("AdsAPIAccountPaths").ACCOUNT_ID)))},e.id+".businessInstagramAccounts");f=b("adsCreateStoreSelector")(function(a){return[].concat(b("adsUEditorAccountSelector_LEGACY").getStores(),b("AdsUEditorAdgroupBulkSelectors").pageID.getStores(a),[b("AdsPageInstagramAccountStore")])},function(a){__p&&__p();a=b("AdsUEditorAdgroupBulkSelectors").pageID(a);if(!(a instanceof b("AdsUniformValue")))return null;a=a.getValue();if(b("isFalsey")(a))return null;a=b("AdsPageInstagramAccountStore").get(a);if(!b("AdsLoadStateUtils_LEGACY").isLoaded(a))return null;var c=b("adsUEditorAccountSelector_LEGACY")();c=b("AdsInstagramIdentityUtils").getEligibleInstagramAccount(!!c.business,a);return c&&c.id?c.id:null},e.id+".eligibleInstagramAccountID");var j=(g=b("adsCreateSelector"))([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(a)})},{name:e.id}),k=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(a)})},{name:e.id}),l=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacementOnly(a)})},{name:e.id}),m=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacementOnly(a)})},{name:e.id}),n=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsFeedApplicabilityUtils").placementSpecHasFacebookPlacement(a)})},{name:e.id});a=g([b("adsUEditorAccountSelector_LEGACY"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),a],function(a,c,d){__p&&__p();var e=c.some(function(a){var c=a.campaign;a=a.campaignGroup;var d=a.objective;return b("AdsCPBUtils").isCPBCampaign(a,c)&&(d===b("AdsAPIObjectives").LINK_CLICKS||d===b("AdsAPIObjectives").CONVERSIONS)});d=d&&b("AdsPlacementsInstagramFeedPositionPlugin").getIneligibilityReason(d);c=c.every(function(c){c=c.campaignGroup;c=c.objective;return b("AdsInstagramAvailability").supportsObjective(c,a.capabilities)});return c&&!e&&!d},{name:e.id});var o=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramIGTVPlacementOnly(a)})},{name:e.id}),p=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(a)})},{name:e.id}),q=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStreamPlacementOnly(a)})},{name:e.id}),r=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasIGTVPlacement(a)})},{name:e.id}),s=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramIGTVPlacementOnly(a)})},{name:e.id}),t=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasStoryPlacement(a)})},{name:e.id}),u=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(a)})},{name:e.id});c=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasStreamPlacement(a)})},{name:e.id});g=g([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.every(function(a){a=a.adgroup;return b("AdsInstagramApplicabilityUtils").hasInstagramActor(a)})},{name:e.id});e.exports={allHaveInstagramActor:g,allHaveInstagramPlacement:k,allHaveInstagramPlacementOnly:m,allHaveInstagramIGTVPlacementOnly:o,allHaveInstagramStoryPlacementOnly:p,allHaveInstagramStreamPlacementOnly:q,businessInstagramAccounts:d,eligibleInstagramAccountID:f,isInstagramEligibile:a,someHaveInstagramPlacement:j,someHaveInstagramPlacementOnly:l,someHaveInstagramIGTVPlacement:r,someHaveInstagramIGTVPlacementOnly:s,someHaveInstagramStoryPlacement:t,someHaveInstagramStoryPlacementOnly:u,someHaveInstagramStreamPlacement:c,someHaveFacebookPlacement:n}}),null);
__d("AdsCallToActionTypesUtils",["AdsCallToActionTypesCond","AdsLegacyObjectivesUtils","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){__p&&__p();var a={},c=function(c){if(!Object.prototype.hasOwnProperty.call(b("AdsCallToActionTypesCond").TYPES,c))return"continue";var d=b("AdsCallToActionTypesCond").TYPES[c];c=d.objectives;c.forEach(function(b){a[b]||(a[b]=[]),a[b].push(d)})};for(var d in b("AdsCallToActionTypesCond").TYPES){var e=c(d);if(e==="continue")continue}for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&a[f].sort(function(a,b){return a.name.localeCompare(b.name)});return a}var g=a();c={typesForObjective:function(a,c,d){if(b("isFalsey")(a))return[];a=b("AdsLegacyObjectivesUtils").convertToLegacyAppObjectives_HACK(a,c,d);return g[a]?g[a].slice(0):[]}};e.exports=c}),null);
__d("AdsMovieAdsUtils",["AdsAPIBillingEvents","AdsAPIObjectives","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={MOVIE_ID_PLACEHOLDER:"",canSupportMovieOption:function(a){__p&&__p();return a.every(function(a){__p&&__p();var c,d,e=a.campaignGroup.objective;c=(c=a.campaign.promoted_object)==null?void 0:c.offer_id;d=(d=a.adgroup.creative)==null?void 0:d.object_type;var f=a.campaign.billing_event;a=(a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.movie_id;if(b("isTruthy")(a))return!0;if(d!=="VIDEO")return!1;return b("isTruthy")(c)?!1:e===b("AdsAPIObjectives").VIDEO_VIEWS||e===b("AdsAPIObjectives").LINK_CLICKS&&f!==b("AdsAPIBillingEvents").LINK_CLICKS||e===b("AdsAPIObjectives").CONVERSIONS&&f!==b("AdsAPIBillingEvents").LINK_CLICKS})},generateMovieURL:function(a){return"www.facebook.com/movies/"+a.toString()+"/?ref_surface=ad&ref_mechanism=surface"},isMovieAds:function(a){a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.movie_id;return a!=null}};e.exports=a}),null);
__d("AdsPageLikeUtils",["AdsAdgroupUtils","AdsAPIAdgroupPaths","AdsAPIObjectives","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={convertPageTabLinkAndPageToLinkUrl:function(a,b){return a+b.split("/").slice(2).join("/")},isPageLikeVideo:function(a,c){if(c===b("AdsAPIObjectives").PAGE_LIKES){c=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);a=b("AdsAdgroupUtils").getMediaFormatForObjectType(c);if(a==="VIDEO")return!0}return!1},isPageLikeCTAType:function(a){return a!==null&&a!==""&&a==="LIKE_PAGE"}};e.exports=a}),null);
__d("AdsPlacementTestHelpers",["AdsAccountUtils","AdsAPICampaignRecord","AdsAPIObjectives","AdsBuyingTypes","AdsPromotedObjectTypes","LoadObject","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={imageAdsPreviewVideo:"1294653877303942",videoAdsPreviewVideo:"10150013094781918"};function a(a,c,d,e,f){return{type:"placements/platform",key:f||"platform/example",name:function(){return"Example"},isEnabled:function(){return a},positions:b("immutable").OrderedSet(c||[]),apiPublisherPlatform:d,apiPositionsTargetField:e}}function c(a,c,d,e,f,g){e===void 0&&(e="feed");return{type:"placements/position",key:g||"position/example",name:"Example",nameWithPlatform:"Facebook Example Position",platformKey:"facebook",apiPosition:e,isEnabled:function(){return a},getIneligibilityReason:function(a){return c?null:{type:"GENERIC"}},getPlacementSpecificPreviewInfo:function(){return null},isActive:function(a){return d},isInactiveByDefault:f||void 0,positions:b("immutable").OrderedSet([])}}function d(a,c,d){return{type:"placements/position",key:d||"group/example",name:"Example",nameWithPlatform:"Facebook Example Position",platformKey:"facebook",apiPosition:"instream_video",isEnabled:function(){return a},isActive:function(a){return!0},positions:b("immutable").OrderedSet(c||[]),getIneligibilityReason:function(a){return null},getPlacementSpecificPreviewInfo:function(a){return b("AdsAccountUtils").hasCapabilityFromList(a,"CAN_SEE_INSTREAM_VIDEO_L2_IMAGE_PREVIEW")?g:null}}}function f(a){return babelHelpers["extends"]({capabilities:[],objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").WEBSITE,buyingType:b("AdsBuyingTypes").AUCTION,spec:{}},a||{})}function h(a,c,d){c=b("immutable").Map({1:b("LoadObject").withValue(new(b("AdsAPICampaignRecord"))({id:"1",targeting:c}))});a=b("nullthrows")(a.adsetReducer);return a(c,{action:d}).get("1").getValue().toJS()}function i(a,b){return{formatType:a,categories:b}}e.exports={createExampleAdFormat:i,createExamplePlatformPlugin:a,createExamplePositionPlugin:c,createExampleEligibilityInformation:f,createFBInstreamVideoExampleGroupPlugin:d,InstreamPlacementFormatSpecificVideoPreviewInfo:g,testReducer:h}}),null);
__d("AdsReachFrequencyCreativeFormatUtils",["invariant","AdsAPICampaignRecord","AdsBuyingTypes","AdsPlacementTestHelpers","AdsReachFrequencyCreativeFormatPlugins","AdsReachFrequencyRestrictedFormatTypes","FDSThreeStateCheckboxEnum","LoadObject","StrSet","adsCampaignGetID","adsPlacementAPISpecReaderIsActivePublisherPlatform","adsReachFrequencyCreativeFormatGetFormatLabels","adsReachFrequencyCreativeFormatGetNewCampaignState","adsReachFrequencyCreativeFormatIsSelectedFromFlags","getByPath","immutable","memoize"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsReachFrequencyRestrictedFormatTypes").RestrictedFormats,i=["UNSPECIFIED","CANVAS","VIDEO","VIDEO_360","PHOTO_360","STORIES_CAROUSEL"];a=function(a){a=new(b("AdsAPICampaignRecord"))(a);var c=b("adsCampaignGetID")(a);return b("immutable").Map([[c,b("LoadObject").creating().setValue(a)]])};var j=function(a,b){return b.get(a).getValueEnforcing()},k="store-state-with-ig",l=a({id:k,targeting:{publisher_platforms:["instagram"],instagram_positions:["story","stream"]}}),m={getReadableFormatsFromBitVector:function(a,c,d,e){return b("adsReachFrequencyCreativeFormatGetFormatLabels")(b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(b){var f=m.fromBitVector(a);return b.isEligible(c,d,e)&&m.getEffectiveValue(b,f,c,{},d)}),!0)},getFormatTypeFromPluginValue:function(a){switch(a){case 0:return h.UNSPECIFIED;case 128:return h.VIDEO;case 256:return h.CANVAS;case 512:return h.VIDEO_360;case 1024:return h.PHOTO_360;case 2048:return h.STORIES_CAROUSEL;default:g(0,12807)}},getFormatSpecsFromFlags:function(a,c,d,e,f){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().sort(function(a,b){return i.findIndex(function(b){return b===a.key})-i.findIndex(function(a){return a===b.key})}).map(function(g){return{disabled:!g.isRequired(c,d,e),isEligible:g.isEligible(c,e,f),label:g.label,selectionStatus:m.getEffectiveValue(g,a,c,d,e)?b("FDSThreeStateCheckboxEnum").CHECKED:b("FDSThreeStateCheckboxEnum").UNCHECKED,tooltipContent:g.getTooltipContent(c,d,e),value:m.getFormatTypeFromPluginValue(g.value)}})},getIncompatibleFormatsForPost:function(a,c){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(b){return!m.isSelectedFromVector(b,c)&&b.isIncompatibleWithPost(a)})},isIncompatibleWithMockup:function(a,c){var d=c.story_event_type||0;return b("AdsReachFrequencyCreativeFormatPlugins").getArray().some(function(b){return!m.isSelectedFromVector(b,d)&&b.isIncompatibleWithMockup(a)})},isPagePostEligibleWithStoryEventType:function(a,b){return m.getIncompatibleFormatsForPost(a,b).length===0},isSelectedFormatFromVector:function(a,c){return m.isSelectedFromVector(b("AdsReachFrequencyCreativeFormatPlugins").get(a),c)},isSelectedFromVector:function(a,b){return!!(a.value&b)},isRequired:function(a,c,d){return b("AdsReachFrequencyCreativeFormatPlugins").get(a).isRequired(c,d)},getEffectiveValue:function(a,c,d,e,f){return a.isRequired(d,e,f)?b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(a,c):a.getDefaultValue(d,e,f)},areVectorsEqual:function(a,c,d,e){var f=m.fromBitVector(a),g=m.fromBitVector(c);return b("AdsReachFrequencyCreativeFormatPlugins").getArray().every(function(a){return m.getEffectiveValue(a,f,d,e)===m.getEffectiveValue(a,g,d,e)})},getErrorsForPost:function(a,c){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(b,d){d=!m.isSelectedFromVector(d,a)&&d.isIncompatibleWithPost(c)?d.getErrors():[];return b.concat(d)},[])},getEffectiveVector:function(a,c,d){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(b,e){var f;e.isRequired(c,d)?f=m.isSelectedFromVector(e,a)?e.value:0:f=e.getDefaultValue(c,d)?e.value:0;return b+f},0)},getDefaultVector:function(a,c,d){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(b,e){return b+(e.getDefaultValue(a,c,d)?e.value:0)},0)},toBitVector:function(a){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(c,d){return c+(b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(d,a)?d.value:0)},0)},fromBitVector:function(a){var c={canvasFlag:!1,photo360Flag:!1,video360Flag:!1,videoFlag:!1,storiesCarouselFlag:!1};b("AdsReachFrequencyCreativeFormatPlugins").getArray().forEach(function(b){b.key!=="UNSPECIFIED"&&(c[b.flag]=m.isSelectedFromVector(b,a))});return c},isSelectedFromEligibilityInfo:function(a,c){a=b("AdsReachFrequencyCreativeFormatPlugins").get(a);return b("getByPath")(c,["rfRestrictedFormatFlags",a.flag],!1)},isOnlySelectedFromFlags:function(a,c){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().every(function(d){return d.value!==a&&!b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(d,c)||d.value===a&&b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(d,c)})},reduceFormatVector:function(a,c,d){var e=b("AdsReachFrequencyCreativeFormatPlugins").get(c);if(d===b("FDSThreeStateCheckboxEnum").CHECKED&&!m.isSelectedFromVector(e,a)){c=m.reduceFormatVectorForStoriesCarousel(a,c);return c+e.value}return d===b("FDSThreeStateCheckboxEnum").UNCHECKED&&m.isSelectedFromVector(e,a)?a-e.value:a},reduceFormatVectorForStoriesCarousel:function(a,b){if(b==="STORIES_CAROUSEL"){var c=a;m.isSelectedFormatFromVector("PHOTO_360",a)&&(c-=1024);m.isSelectedFormatFromVector("VIDEO_360",a)&&(c-=512);return c}if(b==="PHOTO_360"&&m.isSelectedFormatFromVector("STORIES_CAROUSEL",a))return a-2048;return b==="VIDEO_360"&&m.isSelectedFormatFromVector("STORIES_CAROUSEL",a)?a-2048:a},getAdFormatWithUpdatedCanvas:function(a,b,c){return a},changeHandler:function(a,c,d){b("AdsReachFrequencyCreativeFormatPlugins").get(a).onChange(c,d)},isIncompatibleWithInstagram:function(a){a=j(k,b("adsReachFrequencyCreativeFormatGetNewCampaignState")([k],a.key,l,b("AdsPlacementTestHelpers").createExampleEligibilityInformation({buyingType:b("AdsBuyingTypes").RESERVED,rfRestrictedFormatFlags:m.fromBitVector(a.value),promotedObjectType:"NONE"}),!0,!1)).toJS();return!b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a.targeting,"instagram")},getIncompatibleFormatsWithInstagram:b("memoize")(function(){return new(b("StrSet"))(b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(a){return m.isIncompatibleWithInstagram(a)}).map(function(a){return a.key}))}),getIncompatibleFormatsWithIntagramForVector:function(a){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(b){return m.isSelectedFromVector(b,a)&&m.getIncompatibleFormatsWithInstagram().contains(b.key)})},getByID:j,getNewCampaignStoreState:a};e.exports=m}),null);
__d("adsReachFrequencyAdFormatsGetStoryEventTypeFromAdFormats",["AdsReachFrequencyAdFormatsConstants","React","adsReachFrequencyAdFormatsUtilsGetHasNonCanvasAdFormats"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsReachFrequencyAdFormatsConstants").AD_FORMATS_TO_RESTRICTED_FORMATS_MAP;function a(a){var c=a.reduce(function(a,b){return a|g[b.formatType]},0);return!b("adsReachFrequencyAdFormatsUtilsGetHasNonCanvasAdFormats")(a)?c|256:c}e.exports=a}),null);
__d("APIcon.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=40,j=40;c=(a=b("React")).jsxs("g",{children:[a.jsx("path",{d:"M 20 2 l 19 32 l -38 0 z",className:"_31vw"}),a.jsx("path",{d:"M 18 11 l 4 0 l -1 14 l -2 0 z",className:"_31v-"}),a.jsx("path",{d:"M 22 27 l 0 4 l -4 0 l 0 -4 z",className:"_31v-"})]});var k={info:a.jsxs("svg",{className:"_31v_",viewBox:"0, 0, 40, 40",children:[a.jsx("circle",{cx:20,cy:20,r:18,className:"_31vw"}),a.jsx("rect",{x:18,y:18,width:4,height:14,className:"_31v-"}),a.jsx("circle",{cx:20,cy:11,r:2.5,className:"_31v-"})]}),success:a.jsxs("svg",{className:"_31w0",viewBox:"0, 0, 40, 40",children:[a.jsx("circle",{cx:20,cy:20,r:18,className:"_31vw"}),a.jsx("path",{d:"M 9 22 l 7 7 l 15 -15",fill:"none",className:"_31v-"})]}),error:a.jsx("svg",{className:"_31w1",viewBox:"0, 0, 40, 40",children:c}),warning:a.jsx("svg",{className:"_31w2",viewBox:"0, 0, 40, 40",children:c}),apLogo:a.jsxs("svg",{className:"_48hp",viewBox:"0, 0, 40, 40",children:[a.jsx("circle",{cx:13,cy:14,r:11.5,strokeWidth:2.5,fill:"none"}),a.jsx("circle",{cx:27,cy:14,r:11.5,strokeWidth:2.5,fill:"none"}),a.jsx("circle",{cx:20,cy:26,r:11.5,strokeWidth:2.5,fill:"none"})]}),dataSet:a.jsxs("svg",{className:"_48hq",viewBox:"0, 0, 40, 40",children:[a.jsx("circle",{cx:7,cy:6,r:4.7,stroke:"none"}),a.jsx("circle",{cx:20,cy:6,r:4.7,stroke:"none"}),a.jsx("circle",{cx:33,cy:6,r:4.7,stroke:"none"}),a.jsx("circle",{cx:13.5,cy:18,r:4.7,stroke:"none"}),a.jsx("circle",{cx:26.5,cy:18,r:4.7,stroke:"none"}),a.jsx("circle",{cx:20,cy:30,r:4.7,stroke:"none"})]}),add:a.jsxs("svg",{className:"_5fkp",viewBox:"0, 0, 40, 40",children:[a.jsx("rect",{x:1,y:1,width:38,height:38,rx:4,ry:4}),a.jsx("line",{x1:20,y1:12,x2:20,y2:28}),a.jsx("line",{x1:12,y1:20,x2:28,y2:20})]}),remove:a.jsxs("svg",{className:"_5fkp",viewBox:"0, 0, 40, 40",children:[a.jsx("rect",{x:1,y:1,width:38,height:38,rx:4,ry:4}),a.jsx("line",{x1:15,y1:15,x2:25,y2:25}),a.jsx("line",{x1:25,y1:15,x2:15,y2:25})]})};d=function(a){var c=b("joinClasses")("_31w3"+(a.inverted&&a.inverted===!0?" _31w4":"")+(a.animation==="fadeIn"?" _31w5":"")+(a.animation==="bounceIn"?" _31w6":""),a.className),d=isNaN(a.width)?i:a.width,e=isNaN(a.height)?j:a.height;a=k[a.shape];a||h(0,4846);return b("React").jsx("div",{className:c,style:{width:d,height:e},children:a})};e.exports=d}),null);
__d("BUIFormText.react",["cx","BUIComponent","BUIText_DEPRECATED.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("BUIText_DEPRECATED.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_2l13")}))};return c}(b("BUIComponent"));a.propTypes=babelHelpers["extends"]({},b("BUIText_DEPRECATED.react").propTypes);e.exports=a}),null);
__d("ProductsTimeLoggingActions",["ProductsTimeLoggingLogAction","ProductsTimeLoggingSetAction"],(function(a,b,c,d,e,f){"use strict";var g="page_load";a={setInitialTime:function(a,c){a===void 0&&(a=g),c===void 0&&(c=!0),b("ProductsTimeLoggingSetAction").dispatch({data:{key:a,logFirstLoadOnly:c}},{line:"31",module:"ProductsTimeLoggingActions.js"})},logDelay:function(a,c,d,e,f,h){e===void 0&&(e=g),f===void 0&&(f=!0),h===void 0&&(h=void 0),b("ProductsTimeLoggingLogAction").dispatch({data:{catalogID:a,component:c,key:e,event:d,logFirstLoadOnly:f,logger:h}},{line:"55",module:"ProductsTimeLoggingActions.js"})}};e.exports=a}),null);
__d("ProductsTimeLoggingStore",["AdsDataAtom","CatalogBusinessEventsLoggerHelper","FluxReduceStore","ProductsActionTypes","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{initialTimes:{},logged:{}}};d.reduce=function(a,c){__p&&__p();var d;c=c.action;switch(c.type){case b("ProductsActionTypes").TIME_LOGGING.SET:return c.data.logFirstLoadOnly&&a.initialTimes[c.data.key]?a:{initialTimes:babelHelpers["extends"]({},a.initialTimes,(d={},d[c.data.key]=(g||(g=b("performanceNow")))(),d)),logged:a.logged};case b("ProductsActionTypes").TIME_LOGGING.LOG:if(c.data.logFirstLoadOnly&&a.logged[c.data.key])return a;c.data.logger?d=c.data.logger:d=c.data.catalogID?b("CatalogBusinessEventsLoggerHelper").getCatalogHomeLogger(c.data.catalogID):b("CatalogBusinessEventsLoggerHelper").getCatalogCreationLogger();d.setEvent(c.data.event).setTimeTakenInMs(Math.ceil((g||(g=b("performanceNow")))()-a.initialTimes[c.data.key])).setActionData({component:c.data.component}).log();return{initialTimes:a.initialTimes,logged:babelHelpers["extends"]({},a.logged,(d={},d[c.data.key]=!0,d))};default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("logComponentLoadingTime",["ProductAppContextStore","ProductsTimeLoggingActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){d===void 0&&(d=!1);e===void 0&&(e=void 0);f===void 0&&(f=function(a){return a.isLoading});var g="component:"+a;b("ProductsTimeLoggingActions").setInitialTime(g);c=c();f(c)||(b("ProductsTimeLoggingActions").logDelay(b("ProductAppContextStore").getCatalogID(),a,"products_component_load_time",g,!0,e),d&&b("ProductsTimeLoggingActions").logDelay(b("ProductAppContextStore").getCatalogID(),a,"catalog_home_page_load_delay"));return c}e.exports=a}),null);
__d("compose",[],(function(a,b,c,d,e,f){function g(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(b.length<2)throw new Error("Compose expects two or more functions as arguments.");var d=b.reverse(),e=d[0],f=d[1],h=d.slice(2),i=function(){return f(e.apply(void 0,arguments))};return h.length===0?i:g.apply(void 0,[i].concat(h).reverse())}e.exports=g}),null);
__d("NonURLLinkCTATypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",CALL_ME:"CALL_ME",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",MESSAGE_PAGE:"MESSAGE_PAGE",SAVE:"SAVE",GET_OFFER_VIEW:"GET_OFFER_VIEW",GET_OFFER:"GET_OFFER"})}),null);